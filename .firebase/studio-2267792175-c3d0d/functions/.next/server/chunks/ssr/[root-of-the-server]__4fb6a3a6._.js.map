{"version":3,"sources":["../../../../node_modules/shared/src/utils.ts","../../../../node_modules/lucide-react/src/defaultAttributes.ts","../../../../node_modules/lucide-react/src/createLucideIcon.ts","../../../../node_modules/lucide-react/src/Icon.ts","../../../../node_modules/%40swc/helpers/cjs/_interop_require_wildcard.cjs","../../../../node_modules/next/src/shared/lib/segment.ts","../../../../node_modules/class-variance-authority/dist/index.mjs","../../../../src/firebase/client-provider.tsx","../../../../src/firebase/errors.ts","../../../../src/firebase/firestore/use-doc.tsx","../../../../src/firebase/non-blocking-updates.tsx","../../../../src/firebase/index.ts","../../../../src/firebase/config.ts","../../../../src/firebase/firestore/use-collection.tsx","../../../../src/firebase/non-blocking-login.tsx","../../../../node_modules/firebase/app/index.ts"],"sourcesContent":["import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props,\n    }),\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) => {\n    return createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    );\n  },\n);\n\nexport default Icon;\n","\"use strict\";\n\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) return obj;\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") return { default: obj };\n\n    var cache = _getRequireWildcardCache(nodeInterop);\n\n    if (cache && cache.has(obj)) return cache.get(obj);\n\n    var newObj = { __proto__: null };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n            else newObj[key] = obj[key];\n        }\n    }\n\n    newObj.default = obj;\n\n    if (cache) cache.set(obj, newObj);\n\n    return newObj;\n}\nexports._ = _interop_require_wildcard;\n","import type { FlightRouterState, Segment } from './app-router-types'\n\nexport function getSegmentValue(segment: Segment) {\n  return Array.isArray(segment) ? segment[1] : segment\n}\n\nexport function isGroupSegment(segment: string) {\n  // Use array[0] for performant purpose\n  return segment[0] === '(' && segment.endsWith(')')\n}\n\nexport function isParallelRouteSegment(segment: string) {\n  return segment.startsWith('@') && segment !== '@children'\n}\n\nexport function addSearchParamsIfPageSegment(\n  segment: Segment,\n  searchParams: Record<string, string | string[] | undefined>\n) {\n  const isPageSegment = segment.includes(PAGE_SEGMENT_KEY)\n\n  if (isPageSegment) {\n    const stringifiedQuery = JSON.stringify(searchParams)\n    return stringifiedQuery !== '{}'\n      ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery\n      : PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n\nexport function computeSelectedLayoutSegment(\n  segments: string[] | null,\n  parallelRouteKey: string\n): string | null {\n  if (!segments || segments.length === 0) {\n    return null\n  }\n\n  // For 'children', use first segment; for other parallel routes, use last segment\n  const rawSegment =\n    parallelRouteKey === 'children'\n      ? segments[0]\n      : segments[segments.length - 1]\n\n  // If the default slot is showing, return null since it's not technically \"selected\" (it's a fallback)\n  // Returning an internal value like `__DEFAULT__` would be confusing\n  return rawSegment === DEFAULT_SEGMENT_KEY ? null : rawSegment\n}\n\n/** Get the canonical parameters from the current level to the leaf node. */\nexport function getSelectedLayoutSegmentPath(\n  tree: FlightRouterState,\n  parallelRouteKey: string,\n  first = true,\n  segmentPath: string[] = []\n): string[] {\n  let node: FlightRouterState\n  if (first) {\n    // Use the provided parallel route key on the first parallel route\n    node = tree[1][parallelRouteKey]\n  } else {\n    // After first parallel route prefer children, if there's no children pick the first parallel route.\n    const parallelRoutes = tree[1]\n    node = parallelRoutes.children ?? Object.values(parallelRoutes)[0]\n  }\n\n  if (!node) return segmentPath\n  const segment = node[0]\n\n  let segmentValue = getSegmentValue(segment)\n\n  if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) {\n    return segmentPath\n  }\n\n  segmentPath.push(segmentValue)\n\n  return getSelectedLayoutSegmentPath(\n    node,\n    parallelRouteKey,\n    false,\n    segmentPath\n  )\n}\n\nexport const PAGE_SEGMENT_KEY = '__PAGE__'\nexport const DEFAULT_SEGMENT_KEY = '__DEFAULT__'\nexport const NOT_FOUND_SEGMENT_KEY = '/_not-found'\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","'use client';\r\n\r\nimport React, { useMemo, type ReactNode } from 'react';\r\nimport { FirebaseProvider } from '@/firebase/provider';\r\nimport { initializeFirebase } from '@/firebase';\r\n\r\ninterface FirebaseClientProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function FirebaseClientProvider({ children }: FirebaseClientProviderProps) {\r\n  const firebaseServices = useMemo(() => {\r\n    // Initialize Firebase on the client side, once per component mount.\r\n    return initializeFirebase();\r\n  }, []); // Empty dependency array ensures this runs only once on mount\r\n\r\n  return (\r\n    <FirebaseProvider\r\n      firebaseApp={firebaseServices.firebaseApp}\r\n      auth={firebaseServices.auth}\r\n      firestore={firebaseServices.firestore}\r\n    >\r\n      {children}\r\n    </FirebaseProvider>\r\n  );\r\n}\r\n\r\n","'use client';\r\nimport { getAuth, type User } from 'firebase/auth';\r\n\r\ntype SecurityRuleContext = {\r\n  path: string;\r\n  operation: 'get' | 'list' | 'create' | 'update' | 'delete' | 'write';\r\n  requestResourceData?: unknown;\r\n};\r\n\r\ninterface FirebaseAuthToken {\r\n  name: string | null;\r\n  email: string | null;\r\n  email_verified: boolean;\r\n  phone_number: string | null;\r\n  sub: string;\r\n  firebase: {\r\n    identities: Record<string, string[]>;\r\n    sign_in_provider: string;\r\n    tenant: string | null;\r\n  };\r\n}\r\n\r\ninterface FirebaseAuthObject {\r\n  uid: string;\r\n  token: FirebaseAuthToken;\r\n}\r\n\r\ninterface SecurityRuleRequest {\r\n  auth: FirebaseAuthObject | null;\r\n  method: string;\r\n  path: string;\r\n  resource?: {\r\n    data: unknown;\r\n  };\r\n}\r\n\r\n/**\r\n * Builds a security-rule-compliant auth object from the Firebase User.\r\n * @param currentUser The currently authenticated Firebase user.\r\n * @returns An object that mirrors request.auth in security rules, or null.\r\n */\r\nfunction buildAuthObject(currentUser: User | null): FirebaseAuthObject | null {\r\n  if (!currentUser) {\r\n    return null;\r\n  }\r\n\r\n  const token: FirebaseAuthToken = {\r\n    name: currentUser.displayName,\r\n    email: currentUser.email,\r\n    email_verified: currentUser.emailVerified,\r\n    phone_number: currentUser.phoneNumber,\r\n    sub: currentUser.uid,\r\n    firebase: {\r\n      identities: currentUser.providerData.reduce((acc, p) => {\r\n        if (p.providerId) {\r\n          acc[p.providerId] = [p.uid];\r\n        }\r\n        return acc;\r\n      }, {} as Record<string, string[]>),\r\n      sign_in_provider: currentUser.providerData[0]?.providerId || 'custom',\r\n      tenant: currentUser.tenantId,\r\n    },\r\n  };\r\n\r\n  return {\r\n    uid: currentUser.uid,\r\n    token: token,\r\n  };\r\n}\r\n\r\n/**\r\n * Builds the complete, simulated request object for the error message.\r\n * It safely tries to get the current authenticated user.\r\n * @param context The context of the failed Firestore operation.\r\n * @returns A structured request object.\r\n */\r\nfunction buildRequestObject(context: SecurityRuleContext): SecurityRuleRequest {\r\n  let authObject: FirebaseAuthObject | null = null;\r\n  try {\r\n    // Safely attempt to get the current user.\r\n    const firebaseAuth = getAuth();\r\n    const currentUser = firebaseAuth.currentUser;\r\n    if (currentUser) {\r\n      authObject = buildAuthObject(currentUser);\r\n    }\r\n  } catch (error: unknown) {\r\n    // This will catch errors if the Firebase app is not yet initialized.\r\n    // In this case, we'll proceed without auth information.\r\n  }\r\n\r\n  return {\r\n    auth: authObject,\r\n    method: context.operation,\r\n    path: `/databases/(default)/documents/${context.path}`,\r\n    resource: context.requestResourceData ? { data: context.requestResourceData } : undefined,\r\n  };\r\n}\r\n\r\n/**\r\n * Builds the final, formatted error message for the LLM.\r\n * @param requestObject The simulated request object.\r\n * @returns A string containing the error message and the JSON payload.\r\n */\r\nfunction buildErrorMessage(requestObject: SecurityRuleRequest): string {\r\n  return `Missing or insufficient permissions: The following request was denied by Firestore Security Rules:\r\n${JSON.stringify(requestObject, null, 2)}`;\r\n}\r\n\r\n/**\r\n * A custom error class designed to be consumed by an LLM for debugging.\r\n * It structures the error information to mimic the request object\r\n * available in Firestore Security Rules.\r\n */\r\nexport class FirestorePermissionError extends Error {\r\n  public readonly request: SecurityRuleRequest;\r\n\r\n  constructor(context: SecurityRuleContext) {\r\n    const requestObject = buildRequestObject(context);\r\n    super(buildErrorMessage(requestObject));\r\n    this.name = 'FirebaseError';\r\n    this.request = requestObject;\r\n  }\r\n}\r\n\r\n\r\n","'use client';\r\n    \r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  DocumentReference,\r\n  onSnapshot,\r\n  DocumentData,\r\n  FirestoreError,\r\n  DocumentSnapshot,\r\n} from 'firebase/firestore';\r\nimport { errorEmitter } from '@/firebase/error-emitter';\r\nimport { FirestorePermissionError } from '@/firebase/errors';\r\n\r\n/** Utility type to add an 'id' field to a given type T. */\r\ntype WithId<T> = T & { id: string };\r\n\r\n/**\r\n * Interface for the return value of the useDoc hook.\r\n * @template T Type of the document data.\r\n */\r\nexport interface UseDocResult<T> {\r\n  data: WithId<T> | null; // Document data with ID, or null.\r\n  isLoading: boolean;       // True if loading.\r\n  error: FirestoreError | Error | null; // Error object, or null.\r\n  refetch: () => void; // Function to manually trigger a refetch.\r\n}\r\n\r\n/**\r\n * React hook to subscribe to a single Firestore document in real-time.\r\n * Handles nullable references.\r\n * \r\n * IMPORTANT! YOU MUST MEMOIZE the inputted memoizedTargetRefOrQuery or BAD THINGS WILL HAPPEN\r\n * use useMemo to memoize it per React guidence.  Also make sure that it's dependencies are stable\r\n * references\r\n *\r\n *\r\n * @template T Optional type for document data. Defaults to any.\r\n * @param {DocumentReference<DocumentData> | null | undefined} docRef -\r\n * The Firestore DocumentReference. Waits if null/undefined.\r\n * @returns {UseDocResult<T>} Object with data, isLoading, error, and refetch function.\r\n */\r\nexport function useDoc<T = any>(\r\n  memoizedDocRef: DocumentReference<DocumentData> | null | undefined,\r\n): UseDocResult<T> {\r\n  type StateDataType = WithId<T> | null;\r\n\r\n  const [data, setData] = useState<StateDataType>(null);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<FirestoreError | Error | null>(null);\r\n  const [refetchKey, setRefetchKey] = useState(0);\r\n\r\n  const refetch = useCallback(() => {\r\n    setRefetchKey(prev => prev + 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!memoizedDocRef) {\r\n      setData(null);\r\n      setIsLoading(false);\r\n      setError(null);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    const unsubscribe = onSnapshot(\r\n      memoizedDocRef,\r\n      (snapshot: DocumentSnapshot<DocumentData>) => {\r\n        if (snapshot.exists()) {\r\n          setData({ ...(snapshot.data() as T), id: snapshot.id });\r\n        } else {\r\n          setData(null);\r\n        }\r\n        setError(null);\r\n        setIsLoading(false);\r\n      },\r\n      (error: FirestoreError) => {\r\n        const contextualError = new FirestorePermissionError({\r\n          operation: 'get',\r\n          path: memoizedDocRef.path,\r\n        })\r\n\r\n        setError(contextualError)\r\n        setData(null)\r\n        setIsLoading(false)\r\n\r\n        errorEmitter.emit('permission-error', contextualError);\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [memoizedDocRef, refetchKey]); // Re-run if the memoizedDocRef or refetchKey changes.\r\n\r\n  return { data, isLoading, error, refetch };\r\n}\r\n\r\n    \r\n\r\n","'use client';\r\n\r\nimport {\r\n  setDoc,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  CollectionReference,\r\n  DocumentReference,\r\n  SetOptions,\r\n} from 'firebase/firestore';\r\nimport { errorEmitter } from '@/firebase/error-emitter';\r\nimport { FirestorePermissionError } from '@/firebase/errors';\r\n\r\n/**\r\n * Initiates a setDoc operation for a document reference.\r\n * Does NOT await the write operation internally.\r\n */\r\nexport function setDocumentNonBlocking(docRef: DocumentReference, data: unknown, options: SetOptions) {\r\n  setDoc(docRef, data as any, options).catch((error: unknown) => {\r\n    errorEmitter.emit(\r\n      'permission-error',\r\n      new FirestorePermissionError({\r\n        path: docRef.path,\r\n        operation: 'write', // or 'create'/'update' based on options\r\n        requestResourceData: data,\r\n      })\r\n    )\r\n  })\r\n  // Execution continues immediately\r\n}\r\n\r\n\r\n/**\r\n * Initiates an addDoc operation for a collection reference.\r\n * Does NOT await the write operation internally.\r\n * Returns the Promise for the new doc ref, but typically not awaited by caller.\r\n */\r\nexport function addDocumentNonBlocking(colRef: CollectionReference, data: unknown) {\r\n  const promise = addDoc(colRef, data as any)\r\n    .catch((error: unknown) => {\r\n      errorEmitter.emit(\r\n        'permission-error',\r\n        new FirestorePermissionError({\r\n          path: colRef.path,\r\n          operation: 'create',\r\n          requestResourceData: data,\r\n        })\r\n      )\r\n    });\r\n  return promise;\r\n}\r\n\r\n\r\n/**\r\n * Initiates an updateDoc operation for a document reference.\r\n * Does NOT await the write operation internally.\r\n */\r\nexport function updateDocumentNonBlocking(docRef: DocumentReference, data: unknown) {\r\n  updateDoc(docRef, data as any)\r\n    .catch((error: unknown) => {\r\n      errorEmitter.emit(\r\n        'permission-error',\r\n        new FirestorePermissionError({\r\n          path: docRef.path,\r\n          operation: 'update',\r\n          requestResourceData: data,\r\n        })\r\n      )\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * Initiates a deleteDoc operation for a document reference.\r\n * Does NOT await the write operation internally.\r\n */\r\nexport function deleteDocumentNonBlocking(docRef: DocumentReference) {\r\n  deleteDoc(docRef)\r\n    .catch((error: unknown) => {\r\n      errorEmitter.emit(\r\n        'permission-error',\r\n        new FirestorePermissionError({\r\n          path: docRef.path,\r\n          operation: 'delete',\r\n        })\r\n      )\r\n    });\r\n}\r\n\r\n","'use client';\r\n\r\nimport { firebaseConfig } from '@/firebase/config';\r\nimport { initializeApp, getApps, getApp, FirebaseApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore'\r\nimport { getStorage } from 'firebase/storage';\r\n\r\n// IMPORTANT: DO NOT MODIFY THIS FUNCTION\r\nexport function initializeFirebase() {\r\n  if (!getApps().length) {\r\n    // Important! initializeApp() is called without any arguments because Firebase App Hosting\r\n    // integrates with the initializeApp() function to provide the environment variables needed to\r\n    // populate the FirebaseOptions in production. It is critical that we attempt to call initializeApp()\r\n    // without arguments.\r\n    let firebaseApp;\r\n    try {\r\n      // Attempt to initialize via Firebase App Hosting environment variables\r\n      firebaseApp = initializeApp();\r\n    } catch (e) {\r\n      // Silence the \"no-options\" warning during production build as it's expected behavior\r\n      // when running on a platform that doesn't provide automatic config (like local build)\r\n      const isNoOptionsError = (e as any)?.code === 'app/no-options';\r\n      if (process.env.NODE_ENV === \"production\" && !isNoOptionsError) {\r\n        console.warn('Automatic initialization failed. Falling back to firebase config object.', e);\r\n      }\r\n      firebaseApp = initializeApp(firebaseConfig);\r\n    }\r\n\r\n    return getSdks(firebaseApp);\r\n  }\r\n\r\n  // If already initialized, return the SDKs with the already initialized App\r\n  return getSdks(getApp());\r\n}\r\n\r\nexport function getSdks(firebaseApp: FirebaseApp) {\r\n  return {\r\n    firebaseApp,\r\n    auth: getAuth(firebaseApp),\r\n    firestore: getFirestore(firebaseApp),\r\n    storage: getStorage(firebaseApp)\r\n  };\r\n}\r\n\r\nexport * from './provider';\r\nexport * from './client-provider';\r\nexport * from './firestore/use-collection';\r\nexport * from './firestore/use-doc';\r\nexport * from './non-blocking-updates';\r\nexport * from './non-blocking-login';\r\nexport * from './errors';\r\nexport * from './error-emitter';\r\n\r\n\r\n","export const firebaseConfig = {\r\n  \"projectId\": \"studio-2267792175-c3d0d\",\r\n  \"appId\": \"1:300603419642:web:45d0d0f2168c0180e41243\",\r\n  \"storageBucket\": \"studio-2267792175-c3d0d.firebasestorage.app\",\r\n  \"apiKey\": \"AIzaSyCO-2ySCn-hSI606tvGfXrF8Jhxxcv5glk\",\r\n  \"authDomain\": \"studio-2267792175-c3d0d.firebaseapp.com\",\r\n  \"measurementId\": \"\",\r\n  \"messagingSenderId\": \"300603419642\"\r\n};\r\n\r\n\r\n","\r\n'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Query,\r\n  onSnapshot,\r\n  DocumentData,\r\n  FirestoreError,\r\n  QuerySnapshot,\r\n  CollectionReference,\r\n} from 'firebase/firestore';\r\nimport { errorEmitter } from '@/firebase/error-emitter';\r\nimport { FirestorePermissionError } from '@/firebase/errors';\r\n\r\n/** Utility type to add an 'id' field to a given type T. */\r\nexport type WithId<T> = T & { id: string };\r\n\r\n/**\r\n * Interface for the return value of the useCollection hook.\r\n * @template T Type of the document data.\r\n */\r\nexport interface UseCollectionResult<T> {\r\n  data: WithId<T>[] | null; // Document data with ID, or null.\r\n  isLoading: boolean;       // True if loading.\r\n  error: FirestoreError | Error | null; // Error object, or null.\r\n  refetch: () => void;      // Function to manually trigger a refetch.\r\n}\r\n\r\n/* Internal implementation of Query:\r\n  https://github.com/firebase/firebase-js-sdk/blob/c5f08a9bc5da0d2b0207802c972d53724ccef055/packages/firestore/src/lite-api/reference.ts#L143\r\n*/\r\nexport interface InternalQuery extends Query<DocumentData> {\r\n  _query: {\r\n    path: {\r\n      canonicalString(): string;\r\n      toString(): string;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * React hook to subscribe to a Firestore collection or query in real-time.\r\n * Handles nullable references/queries.\r\n * \r\n *\r\n * IMPORTANT! YOU MUST MEMOIZE the inputted memoizedTargetRefOrQuery or BAD THINGS WILL HAPPEN\r\n * use useMemo to memoize it per React guidence.  Also make sure that it's dependencies are stable\r\n * references\r\n *  \r\n * @template T Optional type for document data. Defaults to any.\r\n * @param {CollectionReference<DocumentData> | Query<DocumentData> | null | undefined} targetRefOrQuery -\r\n * The Firestore CollectionReference or Query. Waits if null/undefined.\r\n * @returns {UseCollectionResult<T>} Object with data, isLoading, error.\r\n */\r\nexport function useCollection<T = any>(\r\n    memoizedTargetRefOrQuery: ((CollectionReference<DocumentData> | Query<DocumentData>) & {__memo?: boolean})  | null | undefined,\r\n): UseCollectionResult<T> {\r\n  type ResultItemType = WithId<T>;\r\n  type StateDataType = ResultItemType[] | null;\r\n\r\n  const [data, setData] = useState<StateDataType>(null);\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<FirestoreError | Error | null>(null);\r\n  const [refetchKey, setRefetchKey] = useState(0);\r\n\r\n  const refetch = useCallback(() => {\r\n    setRefetchKey(prev => prev + 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!memoizedTargetRefOrQuery) {\r\n      setData(null);\r\n      setIsLoading(false);\r\n      setError(null);\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    // Directly use memoizedTargetRefOrQuery as it's assumed to be the final query\r\n    const unsubscribe = onSnapshot(\r\n      memoizedTargetRefOrQuery,\r\n      (snapshot: QuerySnapshot<DocumentData>) => {\r\n        const results: ResultItemType[] = [];\r\n        for (const doc of snapshot.docs) {\r\n          results.push({ ...(doc.data() as T), id: doc.id });\r\n        }\r\n        setData(results);\r\n        setError(null);\r\n        setIsLoading(false);\r\n      },\r\n      (error: FirestoreError) => {\r\n        // This logic extracts the path from either a ref or a query\r\n        const path: string =\r\n          memoizedTargetRefOrQuery.type === 'collection'\r\n            ? (memoizedTargetRefOrQuery as CollectionReference).path\r\n            : (memoizedTargetRefOrQuery as unknown as InternalQuery)._query.path.toString();\r\n\r\n        const contextualError = new FirestorePermissionError({\r\n          operation: 'list',\r\n          path,\r\n        });\r\n\r\n        setError(contextualError);\r\n        setData(null);\r\n        setIsLoading(false);\r\n\r\n        // trigger global error propagation\r\n        errorEmitter.emit('permission-error', contextualError);\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [memoizedTargetRefOrQuery, refetchKey]); // Re-run if the target query/reference or refetchKey changes.\r\n\r\n  if(memoizedTargetRefOrQuery && !memoizedTargetRefOrQuery.__memo) {\r\n    throw new Error('useCollection query was not properly memoized using useMemoFirebase. This can cause infinite loops and unnecessary Firestore reads.');\r\n  }\r\n\r\n  return { data, isLoading, error, refetch };\r\n}\r\n\r\n\r\n","\r\n'use client';\r\nimport {\r\n  Auth,\r\n  signInAnonymously,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  UserCredential,\r\n} from 'firebase/auth';\r\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\r\nimport { getSdks } from '.';\r\nimport type { Toast } from '@/hooks/use-toast';\r\nimport { FirestorePermissionError, errorEmitter } from '@/firebase';\r\n\r\n/** Initiate anonymous sign-in (non-blocking). */\r\nexport function initiateAnonymousSignIn(authInstance: Auth): void {\r\n  signInAnonymously(authInstance);\r\n}\r\n\r\n/** Initiate email/password sign-up (non-blocking). */\r\nexport function initiateEmailSignUp(authInstance: Auth, email: string, password: string): Promise<UserCredential> {\r\n  return createUserWithEmailAndPassword(authInstance, email, password);\r\n}\r\n\r\n/** Initiate email/password sign-in. Returns a promise that resolves on success or rejects on error. */\r\nexport function initiateEmailSignIn(\r\n    authInstance: Auth, \r\n    email: string, \r\n    password: string, \r\n): Promise<UserCredential> {\r\n  return signInWithEmailAndPassword(authInstance, email, password);\r\n}\r\n\r\n/** Initiate Google sign-in. */\r\nexport function initiateGoogleSignIn(\r\n  auth: Auth, \r\n  userType: 'student' | 'landlord',\r\n  onSuccess: (uid: string, isNewUser: boolean) => void,\r\n  toast: (options: any) => void\r\n): void {\r\n  const provider = new GoogleAuthProvider();\r\n  signInWithPopup(auth, provider)\r\n    .then(async (result) => {\r\n      const user = result.user;\r\n      const { firestore } = getSdks(auth.app);\r\n      const userDocRef = doc(firestore, 'users', user.uid);\r\n      \r\n      try {\r\n        const userDoc = await getDoc(userDocRef);\r\n        const isNewUser = !userDoc.exists();\r\n\r\n        if (isNewUser) {\r\n          const newUserProfile = {\r\n            id: user.uid,\r\n            name: user.displayName || 'Anonymous',\r\n            email: user.email,\r\n            role: userType,\r\n            profileImageUrl: user.photoURL || `https://i.pravatar.cc/150?u=${user.uid}`,\r\n          };\r\n          // Temporarily store profile for the login page to handle\r\n          sessionStorage.setItem('newUserProfile', JSON.stringify(newUserProfile));\r\n        }\r\n        \r\n        onSuccess(user.uid, isNewUser);\r\n\r\n      } catch (error) {\r\n        console.error(\"Error during Google sign-in user setup:\", error);\r\n         if (error instanceof FirestorePermissionError) {\r\n             errorEmitter.emit('permission-error', error);\r\n         } else {\r\n            toast({\r\n                variant: \"destructive\",\r\n                title: \"Sign In Failed\",\r\n                description: \"Could not set up your user profile. Please try again.\",\r\n            });\r\n         }\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.error(`Google Sign-In Error (${errorCode}):`, errorMessage);\r\n      toast({\r\n          variant: \"destructive\",\r\n          title: \"Google Sign-In Failed\",\r\n          description: errorMessage,\r\n      });\r\n    });\r\n}\r\n\r\n\r\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { registerVersion } from '@firebase/app';\nimport { name, version } from '../package.json';\n\nregisterVersion(name, version, 'app');\nexport * from '@firebase/app';\n"],"names":["DEFAULT_SEGMENT_KEY","NOT_FOUND_SEGMENT_KEY","PAGE_SEGMENT_KEY","addSearchParamsIfPageSegment","computeSelectedLayoutSegment","getSegmentValue","getSelectedLayoutSegmentPath","isGroupSegment","isParallelRouteSegment","segment","Array","isArray","endsWith","startsWith","searchParams","isPageSegment","includes","stringifiedQuery","JSON","stringify","segments","parallelRouteKey","length","rawSegment","tree","first","segmentPath","node","parallelRoutes","children","Object","values","segmentValue","push"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,15]}