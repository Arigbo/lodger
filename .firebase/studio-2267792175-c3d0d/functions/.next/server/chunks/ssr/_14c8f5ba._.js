module.exports=[32860,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},54243,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33441),e=a.i(37539),f=a.i(15618),g=a.i(23690),h=a.i(99570),i=a.i(19622),j=a.i(99209),k=a.i(14574),l=a.i(66718),m=a.i(70430);a.i(79597);var n=a.i(36505);a.i(69387);var o=a.i(60574),p=a.i(54614),q=a.i(5975),r=a.i(33937);function s({value:a,onChange:s,placeholder:t="Select university...",emptyText:u="School not found.",className:v,disabled:w=!1}){let[x,y]=c.useState(!1),[z,A]=c.useState([]),[B,C]=c.useState(""),[D,E]=c.useState(!1),F=(0,n.useFirestore)(),{toast:G}=(0,p.useToast)(),[H,I]=c.useState(!1),[J,K]=c.useState(""),[L,M]=c.useState(""),[N,O]=c.useState(""),[P,Q]=c.useState(""),[R,S]=c.useState(!1);c.useEffect(()=>{if(!F)return;let a=async()=>{E(!0);try{let a,b=(0,o.collection)(F,"schools");a=B.trim()?(0,o.query)(b,(0,o.orderBy)("name"),(0,o.startAt)(B),(0,o.endAt)(B+"ï£¿"),(0,o.limit)(20)):(0,o.query)(b,(0,o.orderBy)("name"),(0,o.limit)(20));let c=(await (0,o.getDocs)(a)).docs.map(a=>({id:a.id,value:a.data().name,label:a.data().name}));A(c)}catch(a){console.error("Error fetching schools:",a)}finally{E(!1)}},b=setTimeout(()=>{a()},300);return()=>clearTimeout(b)},[B,F]);let T=async()=>{if(!J||!N||!L)return void G({variant:"destructive",title:"Missing Fields",description:"Please fill in Name, City, and Country."});if(!F)return void G({variant:"destructive",title:"System Error",description:"Database connection not available."});S(!0);try{let a=(0,o.collection)(F,"schools");await (0,o.addDoc)(a,{name:J,city:L,country:N,state:P||null,createdAt:new Date().toISOString()}),s(J),C(""),I(!1),K(""),M(""),Q(""),O(""),G({title:"School Added",description:`${J} has been added to our database.`})}catch(a){console.error("Error adding school:",a),G({variant:"destructive",title:"Error",description:"Failed to add school. Please try again."})}finally{S(!1)}},U=c.useMemo(()=>N?(r.countries.find(a=>a.name===N)?.states||[]).map(a=>a.name):[],[N]);return(0,b.jsxs)(k.Dialog,{open:H,onOpenChange:I,children:[(0,b.jsxs)(j.Popover,{open:x,onOpenChange:y,modal:!1,children:[(0,b.jsx)(j.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{variant:"outline",role:"combobox","aria-expanded":x,className:(0,g.cn)("w-full justify-between",v,!a&&"text-muted-foreground"),disabled:w,children:[a||t,(0,b.jsx)(e.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,b.jsx)(j.PopoverContent,{className:"w-[--radix-popover-trigger-width] p-0 z-[300]",onOpenAutoFocus:a=>a.preventDefault(),children:(0,b.jsxs)(i.Command,{shouldFilter:!1,children:[(0,b.jsx)(i.CommandInput,{placeholder:"Search university...",value:B,onValueChange:C}),(0,b.jsxs)(i.CommandList,{children:[(0,b.jsxs)(i.CommandEmpty,{className:"p-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:u}),(0,b.jsxs)(h.Button,{size:"sm",variant:"secondary",className:"w-full text-xs h-7",onClick:()=>{K(B),y(!1),I(!0)},children:[(0,b.jsx)(f.Plus,{className:"mr-1 h-3 w-3"}),' Add "',B||"New School",'"']})]}),(0,b.jsx)(i.CommandGroup,{children:z.map(c=>(0,b.jsxs)(i.CommandItem,{value:c.label,onPointerDown:a=>{a.preventDefault()},onSelect:b=>{s(b===a?"":b),y(!1)},onClick:()=>{s(c.label===a?"":c.label),y(!1)},children:[(0,b.jsx)(d.Check,{className:(0,g.cn)("mr-2 h-4 w-4",a===c.value?"opacity-100":"opacity-0")}),c.label]},c.id))})]})]})})]}),(0,b.jsxs)(k.DialogContent,{className:"sm:max-w-md w-[95vw] border-2 shadow-lg",children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Add New School"}),(0,b.jsx)(k.DialogDescription,{children:"Can't find your university? Add it to our database."})]}),(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(m.Label,{htmlFor:"name",children:"University Name"}),(0,b.jsx)(l.Input,{id:"name",value:J,onChange:a=>K(a.target.value),placeholder:"e.g. University of Example"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(m.Label,{children:"Country"}),(0,b.jsx)(q.Combobox,{options:r.countries.map(a=>({label:a.name,value:a.name})),value:N,onChange:O,placeholder:"Select Country"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(m.Label,{children:"State / Province"}),(0,b.jsx)(q.Combobox,{options:U.map(a=>({label:a,value:a})),value:P,onChange:Q,placeholder:"Select State",disabled:!N||0===U.length})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(m.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(l.Input,{id:"city",value:L,onChange:a=>M(a.target.value),placeholder:"e.g. London"})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>I(!1),disabled:R,children:"Cancel"}),(0,b.jsx)(h.Button,{onClick:T,disabled:R,children:R?"Adding...":"Add School"})]})]})]})}a.s(["SchoolCombobox",()=>s])},74618,a=>{"use strict";let b=(0,a.i(70106).default)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);a.s(["UploadCloud",()=>b],74618)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)}];

//# sourceMappingURL=_14c8f5ba._.js.map