module.exports=[87043,a=>{"use strict";var b=a.i(87924),c=a.i(91119),d=a.i(99570),e=a.i(38246);a.i(79597);var f=a.i(36505),g=a.i(73810);a.i(69387);var h=a.i(60574),i=a.i(63910),j=a.i(66351),k=a.i(72131),l=a.i(42816),m=a.i(86304);function n(){let{user:a,isUserLoading:n}=(0,f.useUser)(),o=(0,f.useFirestore)(),[p,q]=k.default.useState([]),[r,s]=k.default.useState(!0),t=(0,f.useMemoFirebase)(()=>a?(0,h.query)((0,h.collection)(o,"leaseAgreements"),(0,h.where)("tenantId","==",a.uid),(0,h.where)("status","in",["active","pending","terminating"])):null,[a,o]),{data:u,isLoading:v}=(0,g.useCollection)(t);return(k.default.useEffect(()=>{v||(u&&o?(async()=>{if(0===u.length){q([]),s(!1);return}let a=u.map(a=>a.propertyId);if(0===a.length){q([]),s(!1);return}let b=function(a,b){let c=[];for(let b=0;b<a.length;b+=30)c.push(a.slice(b,b+30));return c}(a,0),c=[];for(let a of b){let b=(0,h.query)((0,h.collection)(o,"properties"),(0,h.where)((0,h.documentId)(),"in",a));(await (0,h.getDocs)(b)).forEach(a=>{c.push(a.data())})}q(c),s(!1)})():s(!1))},[u,v,o]),n||r)?(0,b.jsx)(l.default,{}):(0,b.jsxs)("div",{className:"space-y-12",children:[(0,b.jsx)("div",{className:"flex flex-col items-start justify-between gap-6 sm:flex-row sm:items-center",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("h1",{className:"font-headline text-4xl font-extrabold tracking-tight text-foreground",children:["My Tenancies ",(0,b.jsx)(i.Building,{className:"inline h-8 w-8 text-primary/40 ml-2"})]}),(0,b.jsx)("p",{className:"text-lg font-medium text-muted-foreground/80",children:"Manage your active rental agreements and track your home details."})]})}),p&&p.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-10 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3",children:p.map((a,c)=>(0,b.jsxs)(e.default,{href:`/student/tenancy/${a.id}`,className:"group block animate-in fade-in slide-in-from-bottom-6 duration-700 hover:-translate-y-2 transition-all",style:{animationDelay:`${100*c}ms`},children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.default,{property:a,as:"div"}),(0,b.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,b.jsx)(m.Badge,{className:"bg-white/90 backdrop-blur-md text-primary font-black px-4 py-1.5 rounded-full shadow-xl border-none tracking-tighter uppercase text-[10px]",children:"Active Tenancy"})})]}),(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between px-2",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-primary group-hover:underline underline-offset-4 decoration-2",children:"Manage Tenancy →"}),(0,b.jsxs)("span",{className:"text-xs font-bold text-muted-foreground/60",children:[a.type," • ",a.bedrooms," Bed"]})]})]},a.id))}):(0,b.jsx)(c.Card,{className:"overflow-hidden border-none bg-white shadow-xl shadow-black/[0.02]",children:(0,b.jsxs)(c.CardContent,{className:"flex flex-col items-center justify-center py-24 text-center",children:[(0,b.jsxs)("div",{className:"relative mb-10",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/10 blur-3xl rounded-full scale-150 animate-pulse"}),(0,b.jsx)("div",{className:"relative flex h-32 w-32 items-center justify-center rounded-[2.5rem] bg-muted/30 transition-transform hover:scale-110 hover:rotate-3",children:(0,b.jsx)(i.Building,{className:"h-16 w-16 text-primary opacity-20"})})]}),(0,b.jsx)("h2",{className:"text-3xl font-black tracking-tight",children:"No Active Tenancies"}),(0,b.jsx)("p",{className:"mx-auto mt-4 max-w-sm text-lg font-medium text-muted-foreground/80 leading-relaxed",children:"Once your rental application is approved and the lease is signed, your home details will appear here."}),(0,b.jsx)(d.Button,{size:"lg",className:"mt-10 rounded-2xl px-10 font-bold",asChild:!0,children:(0,b.jsx)(e.default,{href:"/student/properties",children:"Start Searching"})})]})})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=src_app_student_tenancy_page_tsx_3e69e3d7._.js.map