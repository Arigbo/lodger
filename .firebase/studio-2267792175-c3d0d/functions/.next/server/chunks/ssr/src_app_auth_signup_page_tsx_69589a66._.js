module.exports=[71758,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(63563),h=a.i(99570),i=a.i(91119),j=a.i(41921),k=a.i(66718),l=a.i(7554),m=a.i(70121),n=a.i(50104),o=a.i(30553),p=a.i(24050),q=a.i(25152),r=a.i(7827),s=a.i(3688),t=a.i(77994),u=a.i(77192),v="Radio",[w,x]=(0,n.createContextScope)(v),[y,z]=w(v),A=c.forwardRef((a,d)=>{let{__scopeRadio:e,name:f,checked:g=!1,required:h,disabled:i,value:j="on",onCheck:k,form:n,...p}=a,[q,r]=c.useState(null),s=(0,m.useComposedRefs)(d,a=>r(a)),t=c.useRef(!1),u=!q||n||!!q.closest("form");return(0,b.jsxs)(y,{scope:e,checked:g,disabled:i,children:[(0,b.jsx)(o.Primitive.button,{type:"button",role:"radio","aria-checked":g,"data-state":E(g),"data-disabled":i?"":void 0,disabled:i,value:j,...p,ref:s,onClick:(0,l.composeEventHandlers)(a.onClick,a=>{g||k?.(),u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})}),u&&(0,b.jsx)(D,{control:q,bubbles:!t.current,name:f,value:j,checked:g,required:h,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});A.displayName=v;var B="RadioIndicator",C=c.forwardRef((a,c)=>{let{__scopeRadio:d,forceMount:e,...f}=a,g=z(B,d);return(0,b.jsx)(u.Presence,{present:e||g.checked,children:(0,b.jsx)(o.Primitive.span,{"data-state":E(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c})})});C.displayName=B;var D=c.forwardRef(({__scopeRadio:a,control:d,checked:e,bubbles:f=!0,...g},h)=>{let i=c.useRef(null),j=(0,m.useComposedRefs)(i,h),k=(0,t.usePrevious)(e),l=(0,s.useSize)(d);return c.useEffect(()=>{let a=i.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)(o.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...g.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function E(a){return a?"checked":"unchecked"}D.displayName="RadioBubbleInput";var F=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G="RadioGroup",[H,I]=(0,n.createContextScope)(G,[p.createRovingFocusGroupScope,x]),J=(0,p.createRovingFocusGroupScope)(),K=x(),[L,M]=H(G),N=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,name:e,defaultValue:f,value:g,required:h=!1,disabled:i=!1,orientation:j,dir:k,loop:l=!0,onValueChange:m,...n}=a,s=J(d),t=(0,r.useDirection)(k),[u,v]=(0,q.useControllableState)({prop:g,defaultProp:f??null,onChange:m,caller:G});return(0,b.jsx)(L,{scope:d,name:e,required:h,disabled:i,value:u,onValueChange:v,children:(0,b.jsx)(p.Root,{asChild:!0,...s,orientation:j,dir:t,loop:l,children:(0,b.jsx)(o.Primitive.div,{role:"radiogroup","aria-required":h,"aria-orientation":j,"data-disabled":i?"":void 0,dir:t,...n,ref:c})})})});N.displayName=G;var O="RadioGroupItem",P=c.forwardRef((a,d)=>{let{__scopeRadioGroup:e,disabled:f,...g}=a,h=M(O,e),i=h.disabled||f,j=J(e),k=K(e),n=c.useRef(null),o=(0,m.useComposedRefs)(d,n),q=h.value===g.value,r=c.useRef(!1);return c.useEffect(()=>{let a=a=>{F.includes(a.key)&&(r.current=!0)},b=()=>r.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,b.jsx)(p.Item,{asChild:!0,...j,focusable:!i,active:q,children:(0,b.jsx)(A,{disabled:i,required:h.required,checked:q,...k,...g,name:h.name,ref:o,onCheck:()=>h.onValueChange(g.value),onKeyDown:(0,l.composeEventHandlers)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,l.composeEventHandlers)(g.onFocus,()=>{r.current&&n.current?.click()})})})});P.displayName=O;var Q=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,...e}=a,f=K(d);return(0,b.jsx)(C,{...f,...e,ref:c})});Q.displayName="RadioGroupIndicator";var R=a.i(65151),S=a.i(23690);let T=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(N,{className:(0,S.cn)("grid gap-2",a),...c,ref:d}));T.displayName=N.displayName;let U=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(P,{ref:d,className:(0,S.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(Q,{className:"flex items-center justify-center",children:(0,b.jsx)(R.Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));U.displayName=P.displayName;var V=a.i(70430),W=a.i(5975),X=a.i(38246),Y=a.i(77156),Z=a.i(70106);let $=(0,Z.default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var _=a.i(210),aa=a.i(32860),ab=a.i(74618);let ac=(0,Z.default)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var ad=a.i(96221),ae=a.i(33508);a.i(35112);var af=a.i(11011),ag=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=(0,af.createSlot)(`Primitive.${d}`),f=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{}),ah="Progress",[ai,aj]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f);g.displayName=d+"Context";let h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(ah),[ak,al]=ai(ah),am=c.forwardRef((a,c)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=ap,...j}=a;(h||0===h)&&!as(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=as(h)?h:100;null===g||at(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=at(g,k)?g:null,m=ar(l)?i(l,k):void 0;return(0,b.jsx)(ak,{scope:f,value:l,max:k,children:(0,b.jsx)(ag.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":ar(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":aq(l,k),"data-value":l??void 0,"data-max":k,...j,ref:c})})});am.displayName=ah;var an="ProgressIndicator",ao=c.forwardRef((a,c)=>{let{__scopeProgress:d,...e}=a,f=al(an,d);return(0,b.jsx)(ag.div,{"data-state":aq(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:c})});function ap(a,b){return`${Math.round(a/b*100)}%`}function aq(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function ar(a){return"number"==typeof a}function as(a){return ar(a)&&!isNaN(a)&&a>0}function at(a,b){return ar(a)&&!isNaN(a)&&a<=b&&a>=0}ao.displayName=an;let au=c.forwardRef(({className:a,value:c,...d},e)=>(0,b.jsx)(am,{ref:e,className:(0,S.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,b.jsx)(ao,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})}));au.displayName=am.displayName;var av=a.i(36505),aw=a.i(54614);a.i(79597);var ax=a.i(46537),ay=a.i(33937);a.i(60121);var az=a.i(5420);a.i(69387);var aA=a.i(60574),aB=a.i(54243);let aC=g.object({userType:g.enum(["student","landlord"]),name:g.string().min(2,"Name must be at least 2 characters."),legalName:g.string().min(2,"Legal Name is required for contracts."),email:g.string().email("Invalid email address."),password:g.string().min(8,"Password must be at least 8 characters."),confirmPassword:g.string(),phone:g.string().min(10,"Valid phone number is required."),whatsappUrl:g.string().url("Please enter a valid URL.").optional().or(g.literal("")),twitterUrl:g.string().url("Please enter a valid URL.").optional().or(g.literal("")),country:g.string().optional(),state:g.string().optional(),school:g.string().optional()}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}).refine(a=>"student"!==a.userType||!!a.country,{message:"Country is required.",path:["country"]}).refine(a=>"student"!==a.userType||!!a.state,{message:"State is required.",path:["state"]}).refine(a=>"student"!==a.userType||!!a.school,{message:"School is required.",path:["school"]});function aD(){let[a,g]=(0,c.useState)(1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),t=(0,c.useRef)(null),u=(0,d.useRouter)(),v=(0,av.useAuth)(),w=(0,av.useFirestore)(),x=(0,av.useFirebaseApp)(),{toast:y}=(0,aw.useToast)(),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)([]),D=(0,e.useForm)({resolver:(0,f.zodResolver)(aC),defaultValues:{userType:"student",name:"",legalName:"",email:"",password:"",confirmPassword:""}}),{setError:E,watch:F}=D,G=F("userType"),H=F("country");(0,c.useEffect)(()=>{if(H){let a=ay.countries.find(a=>a.name===H);A(a||null),C(a?.states||[])}else A(null),C([])},[H]);let I="student"===G?[{id:1,name:"Choose Account Type",fields:["userType"]},{id:2,name:"Account Details",fields:["name","legalName","email","password","confirmPassword"]},{id:3,name:"Location & Contact",fields:["country","state","school","phone"]},{id:4,name:"Profile Picture (Optional)",fields:[]}]:[{id:1,name:"Choose Account Type",fields:["userType"]},{id:2,name:"Account Details",fields:["name","legalName","email","password","confirmPassword"]},{id:3,name:"Location & Contact",fields:["country","state","phone","whatsappUrl","twitterUrl"]},{id:4,name:"Profile Picture (Optional)",fields:[]}],J=I.length,K=async()=>{let b=I[a-1].fields;await D.trigger(b,{shouldFocus:!0})&&a<J&&g(a=>a+1)},L=async b=>{if(a<J)return void g(a=>a+1);if(!v||!w)return void y({variant:"destructive",title:"System Error",description:"Firebase services are not available."});try{let a=(await (0,ax.initiateEmailSignUp)(v,b.email,b.password)).user.uid,c=null;if(p)try{let b=(0,az.getStorage)(x),d=(0,az.ref)(b,`users/${a}/profile-picture`);await (0,az.uploadBytes)(d,p,{contentType:p.type,cacheControl:"public, max-age=3600"}),c=await (0,az.getDownloadURL)(d)}catch(a){console.error("Error uploading profile image:",a),y({title:"Profile created",description:"Account created but profile picture upload failed. You can upload it later."})}let d={id:a,name:b.name,legalName:b.legalName,email:b.email,role:b.userType,profileImageUrl:c,country:b.country||null,state:b.state||null,school:b.school||null,phone:b.phone||null,whatsappUrl:b.whatsappUrl||null,twitterUrl:b.twitterUrl||null,bio:"",createdAt:new Date().toISOString()};await (0,aA.setDoc)((0,aA.doc)(w,"users",a),d),y({title:"Account Created!",description:"Welcome to Lodger! Please sign in."}),u.push("/auth/login")}catch(a){console.error("Signup error:",a),"auth/email-already-in-use"===a.code?(E("email",{type:"manual",message:"This email address is already in use. Please try another one."}),g(2)):a.code&&a.code.includes("permission-denied")?y({variant:"destructive",title:"Access Denied",description:"Your account was authenticated but we couldn't create your profile due to permission rules. Please contact support."}):y({variant:"destructive",title:"Registration Failed",description:a.message||"There was a problem creating your account. Please try again."})}};return(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background px-4 py-12",children:(0,b.jsxs)(i.Card,{className:"w-full max-w-lg",children:[(0,b.jsxs)(i.CardHeader,{className:"text-center",children:[(0,b.jsx)(i.CardTitle,{className:"font-headline text-3xl",children:"Create an Account"}),(0,b.jsx)(i.CardDescription,{children:"Join our community of students and landlords."})]}),(0,b.jsxs)(i.CardContent,{children:[(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsx)(au,{value:a/J*100}),(0,b.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Step ",a," of ",J,": ",I[a-1].name]})]}),(0,b.jsx)(e.FormProvider,{...D,children:(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),a!==J&&D.handleSubmit(L)(b)},className:"space-y-8",children:[(0,b.jsx)("div",{className:(0,S.cn)(1===a?"block":"hidden"),children:(0,b.jsx)(j.FormField,{control:D.control,name:"userType",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"I am a..."}),(0,b.jsx)(j.FormControl,{children:(0,b.jsxs)(T,{onValueChange:b=>{a.onChange(b),D.reset({...D.getValues(),userType:b,phone:"",whatsappUrl:"",twitterUrl:"",country:"",state:"",school:""})},defaultValue:a.value,className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(U,{value:"student",id:"student",className:"peer sr-only"}),(0,b.jsx)(V.Label,{htmlFor:"student",className:"flex h-full cursor-pointer flex-col items-center justify-center rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:"Student"})]}),(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(U,{value:"landlord",id:"landlord",className:"peer sr-only"}),(0,b.jsx)(V.Label,{htmlFor:"landlord",className:"flex h-full cursor-pointer flex-col items-center justify-center rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary",children:"Landlord"})]})]})}),(0,b.jsx)(j.FormMessage,{})]})})}),(0,b.jsxs)("div",{className:(0,S.cn)("space-y-6",2===a?"block":"hidden"),children:[(0,b.jsx)(j.FormField,{control:D.control,name:"name",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Full Name (Display Name)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"John Doe",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"legalName",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Legal Name (For Contracts)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"Johnathan Doe",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"email",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Email"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"email",placeholder:"name@example.com",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"password",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Password"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.Input,{type:l?"text":"password",...a}),(0,b.jsx)(h.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-0 h-full px-3",onClick:()=>m(!l),children:l?(0,b.jsx)($,{}):(0,b.jsx)(Y.Eye,{})})]})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"confirmPassword",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Confirm Password"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.Input,{type:n?"text":"password",...a}),(0,b.jsx)(h.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-0 h-full px-3",onClick:()=>o(!n),children:n?(0,b.jsx)($,{}):(0,b.jsx)(Y.Eye,{})})]})}),(0,b.jsx)(j.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:(0,S.cn)("space-y-6",3===a?"block":"hidden"),children:["landlord"===G&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tell us where you're based and how tenants can contact you."}),(0,b.jsx)(j.FormField,{control:D.control,name:"country",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Country"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(W.Combobox,{options:ay.countries.map(a=>({label:a.name,value:a.name})),value:a.value,onChange:a.onChange,placeholder:"Select Country",emptyText:"No country found."})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"state",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"State/Province"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(W.Combobox,{options:B.map(a=>({label:a.name,value:a.name})),value:a.value,onChange:a.onChange,placeholder:"Select State",emptyText:"No state found.",disabled:!H})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"phone",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Phone Number (Required)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"tel",placeholder:"(123) 456-7890",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"whatsappUrl",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"WhatsApp URL (Optional)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"url",placeholder:"https://wa.me/11234567890",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"twitterUrl",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"X (Twitter) Profile URL (Optional)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"url",placeholder:"https://x.com/yourprofile",...a})}),(0,b.jsx)(j.FormMessage,{})]})})]}),"student"===G&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Help us find properties near your school."}),(0,b.jsx)(j.FormField,{control:D.control,name:"country",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Country"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(W.Combobox,{options:ay.countries.map(a=>({label:a.name,value:a.name})),value:a.value,onChange:a.onChange,placeholder:"Select Country",emptyText:"No country found."})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,b.jsx)(j.FormField,{control:D.control,name:"state",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"State/Province"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(W.Combobox,{options:B.map(a=>({label:a.name,value:a.name})),value:a.value,onChange:a.onChange,placeholder:"Select State",emptyText:"No state found.",disabled:!H})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"school",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"School"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(aB.SchoolCombobox,{value:a.value,onChange:a.onChange,placeholder:"Select School",emptyText:"No school found."})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:D.control,name:"phone",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"Phone Number (Required)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{type:"tel",placeholder:"(123) 456-7890",...a})}),(0,b.jsx)(j.FormMessage,{})]})})]})]})]}),(0,b.jsxs)("div",{className:(0,S.cn)("space-y-6",4===a?"block":"hidden"),children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Add a Profile Picture"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Help others recognize you! You can skip this step and add it later."})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"h-32 w-32 rounded-full overflow-hidden border-4 border-primary",children:(0,b.jsx)("img",{src:r,alt:"Profile preview",className:"h-full w-full object-cover"})}),(0,b.jsx)(h.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-8 w-8 rounded-full",onClick:()=>{q(null),s(null),t.current&&(t.current.value="")},children:(0,b.jsx)(ae.X,{className:"h-4 w-4"})})]}):(0,b.jsx)("div",{className:"h-32 w-32 rounded-full bg-muted flex items-center justify-center border-2 border-dashed border-muted-foreground/25",children:(0,b.jsx)(ac,{className:"h-16 w-16 text-muted-foreground/50"})}),(0,b.jsx)("input",{ref:t,type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/"))return void y({variant:"destructive",title:"Invalid file type",description:"Please upload a valid image file."});if(b.size>5242880)return void y({variant:"destructive",title:"Image too large",description:"Please upload an image smaller than 5MB."});q(b);let c=new FileReader;c.onloadend=()=>{s(c.result)},c.readAsDataURL(b)}}),(0,b.jsxs)(h.Button,{type:"button",variant:"outline",onClick:()=>t.current?.click(),className:"w-full max-w-xs",children:[(0,b.jsx)(ab.UploadCloud,{className:"mr-2 h-4 w-4"}),r?"Change Picture":"Upload Picture"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Accepted formats: JPG, PNG, WebP (Max 5MB)"})]})]}),(0,b.jsxs)("div",{className:"mt-12 flex flex-col sm:flex-row justify-between gap-4",children:[(0,b.jsxs)(h.Button,{type:"button",variant:"outline",onClick:()=>{a>1&&g(a=>a-1)},className:(0,S.cn)(1===a&&"invisible","w-full sm:w-auto"),children:[(0,b.jsx)(_.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back"]}),a<J?(0,b.jsxs)(h.Button,{type:"button",onClick:K,className:"w-full sm:w-auto",children:["Next ",(0,b.jsx)(aa.ArrowRight,{className:"ml-2 h-4 w-4"})]}):(0,b.jsx)(h.Button,{type:"button",onClick:D.handleSubmit(L),disabled:D.formState.isSubmitting,className:"w-full sm:w-auto",children:D.formState.isSubmitting?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ad.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"})]})]})})]}),(0,b.jsxs)(i.CardFooter,{className:"flex-col gap-4",children:[(0,b.jsxs)("p",{className:"text-center text-xs text-muted-foreground",children:["By creating an account, you agree to our"," ",(0,b.jsx)(X.default,{href:"/terms",className:"underline hover:text-primary",children:"Terms of Service"})," ","and"," ",(0,b.jsx)(X.default,{href:"/privacy",className:"underline hover:text-primary",children:"Privacy Policy"}),"."]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",(0,b.jsx)(X.default,{href:"/auth/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign in"})]})]})]})})}a.s(["default",()=>aD],71758)}];

//# sourceMappingURL=src_app_auth_signup_page_tsx_69589a66._.js.map