module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23690);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},30656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},48711,a=>{"use strict";a.i(69387);var b=a.i(60574);let c=async({toUserId:a,type:c,firestore:d,senderName:e,propertyName:f,propertyTitle:g,tenantName:h,link:i,transactionId:j,customMessage:k})=>{let l="New Notification",m="",n="info",o=i||"#";"OFFLINE_PAYMENT_PENDING"===c&&(l="Offline Payment Submitted",m=`${h||"A tenant"} has submitted an offline payment for ${g||"a property"}. Please verify and accept the transfer in Lease Requests.`,n="warning",o="/landlord/requests");try{let c=(0,b.collection)(d,"notifications");await (0,b.addDoc)(c,{userId:a,title:l,message:m,type:n,read:!1,createdAt:new Date().toISOString(),link:o})}catch(a){console.error("Failed to send notification:",a)}};a.s(["sendNotification",0,c])},4416,a=>{"use strict";let b=(0,a.i(70106).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["ShieldCheck",()=>b],4416)},89619,a=>{"use strict";let b=(0,a.i(70106).default)("Signature",[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284",key:"y32ogt"}],["path",{d:"M3 21h18",key:"itz85i"}]]);a.s(["Signature",()=>b],89619)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},56738,a=>{"use strict";let b=(0,a.i(70106).default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);a.s(["Wallet",()=>b],56738)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)},77151,a=>{"use strict";var b=a.i(58419),c=a.i(5483);function d(a,d){let e=(0,b.toDate)(a);if(isNaN(d))return(0,c.constructFrom)(a,NaN);if(!d)return e;let f=e.getDate(),g=(0,c.constructFrom)(a,e.getTime());return(g.setMonth(e.getMonth()+d+1,0),f>=g.getDate())?g:(e.setFullYear(g.getFullYear(),g.getMonth(),f),e)}a.s(["addMonths",()=>d])},7921,a=>{"use strict";var b=a.i(77151);function c(a,c){return(0,b.addMonths)(a,12*c)}a.s(["addYears",()=>c])},69082,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(69876),g=a.i(89619),h=a.i(92759),i=a.i(4720),j=a.i(4416),k=a.i(23690),l=a.i(72228),m=a.i(7921);function n({isOpen:a,onClose:n,onLeaseSigned:o,landlord:p,tenant:q,property:r,templateText:s}){let[t,u]=(0,c.useState)(!1),v=(0,c.useMemo)(()=>(function(a,b){let{landlord:c,tenant:d,property:e,startDate:f,endDate:g}=b,h=f?new Date(f):new Date,i=g?new Date(g):(0,m.addYears)(h,1),j={"{{LANDLORD_NAME}}":c.legalName||c.name||"[Landlord Name]","{{TENANT_NAME}}":d.legalName||d.name||"[Tenant Name]","{{PROPERTY_ADDRESS}}":e.location.address||"[Address]","{{PROPERTY_CITY}}":e.location.city||"[City]","{{PROPERTY_STATE}}":e.location.state||"[State]","{{PROPERTY_COUNTRY}}":e.location.country||"[Country]","{{PROPERTY_ZIP}}":e.location.zip||"[ZIP]","{{LEASE_START_DATE}}":(0,l.format)(h,"MMMM do, yyyy"),"{{LEASE_END_DATE}}":(0,l.format)(i,"MMMM do, yyyy"),"{{MONTHLY_RENT}}":(0,k.formatPrice)(e.price,e.currency),"{{SECURITY_DEPOSIT}}":(0,k.formatPrice)(e.price,e.currency),"{{AMENITIES}}":(e.amenities||[]).join(", "),"{{RULES}}":(e.rules||[]).join(", "),"{{DATE_TODAY}}":(0,l.format)(new Date,"MMMM do, yyyy")},n=a;return Object.entries(j).forEach(([a,b])=>{let c=RegExp(a,"g");n=n.replace(c,b)}),n})(s,{landlord:p,tenant:q,property:r}),[s,p,q,r]);return(0,b.jsx)(d.Dialog,{open:a,onOpenChange:n,children:(0,b.jsxs)(d.DialogContent,{className:"sm:max-w-4xl w-full h-[90vh] flex flex-col p-0 overflow-hidden border-2 shadow-2xl rounded-[2rem]",children:[(0,b.jsx)("div",{className:"p-8 pb-4 bg-muted/30 border-b",children:(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"}),(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary",children:"LEASE PROTOCOL"})]}),(0,b.jsxs)(d.DialogTitle,{className:"text-3xl font-black uppercase tracking-tight",children:["Review & Sign ",(0,b.jsx)("span",{className:"text-primary",children:"Agreement"})]}),(0,b.jsx)(d.DialogDescription,{className:"text-base",children:"Digital signature required to finalize the lease."})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-hidden bg-muted/10 p-4 md:p-8",children:(0,b.jsx)(f.ScrollArea,{className:"h-full rounded-2xl border-2 border-foreground/5 bg-white shadow-inner p-8 md:p-12",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start border-b-2 border-muted pb-8 mb-8",children:[(0,b.jsx)(i.FileText,{className:"h-12 w-12 text-primary/20"}),(0,b.jsxs)("div",{className:"text-right space-y-1",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/40",children:"LEASE ID"}),(0,b.jsxs)("p",{className:"text-xs font-mono font-bold",children:["LGR-PROT-",r.id.slice(0,8).toUpperCase()]})]})]}),(0,b.jsx)("div",{className:"prose prose-sm md:prose-base max-w-none text-foreground font-serif leading-relaxed whitespace-pre-wrap",children:v}),(0,b.jsxs)("div",{className:"pt-12 mt-12 border-t-2 border-muted grid grid-cols-2 gap-12",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/40",children:"Landlord Signature"}),(0,b.jsx)("div",{className:"h-20 border-b-2 border-dashed border-muted flex items-end pb-2 relative",children:t&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center animate-in zoom-in-95 duration-500",children:(0,b.jsx)("p",{className:"text-2xl text-primary font-bold opacity-80 select-none",children:p.name})})}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-muted-foreground uppercase",children:p.name})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/40",children:"Tenant Signature"}),(0,b.jsx)("div",{className:"h-20 border-b-2 border-dashed border-muted"}),(0,b.jsx)("p",{className:"text-[10px] font-bold text-muted-foreground uppercase",children:q.name})]})]})]})})}),(0,b.jsxs)("div",{className:"p-8 bg-white border-t space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 group",children:[(0,b.jsx)("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center transition-all duration-500 ${t?"bg-green-500/10 text-green-600":"bg-primary/5 text-primary"}`,children:t?(0,b.jsx)(j.ShieldCheck,{className:"h-6 w-6"}):(0,b.jsx)(g.Signature,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h4",{className:"text-xs font-black uppercase tracking-widest",children:"Digital Auth Status"}),t?(0,b.jsx)("p",{className:"text-[10px] font-bold text-green-600 flex items-center gap-2",children:"âœ“ CRYPTOGRAPHICALLY SIGNED BY LANDLORD"}):(0,b.jsx)("p",{className:"text-[10px] font-bold text-muted-foreground",children:"Awaiting landlord signature..."})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 w-full md:w-auto",children:[(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>{u(!0)},disabled:t,className:"flex-1 md:flex-none h-14 px-8 rounded-xl border-2 font-black text-[10px] uppercase tracking-widest gap-2 hover:bg-primary/5 transition-all",children:[(0,b.jsx)(g.Signature,{className:"h-4 w-4"})," SIGN AS LANDLORD"]}),(0,b.jsxs)(e.Button,{onClick:()=>{let a=v;if(t){let b=new Date().toLocaleDateString();a=a.replace(/Landlord:\s*Nill/g,`Landlord: ${p.name}`).replace(/(Landlord:[^\n]*\n\s*Date:\s*)Nill/g,`$1${b}`)}o(a),n()},disabled:!t,className:"flex-1 md:flex-none h-14 px-10 rounded-xl bg-foreground text-white hover:bg-primary transition-all font-black text-[10px] uppercase tracking-widest gap-2 shadow-xl disabled:opacity-30",children:[(0,b.jsx)(h.Send,{className:"h-4 w-4"})," FINALIZE & SEND"]})]})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("button",{onClick:n,className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors",children:"Cancel"})})]})]})})}a.s(["default",()=>n],69082)}];

//# sourceMappingURL=_47dc32c4._.js.map