{"version":3,"sources":["../../../../src/components/ui/input.tsx","../../../../src/app/student/bookmarks/page.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n\r\n\r\n","\r\n'use client';\r\n\r\nimport { useState, useMemo } from 'react';\r\nimport PropertyCard from \"@/components/property-card\";\r\nimport type { Property, UserProfile } from '@/types';\r\nimport { Heart, Search } from 'lucide-react';\r\nimport { useUser, useFirestore, useCollection, useDoc, useMemoFirebase } from '@/firebase';\r\nimport { collection, query, where, doc } from 'firebase/firestore';\r\nimport Loading from '@/app/loading';\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Link from \"next/link\";\r\n\r\n\r\nexport default function BookmarksPage() {\r\n    const { user } = useUser();\r\n    const firestore = useFirestore();\r\n\r\n    const userDocRef = useMemoFirebase(() => user ? doc(firestore, 'users', user.uid) : null, [user, firestore]);\r\n    const { data: userProfile, isLoading: isProfileLoading } = useDoc<UserProfile>(userDocRef);\r\n\r\n    const propertiesQuery = useMemoFirebase(() => query(collection(firestore, 'properties'), where('status', '==', 'available')), [firestore]);\r\n    const { data: allProperties, isLoading: arePropertiesLoading } = useCollection<Property>(propertiesQuery);\r\n\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const bookmarkedProperties = useMemo(() => {\r\n        if (!allProperties || !userProfile?.bookmarkedPropertyIds) return [];\r\n        return allProperties.filter(p => userProfile.bookmarkedPropertyIds?.includes(p.id));\r\n    }, [allProperties, userProfile?.bookmarkedPropertyIds]);\r\n\r\n    const filteredProperties = useMemo(() => {\r\n        if (!searchQuery) return bookmarkedProperties;\r\n        const lowerQuery = searchQuery.toLowerCase();\r\n        return bookmarkedProperties.filter(p =>\r\n            p.title.toLowerCase().includes(lowerQuery) ||\r\n            p.location.address.toLowerCase().includes(lowerQuery) ||\r\n            p.location.city.toLowerCase().includes(lowerQuery)\r\n        );\r\n    }, [bookmarkedProperties, searchQuery]);\r\n\r\n    const isLoading = isProfileLoading || arePropertiesLoading;\r\n\r\n    if (isLoading) {\r\n        return <Loading />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8 animate-in fade-in duration-1000\">\r\n            {/* Simple Header */}\r\n            <div className=\"flex flex-col gap-2\">\r\n                <h1 className=\"font-headline text-3xl md:text-4xl font-black tracking-tight text-foreground uppercase px-1\">\r\n                    Bookmarked <span className=\"text-primary\">Places.</span>\r\n                </h1>\r\n                <div className=\"h-1 w-12 bg-primary rounded-full ml-1\" />\r\n            </div>\r\n\r\n            {/* Refined Search Bar */}\r\n            {bookmarkedProperties.length > 0 && (\r\n                <div className=\"relative group max-w-2xl mx-auto md:mx-0\">\r\n                    <div className=\"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none transition-transform group-focus-within:scale-110\">\r\n                        <Search className=\"h-5 w-5 text-muted-foreground/30 group-focus-within:text-primary transition-colors\" />\r\n                    </div>\r\n                    <Input\r\n                        placeholder=\"Search your curation...\"\r\n                        className=\"h-18 pl-14 pr-8 rounded-[1.5rem] border-2 border-muted/20 bg-white/50 backdrop-blur-xl shadow-2xl shadow-black/[0.02] text-lg font-medium ring-offset-background placeholder:text-muted-foreground/30 focus-visible:ring-4 focus-visible:ring-primary/5 transition-all text-center md:text-left\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                    />\r\n                </div>\r\n            )}\r\n\r\n            {/* Bookmarked Properties Grid */}\r\n            {filteredProperties.length > 0 ? (\r\n                <div className=\"grid grid-cols-1 gap-12 md:grid-cols-2 xl:grid-cols-2 2xl:grid-cols-3\">\r\n                    {filteredProperties.map((property, idx) => (\r\n                        <div\r\n                            key={property.id}\r\n                            className=\"animate-in fade-in slide-in-from-bottom-8 duration-1000 group transition-all\"\r\n                            style={{ animationDelay: `${idx * 150}ms` }}\r\n                        >\r\n                            <PropertyCard property={property} />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                <div className=\"relative overflow-hidden rounded-[3.5rem] bg-white border-2 border-muted/10 shadow-3xl p-20 text-center space-y-10 animate-in zoom-in-95 duration-1000\">\r\n                    <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_120%,#3b82f60a_0%,transparent_70%)]\" />\r\n                    <div className=\"relative z-10 max-w-md mx-auto space-y-8\">\r\n                        <div className=\"relative h-32 w-32 mx-auto\">\r\n                            <div className=\"absolute inset-0 bg-primary/10 blur-3xl rounded-full scale-150 animate-pulse\" />\r\n                            <div className=\"relative flex h-full w-full items-center justify-center rounded-[2.5rem] bg-muted/20 border-2 border-white shadow-inner transform -rotate-6 group-hover:rotate-0 transition-transform duration-700\">\r\n                                <Heart className=\"h-14 w-14 text-primary opacity-20\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"space-y-4\">\r\n                            <h2 className=\"text-3xl font-black uppercase tracking-tight\">Curate Your <span className=\"text-primary\">Future</span></h2>\r\n                            <p className=\"text-lg text-muted-foreground leading-relaxed\">\r\n                                {bookmarkedProperties.length === 0\r\n                                    ? \"Your personal gallery of premium dwellings is currently blank. Explore our collection and begin your curation.\"\r\n                                    : \"Our collection doesn't match your current search criteria. Perhaps a different search?\"}\r\n                            </p>\r\n                        </div>\r\n                        <Button size=\"lg\" className=\"h-16 rounded-2xl px-12 font-black text-xs uppercase tracking-widest shadow-2xl shadow-primary/20 hover:scale-105 active:scale-95 transition-all\" asChild>\r\n                            <Link href=\"/student/properties\">{bookmarkedProperties.length === 0 ? \"START CURATION\" : \"CLEAR SEARCH\"}</Link>\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"wDAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAQ,EAAA,UAAgB,CAC5B,CAAC,WAAE,CAAS,CAAE,MAAI,CAAE,GAAG,EAAO,CAAE,IAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAM,EACN,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,iYACA,GAEF,IAAK,EACJ,GAAG,CAAK,GAKjB,GAAM,WAAW,CAAG,sEChBpB,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGe,SAAS,IACpB,GAAM,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAClB,EAAY,CAAA,EAAA,EAAA,YAAA,AAAY,IAExB,EAAa,CAAA,EAAA,EAAA,eAAe,AAAf,EAAgB,IAAM,EAAO,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,QAAS,EAAK,GAAG,EAAI,KAAM,CAAC,EAAM,EAAU,EACrG,CAAE,KAAM,CAAW,CAAE,UAAW,CAAgB,CAAE,CAAG,CAAA,EAAA,EAAA,MAAA,AAAM,EAAc,GAEzE,EAAkB,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,IAAM,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAW,cAAe,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,SAAU,KAAM,cAAe,CAAC,EAAU,EACnI,CAAE,KAAM,CAAa,CAAE,UAAW,CAAoB,CAAE,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,EAAW,GAEnF,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEzC,EAAuB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACjC,AAAI,AAAC,GAAkB,GAAa,WAAd,WACf,CADoD,CACtC,MAAM,CAAC,GAAK,EAAY,qBAAqB,EAAE,SAAS,EAAE,EAAE,GADf,EAAE,CAErE,CAAC,EAAe,GAAa,sBAAsB,EAEhD,EAAqB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC/B,GAAI,CAAC,EAAa,OAAO,EACzB,IAAM,EAAa,EAAY,WAAW,GAC1C,OAAO,EAAqB,MAAM,CAAC,GAC/B,EAAE,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,IAC/B,EAAE,QAAQ,CAAC,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,IAC1C,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,GAE/C,EAAG,CAAC,EAAsB,EAAY,SAEpB,AAElB,GAFsC,CAElC,CACO,CAAA,EAAA,EAAA,GAAA,EAAC,AADG,EACH,OAAO,CAAA,CAAA,GAIf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uDAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,wGAA8F,cAC7F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,eAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CAIlB,EAAqB,MAAM,CAAG,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kIACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,yFAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACF,YAAY,0BACZ,UAAU,kSACV,MAAO,EACP,SAAW,AAAD,GAAO,EAAe,EAAE,MAAM,CAAC,KAAK,OAMzD,EAAmB,MAAM,CAAG,EACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFACV,EAAmB,GAAG,CAAC,CAAC,EAAU,IAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEG,UAAU,+EACV,MAAO,CAAE,eAAgB,CAAA,EAAS,IAAN,EAAU,EAAE,CAAC,AAAC,WAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAY,CAAA,CAAC,SAAU,KAJnB,EAAS,EAAE,KAS5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mKACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2FACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iFACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8MACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2CAGzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,yDAA+C,eAAY,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,cACxG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yDACwB,IAAhC,EAAqB,MAAM,CACtB,iHACA,8FAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,KAAK,UAAU,kJAAkJ,OAAO,CAAA,CAAA,WACjL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,+BAAuD,IAAhC,EAAqB,MAAM,CAAS,iBAAmB,2BAOrH"}