{"version":3,"sources":["../../../../node_modules/%40radix-ui/react-slider/dist/index.mjs","../../../../src/components/ui/slider.tsx","../../../../src/app/student/properties/page.tsx","../../../../src/components/search-filters.tsx","../../../../node_modules/lucide-react/src/icons/landmark.ts","../../../../node_modules/lucide-react/src/icons/sliders-horizontal.ts","../../../../node_modules/%40radix-ui/react-slider/src/slider.tsx"],"sourcesContent":["\"use client\";\n\n// src/slider.tsx\nimport * as React from \"react\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar PAGE_KEYS = [\"PageUp\", \"PageDown\"];\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar BACK_KEYS = {\n  \"from-left\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-right\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowRight\"],\n  \"from-bottom\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-top\": [\"Home\", \"PageDown\", \"ArrowUp\", \"ArrowLeft\"]\n};\nvar SLIDER_NAME = \"Slider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SLIDER_NAME);\nvar [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope\n]);\nvar [SliderProvider, useSliderContext] = createSliderContext(SLIDER_NAME);\nvar Slider = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = \"horizontal\",\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {\n      },\n      onValueCommit = () => {\n      },\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef(/* @__PURE__ */ new Set());\n    const valueIndexToChangeRef = React.useRef(0);\n    const isHorizontal = orientation === \"horizontal\";\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value2) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value2);\n      }\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n    function handleSlideStart(value2) {\n      const closestIndex = getClosestValueIndex(values, value2);\n      updateValues(value2, closestIndex);\n    }\n    function handleSlideMove(value2) {\n      updateValues(value2, valueIndexToChangeRef.current);\n    }\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n    function updateValues(value2, atIndex, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value2 - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n    return /* @__PURE__ */ jsx(\n      SliderProvider,\n      {\n        scope: props.__scopeSlider,\n        name,\n        disabled,\n        min,\n        max,\n        valueIndexToChangeRef,\n        thumbs: thumbRefs.current,\n        values,\n        orientation,\n        form,\n        children: /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n          SliderOrientation,\n          {\n            \"aria-disabled\": disabled,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...sliderProps,\n            ref: forwardedRef,\n            onPointerDown: composeEventHandlers(sliderProps.onPointerDown, () => {\n              if (!disabled) valuesBeforeSlideStartRef.current = values;\n            }),\n            min,\n            max,\n            inverted,\n            onSlideStart: disabled ? void 0 : handleSlideStart,\n            onSlideMove: disabled ? void 0 : handleSlideMove,\n            onSlideEnd: disabled ? void 0 : handleSlideEnd,\n            onHomeKeyDown: () => !disabled && updateValues(min, 0, { commit: true }),\n            onEndKeyDown: () => !disabled && updateValues(max, values.length - 1, { commit: true }),\n            onStepKeyDown: ({ event, direction: stepDirection }) => {\n              if (!disabled) {\n                const isPageKey = PAGE_KEYS.includes(event.key);\n                const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.includes(event.key);\n                const multiplier = isSkipKey ? 10 : 1;\n                const atIndex = valueIndexToChangeRef.current;\n                const value2 = values[atIndex];\n                const stepInDirection = step * multiplier * stepDirection;\n                updateValues(value2 + stepInDirection, atIndex, { commit: true });\n              }\n            }\n          }\n        ) }) })\n      }\n    );\n  }\n);\nSlider.displayName = SLIDER_NAME;\nvar [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext(SLIDER_NAME, {\n  startEdge: \"left\",\n  endEdge: \"right\",\n  size: \"width\",\n  direction: 1\n});\nvar SliderHorizontal = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef(void 0);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === \"ltr\";\n    const isSlidingFromLeft = isDirectionLTR && !inverted || !isDirectionLTR && inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || slider.getBoundingClientRect();\n      const input = [0, rect.width];\n      const output = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromLeft ? \"left\" : \"right\",\n        endEdge: isSlidingFromLeft ? \"right\" : \"left\",\n        direction: isSlidingFromLeft ? 1 : -1,\n        size: \"width\",\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            dir: direction,\n            \"data-orientation\": \"horizontal\",\n            ...sliderProps,\n            ref: composedRefs,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateX(-50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromLeft ? \"from-left\" : \"from-right\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderVertical = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef(void 0);\n    const isSlidingFromBottom = !inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || sliderRef.current.getBoundingClientRect();\n      const input = [0, rect.height];\n      const output = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromBottom ? \"bottom\" : \"top\",\n        endEdge: isSlidingFromBottom ? \"top\" : \"bottom\",\n        size: \"height\",\n        direction: isSlidingFromBottom ? 1 : -1,\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            \"data-orientation\": \"vertical\",\n            ...sliderProps,\n            ref,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateY(50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromBottom ? \"from-bottom\" : \"from-top\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...sliderProps,\n        ref: forwardedRef,\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === \"Home\") {\n            onHomeKeyDown(event);\n            event.preventDefault();\n          } else if (event.key === \"End\") {\n            onEndKeyDown(event);\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            event.preventDefault();\n          }\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target;\n          target.setPointerCapture(event.pointerId);\n          event.preventDefault();\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        }),\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })\n      }\n    );\n  }\n);\nvar TRACK_NAME = \"SliderTrack\";\nvar SliderTrack = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        \"data-orientation\": context.orientation,\n        ...trackProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSliderTrack.displayName = TRACK_NAME;\nvar RANGE_NAME = \"SliderRange\";\nvar SliderRange = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map(\n      (value) => convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-orientation\": context.orientation,\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...rangeProps,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          [orientation.startEdge]: offsetStart + \"%\",\n          [orientation.endEdge]: offsetEnd + \"%\"\n        }\n      }\n    );\n  }\n);\nSliderRange.displayName = RANGE_NAME;\nvar THUMB_NAME = \"SliderThumb\";\nvar SliderThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1,\n      [getItems, thumb]\n    );\n    return /* @__PURE__ */ jsx(SliderThumbImpl, { ...props, ref: composedRefs, index });\n  }\n);\nvar SliderThumbImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const isFormControl = thumb ? context.form || !!thumb.closest(\"form\") : true;\n    const size = useSize(thumb);\n    const value = context.values[index];\n    const percent = value === void 0 ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n    return /* @__PURE__ */ jsxs(\n      \"span\",\n      {\n        style: {\n          transform: \"var(--radix-slider-thumb-transform)\",\n          position: \"absolute\",\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`\n        },\n        children: [\n          /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n            Primitive.span,\n            {\n              role: \"slider\",\n              \"aria-label\": props[\"aria-label\"] || label,\n              \"aria-valuemin\": context.min,\n              \"aria-valuenow\": value,\n              \"aria-valuemax\": context.max,\n              \"aria-orientation\": context.orientation,\n              \"data-orientation\": context.orientation,\n              \"data-disabled\": context.disabled ? \"\" : void 0,\n              tabIndex: context.disabled ? void 0 : 0,\n              ...thumbProps,\n              ref: composedRefs,\n              style: value === void 0 ? { display: \"none\" } : props.style,\n              onFocus: composeEventHandlers(props.onFocus, () => {\n                context.valueIndexToChangeRef.current = index;\n              })\n            }\n          ) }),\n          isFormControl && /* @__PURE__ */ jsx(\n            SliderBubbleInput,\n            {\n              name: name ?? (context.name ? context.name + (context.values.length > 1 ? \"[]\" : \"\") : void 0),\n              form: context.form,\n              value\n            },\n            index\n          )\n        ]\n      }\n    );\n  }\n);\nSliderThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar SliderBubbleInput = React.forwardRef(\n  ({ __scopeSlider, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"input\", { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        style: { display: \"none\" },\n        ...props,\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getNextSortedValues(prevValues = [], nextValue, atIndex) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\nfunction convertValueToPercentage(value, min, max) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\nfunction getLabel(index, totalValues) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return [\"Minimum\", \"Maximum\"][index];\n  } else {\n    return void 0;\n  }\n}\nfunction getClosestValueIndex(values, nextValue) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\nfunction getThumbInBoundsOffset(width, left, direction) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\nfunction getStepsBetweenValues(values) {\n  return values.slice(0, -1).map((value, index) => values[index + 1] - value);\n}\nfunction hasMinStepsBetweenValues(values, minStepsBetweenValues) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction getDecimalCount(value) {\n  return (String(value).split(\".\")[1] || \"\").length;\n}\nfunction roundValue(value, decimalCount) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\nvar Root = Slider;\nvar Track = SliderTrack;\nvar Range = SliderRange;\nvar Thumb = SliderThumb;\nexport {\n  Range,\n  Root,\n  Slider,\n  SliderRange,\n  SliderThumb,\n  SliderTrack,\n  Thumb,\n  Track,\n  createSliderScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\r\n\r\nimport { cn } from \"@/utils\"\r\n\r\nconst Slider = React.forwardRef<\r\n  React.ElementRef<typeof SliderPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SliderPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex w-full touch-none select-none items-center\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\r\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\r\n    </SliderPrimitive.Track>\r\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\r\n  </SliderPrimitive.Root>\r\n))\r\nSlider.displayName = SliderPrimitive.Root.displayName\r\n\r\nexport { Slider }\r\n\r\n\r\n","\r\n'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport PropertyCard from \"@/components/property-card\";\r\nimport SearchFilters from \"@/components/search-filters\";\r\nimport type { Property, UserProfile } from '@/types';\r\nimport type { FilterState } from '@/components/search-filters';\r\nimport { Search, SlidersHorizontal, MapPin as MapPinIcon, Home as HomeIcon, X } from 'lucide-react';\r\nimport { haversineDistance, cn } from '@/utils';\r\nimport { getCurrencyByCountry, convertCurrency } from \"@/utils/currencies\";\r\nimport { useUser, useFirestore, useCollection, useDoc, useMemoFirebase } from '@/firebase';\r\nimport { collection, query, where, doc } from 'firebase/firestore';\r\nimport Loading from '@/app/loading';\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogClose } from \"@/components/ui/dialog\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { GraduationCap, Landmark, Sparkles, TrendingUp, Star } from 'lucide-react';\r\n\r\nfunction PropertySection({ title, description, properties, icon: Icon, delay = 0 }: {\r\n    title: string,\r\n    description?: string,\r\n    properties: Property[],\r\n    icon: any,\r\n    delay?: number\r\n}) {\r\n    if (properties.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-700\" style={{ animationDelay: `${delay}ms` }}>\r\n            <div className=\"flex flex-col gap-1\">\r\n                <div className=\"flex items-center gap-2 text-primary font-bold uppercase tracking-wider text-[10px] md:text-xs\">\r\n                    <Icon className=\"h-3.5 w-3.5 md:h-4 w-4\" />\r\n                    <span>{title}</span>\r\n                </div>\r\n                <div className=\"flex items-end justify-between gap-4\">\r\n                    <h2 className=\"text-xl md:text-3xl font-black tracking-tight leading-tight\">{description || `Premium ${title}`}</h2>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Horizontal Scroll Carousel */}\r\n            <div className=\"relative -mx-4 sm:-mx-6 lg:-mx-8\">\r\n                <div className=\"flex gap-4 md:gap-6 overflow-x-auto pb-8 pt-2 px-4 sm:px-6 lg:px-8 no-scrollbar scroll-smooth snap-x snap-mandatory\">\r\n                    {properties.map((property, idx) => (\r\n                        <div\r\n                            key={property.id}\r\n                            className=\"min-w-[85vw] sm:min-w-[380px] lg:min-w-[420px] snap-start\"\r\n                        >\r\n                            <PropertyCard property={property} className=\"h-full shadow-lg shadow-black/[0.03]\" />\r\n                        </div>\r\n                    ))}\r\n                    {/* Final spacer for edge-to-edge feel */}\r\n                    <div className=\"min-w-[20px] sm:min-w-[40px] shrink-0\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n// Mock coordinates for major state centers removed in favor of dynamic property-based detection\r\n\r\nexport default function PropertiesPage() {\r\n\r\n    const { user } = useUser();\r\n    const firestore = useFirestore();\r\n\r\n    const userDocRef = useMemoFirebase(() => user ? doc(firestore, 'users', user.uid) : null, [user, firestore]);\r\n    const { data: userProfile, isLoading: isProfileLoading } = useDoc<UserProfile>(userDocRef);\r\n\r\n    const propertiesQuery = useMemoFirebase(() => query(collection(firestore, 'properties'), where('status', '==', 'available')), [firestore]);\r\n    const { data: allProperties, isLoading: arePropertiesLoading } = useCollection<Property>(propertiesQuery);\r\n\r\n    const [filters, setFilters] = useState<FilterState>({ useCurrentLocation: false });\r\n    const [currentLocation, setCurrentLocation] = useState<{ lat: number, lng: number } | null>(null);\r\n    const [filteredProperties, setFilteredProperties] = useState<Property[]>([]);\r\n    const [schoolsInArea, setSchoolsInArea] = useState<string[] | null>(null);\r\n    const [hasAppliedDefaults, setHasAppliedDefaults] = useState(false);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [sortBy, setSortBy] = useState('newest');\r\n\r\n    const userCurrency = useMemo(() => {\r\n        if (userProfile?.currency) return userProfile.currency;\r\n        if (userProfile?.country) return getCurrencyByCountry(userProfile.country);\r\n        return 'USD';\r\n    }, [userProfile]);\r\n\r\n    const availableStates = useMemo(() => {\r\n        if (!allProperties) return [];\r\n        let props = allProperties;\r\n        if (filters.country) {\r\n            props = props.filter(p => p.location.country === filters.country);\r\n        }\r\n        return [...new Set(props.map(p => p.location.state))];\r\n    }, [allProperties, filters.country]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (userProfile && !hasAppliedDefaults) {\r\n            setFilters(prev => ({\r\n                ...prev,\r\n                country: userProfile.country || prev.country,\r\n                state: userProfile.state || prev.state,\r\n                school: userProfile.school || prev.school,\r\n            }));\r\n            setHasAppliedDefaults(true);\r\n        }\r\n    }, [userProfile, hasAppliedDefaults]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (!allProperties) return;\r\n        let properties = allProperties;\r\n\r\n        // Filter by availability first (already done in the query, but good for safety)\r\n        properties = properties.filter(p => p.status === 'available');\r\n\r\n        if (filters.useCurrentLocation && currentLocation) {\r\n            properties = properties.filter(p => {\r\n                if (p.location.lat && p.location.lng) {\r\n                    const distance = haversineDistance(currentLocation, { lat: p.location.lat, lng: p.location.lng });\r\n                    return distance < 10; // 10km radius\r\n                }\r\n                return false;\r\n            });\r\n        } else {\r\n            if (filters.country) {\r\n                properties = properties.filter(p => p.location.country === filters.country);\r\n            }\r\n\r\n            if (filters.state) {\r\n                properties = properties.filter(p => p.location.state.toLowerCase().includes(filters.state!.toLowerCase()));\r\n            }\r\n\r\n            if (filters.city) {\r\n                properties = properties.filter(p => p.location.city.toLowerCase().includes(filters.city!.toLowerCase()));\r\n            }\r\n\r\n            if (filters.school) {\r\n                properties = properties.filter(p => p.location.school?.toLowerCase().includes(filters.school!.toLowerCase()));\r\n            }\r\n        }\r\n\r\n\r\n        if (filters.price) {\r\n            properties = properties.filter(p => {\r\n                const priceInUserCurrency = convertCurrency(p.price, p.currency, userCurrency);\r\n                return priceInUserCurrency <= filters.price!;\r\n            });\r\n        }\r\n\r\n        if (filters.propertyType && filters.propertyType !== 'any') {\r\n            properties = properties.filter(p => p.type === filters.propertyType);\r\n        }\r\n\r\n        if (filters.bedrooms && filters.bedrooms !== 'any') {\r\n            if (filters.bedrooms === '4') {\r\n                properties = properties.filter(p => p.bedrooms >= 4);\r\n            } else {\r\n                properties = properties.filter(p => p.bedrooms === parseInt(filters.bedrooms!));\r\n            }\r\n        }\r\n\r\n        if (filters.bathrooms && filters.bathrooms !== 'any') {\r\n            if (filters.bathrooms === '3') {\r\n                properties = properties.filter(p => p.bathrooms >= 3);\r\n            } else {\r\n                properties = properties.filter(p => p.bathrooms === parseInt(filters.bathrooms!));\r\n            }\r\n        }\r\n\r\n        if (filters.amenities && filters.amenities.length > 0) {\r\n            properties = properties.filter(p =>\r\n                filters.amenities!.every(amenity => p.amenities.includes(amenity))\r\n            );\r\n        }\r\n\r\n        if (searchQuery) {\r\n            const lowerQuery = searchQuery.toLowerCase().trim();\r\n            properties = properties.filter(p =>\r\n                p.title.toLowerCase().includes(lowerQuery) ||\r\n                p.location.address.toLowerCase().includes(lowerQuery) ||\r\n                p.location.city.toLowerCase().includes(lowerQuery) ||\r\n                p.location.state.toLowerCase().includes(lowerQuery) ||\r\n                p.location.school?.toLowerCase().includes(lowerQuery) ||\r\n                p.type.toLowerCase().includes(lowerQuery)\r\n            );\r\n        }\r\n\r\n        // Sorting\r\n        properties.sort((a, b) => {\r\n            const priceA = convertCurrency(a.price, a.currency, userCurrency);\r\n            const priceB = convertCurrency(b.price, b.currency, userCurrency);\r\n\r\n            switch (sortBy) {\r\n                case 'price-asc':\r\n                    return priceA - priceB;\r\n                case 'price-desc':\r\n                    return priceB - priceA;\r\n                case 'bedrooms-desc':\r\n                    return b.bedrooms - a.bedrooms;\r\n                case 'area-desc':\r\n                    return b.area - a.area;\r\n                case 'newest':\r\n                default:\r\n                    return b.id.localeCompare(a.id); // Fallback to ID for reverse chronological-ish order\r\n            }\r\n        });\r\n\r\n        setFilteredProperties(properties);\r\n    }, [filters, currentLocation, allProperties, searchQuery, sortBy, userCurrency]);\r\n\r\n    const sections = useMemo(() => {\r\n        if (!allProperties || allProperties.length === 0) return [];\r\n\r\n        const nearSchool = allProperties.filter(p =>\r\n            userProfile?.school && p.location.school?.toLowerCase() === userProfile.school.toLowerCase()\r\n        );\r\n\r\n        const inCity = allProperties.filter(p =>\r\n            userProfile?.city && p.location.city?.toLowerCase() === userProfile.city.toLowerCase()\r\n        );\r\n\r\n        const budgetFriendly = [...allProperties].sort((a, b) => {\r\n            const priceA = convertCurrency(a.price, a.currency, userCurrency);\r\n            const priceB = convertCurrency(b.price, b.currency, userCurrency);\r\n            return priceA - priceB;\r\n        });\r\n\r\n        // Refined \"Highly Recommended\" Logic (Multi-factor ranking)\r\n        const highlyRecommended = [...allProperties].sort((a, b) => {\r\n            const getScore = (p: Property) => {\r\n                let score = 0;\r\n                // Amenities count (0-50 points)\r\n                score += Math.min((p.amenities?.length || 0) * 5, 50);\r\n\r\n                // Proximity to student's school (50 points)\r\n                if (userProfile?.school && p.location.school?.toLowerCase() === userProfile.school.toLowerCase()) {\r\n                    score += 50;\r\n                }\r\n\r\n                return score;\r\n            };\r\n\r\n            const scoreA = getScore(a);\r\n            const scoreB = getScore(b);\r\n\r\n            if (scoreA !== scoreB) return scoreB - scoreA;\r\n            return b.id.localeCompare(a.id); // Tie-breaker: Newest first\r\n        });\r\n\r\n        const recentlyAdded = [...allProperties].sort((a, b) => b.id.localeCompare(a.id));\r\n\r\n        return [\r\n            { id: 'near-school', title: 'Near Your School', description: `Apartments near ${userProfile?.school || 'University'}`, icon: GraduationCap, properties: nearSchool },\r\n            { id: 'recommended', title: 'Highly Recommended', description: 'Curated premium homes for you', icon: Star, properties: highlyRecommended },\r\n            { id: 'in-city', title: 'In Your City', description: `Best listings in ${userProfile?.city || 'your area'}`, icon: Landmark, properties: inCity },\r\n            { id: 'budget', title: 'Budget Friendly', description: 'Premium homes within your reach', icon: TrendingUp, properties: budgetFriendly },\r\n            { id: 'recent', title: 'Recently Added', description: 'Freshly listed for you', icon: Sparkles, properties: recentlyAdded },\r\n        ];\r\n    }, [allProperties, userProfile, userCurrency]);\r\n\r\n    const isSearching = useMemo(() => {\r\n        if (searchQuery.trim().length > 0) return true;\r\n\r\n        // Count non-default filters\r\n        const activeFilterCount = Object.keys(filters).filter(k => {\r\n            if (k === 'useCurrentLocation') return filters[k];\r\n            if (filters[k as keyof FilterState] === undefined) return false;\r\n            if (k === 'amenities') return filters[k] && filters[k]!.length > 0;\r\n            // Ignore defaults applied from profile\r\n            if (['country', 'state', 'school'].includes(k) && filters[k as keyof FilterState] === userProfile?.[k as keyof UserProfile]) return false;\r\n            return true;\r\n        }).length;\r\n\r\n        return activeFilterCount > 0 || sortBy !== 'newest';\r\n    }, [filters, searchQuery, sortBy, userProfile]);\r\n\r\n\r\n    const handleFilterChange = (newFilters: FilterState) => {\r\n        if (newFilters.useCurrentLocation === false) {\r\n            setCurrentLocation(null);\r\n            setSchoolsInArea(null);\r\n        }\r\n        setFilters(newFilters);\r\n    };\r\n\r\n    const handleLocationSuccess = (coords: { lat: number, lng: number }) => {\r\n        if (!allProperties || allProperties.length === 0) return;\r\n        setCurrentLocation(coords);\r\n\r\n        // Find the closest property to determine the user's current region\r\n        let closestProperty: Property | null = null;\r\n        let minDistance = Infinity;\r\n\r\n        for (const property of allProperties) {\r\n            if (property.location.lat && property.location.lng) {\r\n                const distance = haversineDistance(coords, { lat: property.location.lat, lng: property.location.lng });\r\n                if (distance < minDistance) {\r\n                    minDistance = distance;\r\n                    closestProperty = property;\r\n                }\r\n            }\r\n        }\r\n\r\n        // If we found a property within a reasonable range (e.g. 50km), we assume the user is in that region\r\n        // defaulting to the country/state/city of that property.\r\n        if (closestProperty && minDistance < 50) {\r\n            const regionState = closestProperty.location.state;\r\n            const regionCountry = closestProperty.location.country;\r\n\r\n            // Find all schools in this state to populate the dropdown\r\n            const schools = [...new Set(allProperties\r\n                .filter(p => p.location.state === regionState && p.location.school)\r\n                .map(p => p.location.school!)\r\n            )];\r\n\r\n            setSchoolsInArea(schools);\r\n\r\n            setFilters(prev => ({\r\n                ...prev,\r\n                useCurrentLocation: true,\r\n                country: regionCountry,\r\n                state: regionState,\r\n                // We don't automatically set city as that might be too specific, but we set the broader region\r\n                school: undefined\r\n            }));\r\n        } else {\r\n            // If no property is close, we still enable location search (filtering by radius)\r\n            // but we don't pre-select filters because we can't determine a supported region.\r\n            setSchoolsInArea([]);\r\n            setFilters(prev => ({\r\n                ...prev,\r\n                useCurrentLocation: true\r\n            }));\r\n        }\r\n    }\r\n\r\n    const resetFilters = () => {\r\n        // Reset all filters to an empty state\r\n        setFilters({\r\n            country: undefined,\r\n            state: undefined,\r\n            city: undefined,\r\n            school: undefined,\r\n            useCurrentLocation: false,\r\n            price: undefined,\r\n            propertyType: undefined,\r\n            bedrooms: undefined,\r\n            bathrooms: undefined,\r\n            amenities: []\r\n        });\r\n        setCurrentLocation(null);\r\n        setSchoolsInArea(null);\r\n        setSearchQuery('');\r\n        setSortBy('newest');\r\n    }\r\n\r\n    const isLoading = isProfileLoading || arePropertiesLoading;\r\n\r\n    if (isLoading) {\r\n        return <Loading />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full py-8 space-y-12 animate-in fade-in duration-700 overflow-x-visible\">\r\n            {/* Simple Search & Filter Section */}\r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex flex-col gap-2\">\r\n                    <h1 className=\"font-headline text-3xl md:text-4xl font-black tracking-tight text-foreground uppercase\">\r\n                        Find <span className=\"text-primary\">Property.</span>\r\n                    </h1>\r\n                    <div className=\"h-1 w-12 bg-primary rounded-full\" />\r\n                </div>\r\n\r\n                <div className=\"flex flex-col lg:flex-row items-center gap-4\">\r\n                    <div className=\"relative group flex-1 w-full\">\r\n                        <Search className=\"absolute left-5 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors\" />\r\n                        <Input\r\n                            placeholder=\"Search by name, city, or university...\"\r\n                            className=\"h-14 pl-14 pr-6 rounded-2xl border-muted/20 bg-white shadow-sm text-lg font-medium placeholder:text-muted-foreground/40 focus-visible:ring-2 focus-visible:ring-primary/10 transition-all\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3 w-full lg:w-auto\">\r\n                        {/* Mobile: Sheet */}\r\n                        <div className=\"lg:hidden w-full\">\r\n                            <Sheet>\r\n                                <SheetTrigger asChild>\r\n                                    <Button variant=\"outline\" className=\"h-14 w-full rounded-2xl px-6 gap-3 border-muted/20 bg-white shadow-sm font-bold hover:bg-primary/5 hover:text-primary transition-all\">\r\n                                        <SlidersHorizontal className=\"h-5 w-5\" />\r\n                                        Filters\r\n                                        <Badge className=\"bg-primary/10 text-primary border-none font-black h-5 w-5 p-0 flex items-center justify-center\">\r\n                                            {Object.keys(filters).filter(k => filters[k as keyof FilterState] !== undefined && filters[k as keyof FilterState] !== false).length}\r\n                                        </Badge>\r\n                                    </Button>\r\n                                </SheetTrigger>\r\n                                <SheetContent side=\"bottom\" className=\"h-[90vh] p-0 rounded-t-3xl\">\r\n                                    <div className=\"bg-muted/30 p-6 border-b flex items-center justify-between\">\r\n                                        <h3 className=\"font-bold text-lg text-foreground\">Filter Properties</h3>\r\n                                        <Button variant=\"ghost\" size=\"sm\" onClick={resetFilters} className=\"text-primary hover:text-primary hover:bg-primary/10 font-bold rounded-xl px-4\">\r\n                                            Reset\r\n                                        </Button>\r\n                                    </div>\r\n                                    <div className=\"h-[calc(90vh-80px)] overflow-y-auto p-6 custom-scrollbar\">\r\n                                        <SearchFilters\r\n                                            onFilterChange={handleFilterChange}\r\n                                            onReset={resetFilters}\r\n                                            initialFilters={filters}\r\n                                            onLocationSuccess={handleLocationSuccess}\r\n                                            schoolsInArea={schoolsInArea}\r\n                                            availableStates={availableStates}\r\n                                            userCurrency={userCurrency}\r\n                                            className=\"border-0 shadow-none p-0\"\r\n                                        />\r\n                                    </div>\r\n                                </SheetContent>\r\n                            </Sheet>\r\n                        </div>\r\n\r\n                        {/* Desktop: Popover */}\r\n                        <div className=\"hidden lg:block\">\r\n                            <Popover>\r\n                                <PopoverTrigger asChild>\r\n                                    <Button variant=\"outline\" className=\"h-14 rounded-2xl px-6 gap-3 border-muted/20 bg-white shadow-sm font-bold hover:bg-primary/5 hover:text-primary transition-all\">\r\n                                        <SlidersHorizontal className=\"h-5 w-5\" />\r\n                                        Filters\r\n                                        <Badge className=\"bg-primary/10 text-primary border-none font-black h-5 w-5 p-0 flex items-center justify-center\">\r\n                                            {Object.keys(filters).filter(k => filters[k as keyof FilterState] !== undefined && filters[k as keyof FilterState] !== false).length}\r\n                                        </Badge>\r\n                                    </Button>\r\n                                </PopoverTrigger>\r\n                                <PopoverContent className=\"w-[90vw] max-w-[500px] p-0 rounded-3xl overflow-hidden border-none shadow-2xl mt-2\" align=\"end\">\r\n                                    <div className=\"bg-muted/30 p-6 border-b flex items-center justify-between\">\r\n                                        <h3 className=\"font-bold text-lg text-foreground\">Filter Properties</h3>\r\n                                        <Button variant=\"ghost\" size=\"sm\" onClick={resetFilters} className=\"text-primary hover:text-primary hover:bg-primary/10 font-bold rounded-xl px-4\">\r\n                                            Reset\r\n                                        </Button>\r\n                                    </div>\r\n                                    <div className=\"max-h-[70vh] overflow-y-auto p-6 custom-scrollbar\">\r\n                                        <SearchFilters\r\n                                            onFilterChange={handleFilterChange}\r\n                                            onReset={resetFilters}\r\n                                            initialFilters={filters}\r\n                                            onLocationSuccess={handleLocationSuccess}\r\n                                            schoolsInArea={schoolsInArea}\r\n                                            availableStates={availableStates}\r\n                                            userCurrency={userCurrency}\r\n                                            className=\"border-0 shadow-none p-0\"\r\n                                        />\r\n                                    </div>\r\n                                </PopoverContent>\r\n                            </Popover>\r\n                        </div>\r\n\r\n                        <Select value={sortBy} onValueChange={setSortBy}>\r\n                            <SelectTrigger className=\"h-14 w-full lg:w-[220px] rounded-2xl border-muted/20 bg-white shadow-sm font-bold px-6 focus:ring-2 focus:ring-primary/10\">\r\n                                <SelectValue placeholder=\"Sort\" />\r\n                            </SelectTrigger>\r\n                            <SelectContent className=\"rounded-2xl border-none shadow-3xl p-2 mt-2\">\r\n                                <SelectItem value=\"newest\" className=\"rounded-xl py-2.5 font-bold\">Newest First</SelectItem>\r\n                                <SelectItem value=\"price-asc\" className=\"rounded-xl py-2.5 font-bold\">Price: Low to High</SelectItem>\r\n                                <SelectItem value=\"price-desc\" className=\"rounded-xl py-2.5 font-bold\">Price: High to Low</SelectItem>\r\n                                <SelectItem value=\"bedrooms-desc\" className=\"rounded-xl py-2.5 font-bold\">Bedrooms: Most First</SelectItem>\r\n                                <SelectItem value=\"area-desc\" className=\"rounded-xl py-2.5 font-bold\">Area: Largest First</SelectItem>\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content Area */}\r\n            <div className=\"space-y-16\">\r\n                {isSearching ? (\r\n                    /* Search Results View */\r\n                    <div className=\"space-y-8 animate-in fade-in duration-500\">\r\n                        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                            <h2 className=\"text-xl md:text-2xl font-black tracking-tight\">\r\n                                {filteredProperties.length} Homes Found\r\n                            </h2>\r\n                            {searchQuery && (\r\n                                <p className=\"text-muted-foreground font-medium\">\r\n                                    Showing results for &quot;<span className=\"text-foreground font-bold\">{searchQuery}</span>&quot;\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n\r\n                        {filteredProperties.length > 0 ? (\r\n                            <div className=\"grid grid-cols-1 gap-10 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3\">\r\n                                {filteredProperties.map((property, idx) => (\r\n                                    <div\r\n                                        key={property.id}\r\n                                        className=\"animate-in fade-in slide-in-from-bottom-6 duration-700 hover:-translate-y-2 transition-all\"\r\n                                        style={{ animationDelay: `${idx * 100}ms` }}\r\n                                    >\r\n                                        <PropertyCard property={property} />\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <Card className=\"overflow-hidden border-none bg-white shadow-xl shadow-black/[0.02]\">\r\n                                <CardContent className=\"flex flex-col items-center justify-center py-32 text-center\">\r\n                                    <div className=\"relative mb-12\">\r\n                                        <div className=\"absolute inset-0 bg-primary/10 blur-3xl rounded-full scale-150 animate-pulse\" />\r\n                                        <div className=\"relative flex h-40 w-40 items-center justify-center rounded-[3rem] bg-muted/30\">\r\n                                            <HomeIcon className=\"h-20 w-20 text-primary opacity-20\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <h3 className=\"text-4xl font-black tracking-tight\">No properties found</h3>\r\n                                    <p className=\"mx-auto mt-6 max-w-sm text-xl font-medium text-muted-foreground/80 leading-relaxed\">\r\n                                        &quot;Adjust your search or broad filters to find more premium accommodations in your area.&quot;\r\n                                    </p>\r\n                                    <Button size=\"lg\" variant=\"outline\" className=\"mt-12 rounded-2xl px-12 h-14 font-black text-lg border-primary/20 hover:bg-primary/5\" onClick={resetFilters}>\r\n                                        Reset All Filters\r\n                                    </Button>\r\n                                </CardContent>\r\n                            </Card>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    /* Curated Sections View */\r\n                    <div className=\"space-y-20\">\r\n                        {sections.map((section, idx) => (\r\n                            <PropertySection\r\n                                key={section.id}\r\n                                title={section.title}\r\n                                description={section.description}\r\n                                icon={section.icon}\r\n                                properties={section.properties}\r\n                                delay={idx * 100}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","\r\n\r\n'use client';\r\n\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { amenities as allAmenities } from \"@/types\";\r\nimport { MapPin, Info } from \"lucide-react\";\r\nimport { Input } from \"./ui/input\";\r\nimport { countries } from \"@/types/countries\";\r\nimport { PROPERTY_TYPES } from \"@/types/property-types\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { Combobox } from \"./ui/combobox\";\r\nimport { SchoolCombobox } from \"@/components/school-combobox\";\r\nimport { useFirestore, useCollection, useMemoFirebase } from '@/firebase';\r\nimport { collection, query, orderBy } from 'firebase/firestore';\r\nimport { cn, formatPrice } from \"@/utils\";\r\n\r\nexport type FilterState = {\r\n  country?: string;\r\n  state?: string;\r\n  city?: string;\r\n  school?: string;\r\n  price?: number;\r\n  propertyType?: string;\r\n  bedrooms?: string;\r\n  bathrooms?: string;\r\n  amenities?: string[];\r\n  useCurrentLocation?: boolean;\r\n};\r\n\r\ntype SearchFiltersProps = {\r\n  onFilterChange: (filters: FilterState) => void;\r\n  onReset: () => void;\r\n  initialFilters?: FilterState;\r\n  onLocationSuccess: (coords: { lat: number; lng: number }) => void;\r\n  schoolsInArea?: string[] | null;\r\n  availableStates: string[];\r\n  userCurrency?: string;\r\n  className?: string; // SearchFiltersProps\r\n};\r\n\r\n\r\nexport default function SearchFilters({\r\n  onFilterChange,\r\n  onReset,\r\n  initialFilters,\r\n  onLocationSuccess,\r\n  schoolsInArea,\r\n  availableStates,\r\n  userCurrency = 'USD',\r\n  className,\r\n}: SearchFiltersProps) {\r\n  const { toast } = useToast();\r\n  const [filters, setFilters] = useState<FilterState>(initialFilters || {});\r\n  const [price, setPrice] = useState(initialFilters?.price || 3000);\r\n\r\n  useEffect(() => {\r\n    if (initialFilters) {\r\n      setFilters(initialFilters);\r\n      setPrice(initialFilters.price || (userCurrency === 'NGN' ? 1000000 : userCurrency === 'GHS' ? 10000 : 3000));\r\n    }\r\n  }, [initialFilters, userCurrency]);\r\n\r\n  const handleInputChange = (field: keyof FilterState, value: any) => {\r\n    const newFilters = { ...filters, [field]: value };\r\n    // If a manual location filter is changed, turn off `useCurrentLocation`\r\n    if (['country', 'state', 'city', 'school'].includes(field)) {\r\n      newFilters.useCurrentLocation = false;\r\n    }\r\n    setFilters(newFilters);\r\n    // Auto-apply filters immediately\r\n    onFilterChange({ ...newFilters, price });\r\n  };\r\n\r\n  const handleAmenityChange = (amenity: string, checked: boolean) => {\r\n    const currentAmenities = filters.amenities || [];\r\n    const newAmenities = checked ? [...currentAmenities, amenity] : currentAmenities.filter(a => a !== amenity);\r\n    handleInputChange('amenities', newAmenities);\r\n  }\r\n\r\n  const handleApplyFilters = () => {\r\n    onFilterChange({ ...filters, price });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setPrice(userCurrency === 'NGN' ? 1000000 : userCurrency === 'GHS' ? 10000 : 3000);\r\n    onReset();\r\n  }\r\n\r\n  const handleCurrentLocation = () => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          onLocationSuccess({\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude\r\n          });\r\n        },\r\n        (error) => {\r\n          console.error(\"Geolocation error:\", error);\r\n          alert(\"Could not get your location. Please ensure location services are enabled and try again.\");\r\n          // Reset location state if it fails\r\n          const newFilters = { ...filters, useCurrentLocation: false };\r\n          setFilters(newFilters);\r\n          onFilterChange(newFilters);\r\n        }\r\n      );\r\n    } else {\r\n      alert(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className={cn(\"h-full\", className)}>\r\n      <CardHeader>\r\n        <CardTitle className=\"font-headline\">Filter & Sort</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"grid gap-6\">\r\n        <div className=\"grid gap-2\">\r\n          <Label htmlFor=\"country\">Country</Label>\r\n          <Combobox\r\n            options={countries.map(c => ({ label: c.name, value: c.name }))}\r\n            value={filters.country}\r\n            onChange={(value) => handleInputChange('country', value)}\r\n            placeholder=\"Select Country\"\r\n            disabled={filters.useCurrentLocation}\r\n          />\r\n        </div>\r\n        <div className=\"grid grid-cols-2 gap-2\">\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"state\">State</Label>\r\n            <Combobox\r\n              options={\r\n                filters.country\r\n                  ? (countries.find(c => c.name === filters.country)?.states.map(s => ({ label: s.name, value: s.name })) || [])\r\n                  : availableStates.map(s => ({ label: s, value: s }))\r\n              }\r\n              value={filters.state}\r\n              onChange={(value) => handleInputChange('state', value)}\r\n              placeholder=\"Select State\"\r\n              disabled={filters.useCurrentLocation}\r\n              emptyText={filters.country ? \"No states found\" : \"Select a country or use existing properties\"}\r\n            />\r\n          </div>\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"city\">City</Label>\r\n            <Input id=\"city\" placeholder=\"Enter city\" value={filters.city || ''} onChange={(e) => handleInputChange('city', e.target.value)} disabled={filters.useCurrentLocation} />\r\n          </div>\r\n        </div>\r\n        <div className=\"grid gap-2\">\r\n          <Label htmlFor=\"school\">School</Label>\r\n          <div className=\"flex gap-2\">\r\n            <div className=\"flex-grow\">\r\n              {schoolsInArea !== null ? (\r\n                // When showing schools in area (from location detection), use a simple select or combobox restricted to those schools\r\n                <Combobox\r\n                  options={(schoolsInArea || []).map(school => ({ label: school, value: school }))}\r\n                  value={filters.school}\r\n                  onChange={(value) => handleInputChange('school', value)}\r\n                  placeholder=\"Select School\"\r\n                  disabled={filters.useCurrentLocation && (schoolsInArea?.length || 0) === 0}\r\n                  emptyText=\"No schools found in this area.\"\r\n                />\r\n              ) : (\r\n                // Otherwise use the full SchoolCombobox fetching from Firestore\r\n                <SchoolCombobox\r\n                  value={filters.school}\r\n                  onChange={(value) => handleInputChange('school', value)}\r\n                  placeholder=\"Select School\"\r\n                  disabled={filters.useCurrentLocation}\r\n                />\r\n              )}\r\n            </div>\r\n            <Button variant=\"outline\" size=\"icon\" onClick={handleCurrentLocation}>\r\n              <MapPin className=\"h-4 w-4\" />\r\n              <span className=\"sr-only\">Use current location</span>\r\n            </Button>\r\n          </div>\r\n          {filters.useCurrentLocation && <p className=\"text-xs text-primary\">Showing properties near you.</p>}\r\n        </div>\r\n        <div className=\"grid gap-2\">\r\n          <Label>Max Price: {formatPrice(price, userCurrency)}</Label>\r\n          <Slider\r\n            value={[price]}\r\n            onValueChange={(value) => {\r\n              setPrice(value[0]);\r\n              // Auto-apply price filter\r\n              onFilterChange({ ...filters, price: value[0] });\r\n            }}\r\n            max={userCurrency === 'NGN' ? 5000000 : userCurrency === 'GHS' ? 50000 : 10000}\r\n            min={userCurrency === 'NGN' ? 50000 : userCurrency === 'GHS' ? 500 : 100}\r\n            step={userCurrency === 'NGN' ? 10000 : userCurrency === 'GHS' ? 100 : 50}\r\n          />\r\n        </div>\r\n        <div className=\"grid gap-2\">\r\n          <Label htmlFor=\"property-type\">Property Type</Label>\r\n          <Select value={filters.propertyType} onValueChange={(value) => handleInputChange('propertyType', value)}>\r\n            <SelectTrigger id=\"property-type\">\r\n              <SelectValue placeholder=\"Any\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"any\">Any</SelectItem>\r\n              {PROPERTY_TYPES.map((type) => (\r\n                <SelectItem key={type.value} value={type.value} className=\"group\">\r\n                  <div className=\"flex items-center justify-between w-full gap-2 min-w-[120px]\">\r\n                    <span>{type.label}</span>\r\n                    <div\r\n                      role=\"button\"\r\n                      className=\"p-1 hover:bg-muted rounded-full transition-colors opacity-50 group-hover:opacity-100\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        toast({\r\n                          title: type.label,\r\n                          description: type.description,\r\n                        });\r\n                      }}\r\n                    >\r\n                      <Info className=\"h-3 w-3\" />\r\n                    </div>\r\n                  </div>\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div className=\"grid grid-cols-2 gap-2\">\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"bedrooms\">Beds</Label>\r\n            <Select value={filters.bedrooms} onValueChange={(value) => handleInputChange('bedrooms', value)}>\r\n              <SelectTrigger id=\"bedrooms\"><SelectValue placeholder=\"Any\" /></SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"any\">Any</SelectItem>\r\n                <SelectItem value=\"1\">1</SelectItem>\r\n                <SelectItem value=\"2\">2</SelectItem>\r\n                <SelectItem value=\"3\">3</SelectItem>\r\n                <SelectItem value=\"4\">4+</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"bathrooms\">Baths</Label>\r\n            <Select value={filters.bathrooms} onValueChange={(value) => handleInputChange('bathrooms', value)}>\r\n              <SelectTrigger id=\"bathrooms\"><SelectValue placeholder=\"Any\" /></SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"any\">Any</SelectItem>\r\n                <SelectItem value=\"1\">1</SelectItem>\r\n                <SelectItem value=\"2\">2</SelectItem>\r\n                <SelectItem value=\"3\">3+</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div className=\"grid gap-2\">\r\n          <Label>Amenities</Label>\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {allAmenities.slice(0, 6).map(amenity => (\r\n              <div key={amenity} className=\"flex items-center space-x-2\">\r\n                <Checkbox\r\n                  id={amenity.toLowerCase().replace(/[\\s-]/g, '')}\r\n                  checked={Boolean(filters.amenities?.includes(amenity))}\r\n                  onCheckedChange={(checked) => handleAmenityChange(amenity, !!checked)}\r\n                />\r\n                <Label htmlFor={amenity.toLowerCase().replace(/[\\s-]/g, '')} className=\"text-sm font-normal\">{amenity}</Label>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n      <CardFooter className=\"flex-col gap-2\">\r\n        <Button variant=\"ghost\" className=\"w-full\" onClick={handleReset}>Reset All Filters</Button>\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Landmark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMyIgeDI9IjIxIiB5MT0iMjIiIHkyPSIyMiIgLz4KICA8bGluZSB4MT0iNiIgeDI9IjYiIHkxPSIxOCIgeTI9IjExIiAvPgogIDxsaW5lIHgxPSIxMCIgeDI9IjEwIiB5MT0iMTgiIHkyPSIxMSIgLz4KICA8bGluZSB4MT0iMTQiIHgyPSIxNCIgeTE9IjE4IiB5Mj0iMTEiIC8+CiAgPGxpbmUgeDE9IjE4IiB4Mj0iMTgiIHkxPSIxOCIgeTI9IjExIiAvPgogIDxwb2x5Z29uIHBvaW50cz0iMTIgMiAyMCA3IDQgNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/landmark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Landmark = createLucideIcon('Landmark', [\n  ['line', { x1: '3', x2: '21', y1: '22', y2: '22', key: 'j8o0r' }],\n  ['line', { x1: '6', x2: '6', y1: '18', y2: '11', key: '10tf0k' }],\n  ['line', { x1: '10', x2: '10', y1: '18', y2: '11', key: '54lgf6' }],\n  ['line', { x1: '14', x2: '14', y1: '18', y2: '11', key: '380y' }],\n  ['line', { x1: '18', x2: '18', y1: '18', y2: '11', key: '1kevvc' }],\n  ['polygon', { points: '12 2 20 7 4 7', key: 'jkujk7' }],\n]);\n\nexport default Landmark;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name SlidersHorizontal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMjEiIHgyPSIxNCIgeTE9IjQiIHkyPSI0IiAvPgogIDxsaW5lIHgxPSIxMCIgeDI9IjMiIHkxPSI0IiB5Mj0iNCIgLz4KICA8bGluZSB4MT0iMjEiIHgyPSIxMiIgeTE9IjEyIiB5Mj0iMTIiIC8+CiAgPGxpbmUgeDE9IjgiIHgyPSIzIiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMjEiIHgyPSIxNiIgeTE9IjIwIiB5Mj0iMjAiIC8+CiAgPGxpbmUgeDE9IjEyIiB4Mj0iMyIgeTE9IjIwIiB5Mj0iMjAiIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIyIiB5Mj0iNiIgLz4KICA8bGluZSB4MT0iOCIgeDI9IjgiIHkxPSIxMCIgeTI9IjE0IiAvPgogIDxsaW5lIHgxPSIxNiIgeDI9IjE2IiB5MT0iMTgiIHkyPSIyMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sliders-horizontal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SlidersHorizontal = createLucideIcon('SlidersHorizontal', [\n  ['line', { x1: '21', x2: '14', y1: '4', y2: '4', key: 'obuewd' }],\n  ['line', { x1: '10', x2: '3', y1: '4', y2: '4', key: '1q6298' }],\n  ['line', { x1: '21', x2: '12', y1: '12', y2: '12', key: '1iu8h1' }],\n  ['line', { x1: '8', x2: '3', y1: '12', y2: '12', key: 'ntss68' }],\n  ['line', { x1: '21', x2: '16', y1: '20', y2: '20', key: '14d8ph' }],\n  ['line', { x1: '12', x2: '3', y1: '20', y2: '20', key: 'm0wm8r' }],\n  ['line', { x1: '14', x2: '14', y1: '2', y2: '6', key: '14e1ph' }],\n  ['line', { x1: '8', x2: '8', y1: '10', y2: '14', key: '1i6ji0' }],\n  ['line', { x1: '16', x2: '16', y1: '18', y2: '22', key: '1lctlv' }],\n]);\n\nexport default SlidersHorizontal;\n","import * as React from 'react';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createCollection } from '@radix-ui/react-collection';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst PAGE_KEYS = ['PageUp', 'PageDown'];\nconst ARROW_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];\n\ntype SlideDirection = 'from-left' | 'from-right' | 'from-bottom' | 'from-top';\nconst BACK_KEYS: Record<SlideDirection, string[]> = {\n  'from-left': ['Home', 'PageDown', 'ArrowDown', 'ArrowLeft'],\n  'from-right': ['Home', 'PageDown', 'ArrowDown', 'ArrowRight'],\n  'from-bottom': ['Home', 'PageDown', 'ArrowDown', 'ArrowLeft'],\n  'from-top': ['Home', 'PageDown', 'ArrowUp', 'ArrowLeft'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Slider\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLIDER_NAME = 'Slider';\n\nconst [Collection, useCollection, createCollectionScope] =\n  createCollection<SliderThumbElement>(SLIDER_NAME);\n\ntype ScopedProps<P> = P & { __scopeSlider?: Scope };\nconst [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope,\n]);\n\ntype SliderContextValue = {\n  name: string | undefined;\n  disabled: boolean | undefined;\n  min: number;\n  max: number;\n  values: number[];\n  valueIndexToChangeRef: React.MutableRefObject<number>;\n  thumbs: Set<SliderThumbElement>;\n  orientation: SliderProps['orientation'];\n  form: string | undefined;\n};\n\nconst [SliderProvider, useSliderContext] = createSliderContext<SliderContextValue>(SLIDER_NAME);\n\ntype SliderElement = SliderHorizontalElement | SliderVerticalElement;\ninterface SliderProps\n  extends Omit<\n    SliderHorizontalProps | SliderVerticalProps,\n    keyof SliderOrientationPrivateProps | 'defaultValue'\n  > {\n  name?: string;\n  disabled?: boolean;\n  orientation?: React.AriaAttributes['aria-orientation'];\n  dir?: Direction;\n  min?: number;\n  max?: number;\n  step?: number;\n  minStepsBetweenThumbs?: number;\n  value?: number[];\n  defaultValue?: number[];\n  onValueChange?(value: number[]): void;\n  onValueCommit?(value: number[]): void;\n  inverted?: boolean;\n  form?: string;\n}\n\nconst Slider = React.forwardRef<SliderElement, SliderProps>(\n  (props: ScopedProps<SliderProps>, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = 'horizontal',\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {},\n      onValueCommit = () => {},\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef<SliderContextValue['thumbs']>(new Set());\n    const valueIndexToChangeRef = React.useRef<number>(0);\n    const isHorizontal = orientation === 'horizontal';\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value);\n      },\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n\n    function handleSlideStart(value: number) {\n      const closestIndex = getClosestValueIndex(values, value);\n      updateValues(value, closestIndex);\n    }\n\n    function handleSlideMove(value: number) {\n      updateValues(value, valueIndexToChangeRef.current);\n    }\n\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n\n    function updateValues(value: number, atIndex: number, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n\n    return (\n      <SliderProvider\n        scope={props.__scopeSlider}\n        name={name}\n        disabled={disabled}\n        min={min}\n        max={max}\n        valueIndexToChangeRef={valueIndexToChangeRef}\n        thumbs={thumbRefs.current}\n        values={values}\n        orientation={orientation}\n        form={form}\n      >\n        <Collection.Provider scope={props.__scopeSlider}>\n          <Collection.Slot scope={props.__scopeSlider}>\n            <SliderOrientation\n              aria-disabled={disabled}\n              data-disabled={disabled ? '' : undefined}\n              {...sliderProps}\n              ref={forwardedRef}\n              onPointerDown={composeEventHandlers(sliderProps.onPointerDown, () => {\n                if (!disabled) valuesBeforeSlideStartRef.current = values;\n              })}\n              min={min}\n              max={max}\n              inverted={inverted}\n              onSlideStart={disabled ? undefined : handleSlideStart}\n              onSlideMove={disabled ? undefined : handleSlideMove}\n              onSlideEnd={disabled ? undefined : handleSlideEnd}\n              onHomeKeyDown={() => !disabled && updateValues(min, 0, { commit: true })}\n              onEndKeyDown={() =>\n                !disabled && updateValues(max, values.length - 1, { commit: true })\n              }\n              onStepKeyDown={({ event, direction: stepDirection }) => {\n                if (!disabled) {\n                  const isPageKey = PAGE_KEYS.includes(event.key);\n                  const isSkipKey = isPageKey || (event.shiftKey && ARROW_KEYS.includes(event.key));\n                  const multiplier = isSkipKey ? 10 : 1;\n                  const atIndex = valueIndexToChangeRef.current;\n                  const value = values[atIndex]!;\n                  const stepInDirection = step * multiplier * stepDirection;\n                  updateValues(value + stepInDirection, atIndex, { commit: true });\n                }\n              }}\n            />\n          </Collection.Slot>\n        </Collection.Provider>\n      </SliderProvider>\n    );\n  }\n);\n\nSlider.displayName = SLIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderHorizontal\n * -----------------------------------------------------------------------------------------------*/\n\ntype Side = 'top' | 'right' | 'bottom' | 'left';\n\nconst [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext<{\n  startEdge: Side;\n  endEdge: Side;\n  size: keyof NonNullable<ReturnType<typeof useSize>>;\n  direction: number;\n}>(SLIDER_NAME, {\n  startEdge: 'left',\n  endEdge: 'right',\n  size: 'width',\n  direction: 1,\n});\n\ntype SliderOrientationPrivateProps = {\n  min: number;\n  max: number;\n  inverted: boolean;\n  onSlideStart?(value: number): void;\n  onSlideMove?(value: number): void;\n  onSlideEnd?(): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(step: { event: React.KeyboardEvent; direction: number }): void;\n};\ninterface SliderOrientationProps\n  extends Omit<SliderImplProps, keyof SliderImplPrivateProps>,\n    SliderOrientationPrivateProps {}\n\ntype SliderHorizontalElement = SliderImplElement;\ninterface SliderHorizontalProps extends SliderOrientationProps {\n  dir?: Direction;\n}\n\nconst SliderHorizontal = React.forwardRef<SliderHorizontalElement, SliderHorizontalProps>(\n  (props: ScopedProps<SliderHorizontalProps>, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState<SliderImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef<DOMRect>(undefined);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === 'ltr';\n    const isSlidingFromLeft = (isDirectionLTR && !inverted) || (!isDirectionLTR && inverted);\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || slider!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.width];\n      const output: [number, number] = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isSlidingFromLeft ? 'left' : 'right'}\n        endEdge={isSlidingFromLeft ? 'right' : 'left'}\n        direction={isSlidingFromLeft ? 1 : -1}\n        size=\"width\"\n      >\n        <SliderImpl\n          dir={direction}\n          data-orientation=\"horizontal\"\n          {...sliderProps}\n          ref={composedRefs}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateX(-50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => {\n            rectRef.current = undefined;\n            onSlideEnd?.();\n          }}\n          onStepKeyDown={(event) => {\n            const slideDirection = isSlidingFromLeft ? 'from-left' : 'from-right';\n            const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderVertical\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderVerticalElement = SliderImplElement;\ninterface SliderVerticalProps extends SliderOrientationProps {}\n\nconst SliderVertical = React.forwardRef<SliderVerticalElement, SliderVerticalProps>(\n  (props: ScopedProps<SliderVerticalProps>, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef<SliderImplElement>(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef<DOMRect>(undefined);\n    const isSlidingFromBottom = !inverted;\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || sliderRef.current!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.height];\n      const output: [number, number] = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isSlidingFromBottom ? 'bottom' : 'top'}\n        endEdge={isSlidingFromBottom ? 'top' : 'bottom'}\n        size=\"height\"\n        direction={isSlidingFromBottom ? 1 : -1}\n      >\n        <SliderImpl\n          data-orientation=\"vertical\"\n          {...sliderProps}\n          ref={ref}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateY(50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => {\n            rectRef.current = undefined;\n            onSlideEnd?.();\n          }}\n          onStepKeyDown={(event) => {\n            const slideDirection = isSlidingFromBottom ? 'from-bottom' : 'from-top';\n            const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderImpl\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderImplElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ntype SliderImplPrivateProps = {\n  onSlideStart(event: React.PointerEvent): void;\n  onSlideMove(event: React.PointerEvent): void;\n  onSlideEnd(event: React.PointerEvent): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(event: React.KeyboardEvent): void;\n};\ninterface SliderImplProps extends PrimitiveDivProps, SliderImplPrivateProps {}\n\nconst SliderImpl = React.forwardRef<SliderImplElement, SliderImplProps>(\n  (props: ScopedProps<SliderImplProps>, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n\n    return (\n      <Primitive.span\n        {...sliderProps}\n        ref={forwardedRef}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === 'Home') {\n            onHomeKeyDown(event);\n            // Prevent scrolling to page start\n            event.preventDefault();\n          } else if (event.key === 'End') {\n            onEndKeyDown(event);\n            // Prevent scrolling to page end\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            // Prevent scrolling for directional key presses\n            event.preventDefault();\n          }\n        })}\n        onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target as HTMLElement;\n          target.setPointerCapture(event.pointerId);\n          // Prevent browser focus behaviour because we focus a thumb manually when values change.\n          event.preventDefault();\n          // Touch devices have a delay before focusing so won't focus if touch immediately moves\n          // away from target (sliding). We want thumb to focus regardless.\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        })}\n        onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        })}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })}\n      />\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderTrack\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRACK_NAME = 'SliderTrack';\n\ntype SliderTrackElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SliderTrackProps extends PrimitiveSpanProps {}\n\nconst SliderTrack = React.forwardRef<SliderTrackElement, SliderTrackProps>(\n  (props: ScopedProps<SliderTrackProps>, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return (\n      <Primitive.span\n        data-disabled={context.disabled ? '' : undefined}\n        data-orientation={context.orientation}\n        {...trackProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nSliderTrack.displayName = TRACK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderRange\n * -----------------------------------------------------------------------------------------------*/\n\nconst RANGE_NAME = 'SliderRange';\n\ntype SliderRangeElement = React.ComponentRef<typeof Primitive.span>;\ninterface SliderRangeProps extends PrimitiveSpanProps {}\n\nconst SliderRange = React.forwardRef<SliderRangeElement, SliderRangeProps>(\n  (props: ScopedProps<SliderRangeProps>, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef<HTMLSpanElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map((value) =>\n      convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n\n    return (\n      <Primitive.span\n        data-orientation={context.orientation}\n        data-disabled={context.disabled ? '' : undefined}\n        {...rangeProps}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          [orientation.startEdge]: offsetStart + '%',\n          [orientation.endEdge]: offsetEnd + '%',\n        }}\n      />\n    );\n  }\n);\n\nSliderRange.displayName = RANGE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderThumb\n * -----------------------------------------------------------------------------------------------*/\n\nconst THUMB_NAME = 'SliderThumb';\n\ntype SliderThumbElement = SliderThumbImplElement;\ninterface SliderThumbProps extends Omit<SliderThumbImplProps, 'index'> {}\n\nconst SliderThumb = React.forwardRef<SliderThumbElement, SliderThumbProps>(\n  (props: ScopedProps<SliderThumbProps>, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState<SliderThumbImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => (thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1),\n      [getItems, thumb]\n    );\n    return <SliderThumbImpl {...props} ref={composedRefs} index={index} />;\n  }\n);\n\ntype SliderThumbImplElement = React.ComponentRef<typeof Primitive.span>;\ninterface SliderThumbImplProps extends PrimitiveSpanProps {\n  index: number;\n  name?: string;\n}\n\nconst SliderThumbImpl = React.forwardRef<SliderThumbImplElement, SliderThumbImplProps>(\n  (props: ScopedProps<SliderThumbImplProps>, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState<HTMLSpanElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = thumb ? context.form || !!thumb.closest('form') : true;\n    const size = useSize(thumb);\n    // We cast because index could be `-1` which would return undefined\n    const value = context.values[index] as number | undefined;\n    const percent =\n      value === undefined ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize\n      ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction)\n      : 0;\n\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n\n    return (\n      <span\n        style={{\n          transform: 'var(--radix-slider-thumb-transform)',\n          position: 'absolute',\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`,\n        }}\n      >\n        <Collection.ItemSlot scope={props.__scopeSlider}>\n          <Primitive.span\n            role=\"slider\"\n            aria-label={props['aria-label'] || label}\n            aria-valuemin={context.min}\n            aria-valuenow={value}\n            aria-valuemax={context.max}\n            aria-orientation={context.orientation}\n            data-orientation={context.orientation}\n            data-disabled={context.disabled ? '' : undefined}\n            tabIndex={context.disabled ? undefined : 0}\n            {...thumbProps}\n            ref={composedRefs}\n            /**\n             * There will be no value on initial render while we work out the index so we hide thumbs\n             * without a value, otherwise SSR will render them in the wrong position before they\n             * snap into the correct position during hydration which would be visually jarring for\n             * slower connections.\n             */\n            style={value === undefined ? { display: 'none' } : props.style}\n            onFocus={composeEventHandlers(props.onFocus, () => {\n              context.valueIndexToChangeRef.current = index;\n            })}\n          />\n        </Collection.ItemSlot>\n\n        {isFormControl && (\n          <SliderBubbleInput\n            key={index}\n            name={\n              name ??\n              (context.name ? context.name + (context.values.length > 1 ? '[]' : '') : undefined)\n            }\n            form={context.form}\n            value={value}\n          />\n        )}\n      </span>\n    );\n  }\n);\n\nSliderThumb.displayName = THUMB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'RadioBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface SliderBubbleInputProps extends InputProps {}\n\nconst SliderBubbleInput = React.forwardRef<HTMLInputElement, SliderBubbleInputProps>(\n  ({ __scopeSlider, value, ...props }: ScopedProps<SliderBubbleInputProps>, forwardedRef) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n\n    // Bubble value change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'value') as PropertyDescriptor;\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event('input', { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n\n    /**\n     * We purposefully do not use `type=\"hidden\"` here otherwise forms that\n     * wrap it will not be able to access its value via the FormData API.\n     *\n     * We purposefully do not add the `value` attribute here to allow the value\n     * to be set programmatically and bubble to any parent form `onChange` event.\n     * Adding the `value` will cause React to consider the programmatic\n     * dispatch a duplicate and it will get swallowed.\n     */\n    return (\n      <Primitive.input\n        style={{ display: 'none' }}\n        {...props}\n        ref={composedRefs}\n        defaultValue={value}\n      />\n    );\n  }\n);\n\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getNextSortedValues(prevValues: number[] = [], nextValue: number, atIndex: number) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\n\nfunction convertValueToPercentage(value: number, min: number, max: number) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\n\n/**\n * Returns a label for each thumb when there are two or more thumbs\n */\nfunction getLabel(index: number, totalValues: number) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return ['Minimum', 'Maximum'][index];\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Given a `values` array and a `nextValue`, determine which value in\n * the array is closest to `nextValue` and return its index.\n *\n * @example\n * // returns 1\n * getClosestValueIndex([10, 30], 25);\n */\nfunction getClosestValueIndex(values: number[], nextValue: number) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\n\n/**\n * Offsets the thumb centre point while sliding to ensure it remains\n * within the bounds of the slider when reaching the edges\n */\nfunction getThumbInBoundsOffset(width: number, left: number, direction: number) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\n\n/**\n * Gets an array of steps between each value.\n *\n * @example\n * // returns [1, 9]\n * getStepsBetweenValues([10, 11, 20]);\n */\nfunction getStepsBetweenValues(values: number[]) {\n  return values.slice(0, -1).map((value, index) => values[index + 1]! - value);\n}\n\n/**\n * Verifies the minimum steps between all values is greater than or equal\n * to the expected minimum steps.\n *\n * @example\n * // returns false\n * hasMinStepsBetweenValues([1,2,3], 2);\n *\n * @example\n * // returns true\n * hasMinStepsBetweenValues([1,2,3], 1);\n */\nfunction hasMinStepsBetweenValues(values: number[], minStepsBetweenValues: number) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\n\n// https://github.com/tmcw-up-for-adoption/simple-linear-scale/blob/master/index.js\nfunction linearScale(input: readonly [number, number], output: readonly [number, number]) {\n  return (value: number) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\n\nfunction getDecimalCount(value: number) {\n  return (String(value).split('.')[1] || '').length;\n}\n\nfunction roundValue(value: number, decimalCount: number) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\n\nconst Root = Slider;\nconst Track = SliderTrack;\nconst Range = SliderRange;\nconst Thumb = SliderThumb;\n\nexport {\n  createSliderScope,\n  //\n  Slider,\n  SliderTrack,\n  SliderRange,\n  SliderThumb,\n  //\n  Root,\n  Track,\n  Range,\n  Thumb,\n};\nexport type { SliderProps, SliderTrackProps, SliderRangeProps, SliderThumbProps };\n"],"names":[],"mappings":"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","ignoreList":[0,4,5,6]}