module.exports=[89619,a=>{"use strict";let b=(0,a.i(70106).default)("Signature",[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284",key:"y32ogt"}],["path",{d:"M3 21h18",key:"itz85i"}]]);a.s(["Signature",()=>b],89619)},91462,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(86304),f=a.i(4720),g=a.i(89619),h=a.i(38246),i=a.i(23690);a.i(79597);var j=a.i(36505),k=a.i(73810);a.i(69387);var l=a.i(60574),m=a.i(42816);function n(a,b){let c=[];for(let d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}function o(){let{user:a,isUserLoading:o}=(0,j.useUser)(),p=(0,j.useFirestore)(),[q,r]=c.useState([]),[s,t]=c.useState(!0),u=(0,j.useMemoFirebase)(()=>a?(0,l.query)((0,l.collection)(p,"leaseAgreements"),(0,l.where)("tenantId","==",a.uid)):null,[a,p]),{data:v,isLoading:w}=(0,k.useCollection)(u);return(c.useEffect(()=>{if(!w){if(!v||!p){r([]),t(!1);return}(async()=>{if(t(!0),0===v.length){r([]),t(!1);return}let a=[...new Set(v.map(a=>a.landlordId))].filter(Boolean),b=[...new Set(v.map(a=>a.propertyId))].filter(Boolean),c=new Map,d=new Map;if(a.length>0)for(let b of n(a,30)){let a=(0,l.query)((0,l.collection)(p,"users"),(0,l.where)((0,l.documentId)(),"in",b));(await (0,l.getDocs)(a)).forEach(a=>c.set(a.id,{id:a.id,...a.data()}))}if(b.length>0)for(let a of n(b,30)){let b=(0,l.query)((0,l.collection)(p,"properties"),(0,l.where)((0,l.documentId)(),"in",a));(await (0,l.getDocs)(b)).forEach(a=>d.set(a.id,{id:a.id,...a.data()}))}r(v.map(a=>({lease:a,landlord:c.get(a.landlordId)||null,property:d.get(a.propertyId)||null})).sort((a,b)=>new Date(b.lease.startDate).getTime()-new Date(a.lease.startDate).getTime())),t(!1)})()}},[v,w,p]),o||w||s)?(0,b.jsx)(m.default,{}):(0,b.jsxs)("div",{className:"space-y-12 pb-20 animate-in fade-in duration-700",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"font-headline text-4xl md:text-5xl font-black tracking-tight text-foreground underline decoration-primary/20 underline-offset-8",children:"LEASES"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground font-medium",children:"View and manage your lease agreements."})]}),(0,b.jsxs)("div",{className:"px-6 py-3 bg-primary/5 rounded-2xl border-2 border-primary/10 flex items-center gap-3",children:[(0,b.jsx)(f.FileText,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("span",{className:"font-black text-sm uppercase tracking-widest",children:[q.length," AGREEMENTS"]})]})]}),q.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:q.map(({lease:a,landlord:c,property:j})=>(0,b.jsxs)("div",{className:"group relative overflow-hidden rounded-[2.5rem] bg-white border-2 border-muted/10 shadow-xl shadow-black/[0.02] hover:shadow-2xl hover:border-primary/20 transition-all p-8 md:p-10",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-bl-[5rem] -mr-8 -mt-8 transition-all group-hover:scale-110"}),(0,b.jsxs)("div",{className:"relative z-10 space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(e.Badge,{variant:(a=>{switch(a){case"active":return"secondary";case"expired":return"outline";default:return"default"}})(a.status),className:"px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest mb-3",children:a.status}),(0,b.jsx)("h3",{className:"text-2xl font-black tracking-tight group-hover:text-primary transition-colors",children:j?.title||"Unknown Property"}),(0,b.jsxs)("p",{className:"text-muted-foreground font-medium text-sm flex items-center gap-2",children:[(0,b.jsx)(f.FileText,{className:"h-4 w-4 opacity-40"}),j?.type," â€¢ ",j?.bedrooms," Bed"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-muted-foreground/60 uppercase tracking-[0.2em] mb-1",children:"LANDLORD"}),(0,b.jsx)("p",{className:"font-bold text-lg",children:c?.name||"Anonymous"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6 p-6 rounded-3xl bg-muted/20 border-2 border-white",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-muted-foreground/40 uppercase tracking-widest mb-1",children:"TERM START"}),(0,b.jsx)("p",{className:"font-black text-lg",children:new Date(a.startDate).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-black text-muted-foreground/40 uppercase tracking-widest mb-1",children:"TERM END"}),(0,b.jsx)("p",{className:"font-black text-lg",children:new Date(a.endDate).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-6 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:(0,i.cn)("h-3 w-3 rounded-full animate-pulse","active"===a.status?"bg-green-500":"bg-muted/40")}),(0,b.jsx)("span",{className:"text-xs font-black uppercase tracking-widest text-muted-foreground/60",children:"active"===a.status?"ACTIVE LEASE":"EXPIRED LEASE"})]}),(0,b.jsx)(h.default,{href:`/student/leases/${a.id}`,className:"w-full sm:w-auto",children:(0,b.jsx)(d.Button,{variant:"pending"===a.status?"default":"outline",className:"w-full h-14 rounded-2xl px-10 font-black text-sm uppercase tracking-widest gap-3 shadow-lg shadow-primary/5 hover:scale-105 active:scale-95 transition-all",children:"pending"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Signature,{className:"h-4 w-4"})," REVIEW & SIGN"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.FileText,{className:"h-4 w-4"})," VIEW DOCUMENTS"]})})})]})]})]},a.id))}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[3rem] border-4 border-dotted border-muted/30 p-24 text-center space-y-8 animate-in zoom-in duration-500",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full scale-150 animate-pulse"}),(0,b.jsx)("div",{className:"relative h-28 w-28 flex items-center justify-center rounded-[2.5rem] bg-white shadow-2xl border-2 border-muted/10",children:(0,b.jsx)(f.FileText,{className:"h-12 w-12 text-muted-foreground/40"})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-3xl font-black",children:"No Leases Found"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground max-w-md mx-auto",children:"You don't have any lease agreements yet."})]}),(0,b.jsx)(h.default,{href:"/student/properties",children:(0,b.jsx)(d.Button,{className:"h-16 rounded-2xl px-12 font-black text-sm shadow-2xl hover:scale-105 transition-all",children:"EXPLORE PROPERTIES"})})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_35b96ccc._.js.map