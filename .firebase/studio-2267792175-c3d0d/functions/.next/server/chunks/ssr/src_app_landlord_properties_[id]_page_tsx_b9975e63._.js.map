{"version":3,"sources":["../../../../src/app/landlord/properties/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { notFound, useParams, useRouter, useSearchParams } from 'next/navigation';\r\nimport { formatPrice, cn } from '@/utils';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table';\r\nimport {\r\n  Tabs,\r\n  TabsContent,\r\n  TabsList,\r\n  TabsTrigger,\r\n} from \"@/components/ui/tabs\";\r\nimport {\r\n  Carousel,\r\n  CarouselContent,\r\n  CarouselItem,\r\n  CarouselNext,\r\n  CarouselPrevious,\r\n} from \"@/components/ui/carousel\";\r\nimport {\r\n  BedDouble,\r\n  Bath,\r\n  Ruler,\r\n  Check,\r\n  Pencil,\r\n  Building,\r\n  MapPin,\r\n  Loader2,\r\n  CheckCircle2,\r\n  MessageSquare,\r\n  DollarSign,\r\n  ChevronLeft,\r\n  Star,\r\n  Wifi,\r\n  Dog,\r\n  Wind,\r\n  Tv,\r\n  ParkingCircle,\r\n  User,\r\n  Users,\r\n  GraduationCap,\r\n  Flag,\r\n  Share2,\r\n  Heart\r\n} from 'lucide-react';\r\nimport type { Property, UserProfile, RentalApplication, PropertyReview } from '@/types';\r\nimport Link from 'next/link';\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport LeaseGenerationDialog from '@/components/lease-generation-dialog';\r\nimport { SharePropertyModal } from '@/components/share-property-modal';\r\nimport { ReportUserDialog } from '@/components/report-user-dialog';\r\nimport { useUser, useFirestore, useDoc, useCollection, useMemoFirebase } from '@/firebase';\r\nimport { doc, collection, query, where, addDoc, updateDoc, getDocs, documentId } from 'firebase/firestore';\r\nimport { updateDocumentNonBlocking } from '@/firebase/non-blocking-updates';\r\nimport Loading from '@/app/loading';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport Image from 'next/image';\r\nimport { PropertyGallery } from '@/components/property-gallery';\r\nimport { PropertyHeroCarousel } from '@/components/property-hero-carousel';\r\n\r\ntype AggregatedRequest = {\r\n  request: RentalApplication;\r\n  applicant: UserProfile | null;\r\n};\r\n\r\nconst amenityIcons: { [key: string]: React.ReactNode } = {\r\n  'Furnished': <Tv className=\"h-5 w-5 text-primary\" />,\r\n  'Wi-Fi': <Wifi className=\"h-5 w-5 text-primary\" />,\r\n  'In-unit Laundry': <Wind className=\"h-5 w-5 text-primary\" />,\r\n  'Pet Friendly': <Dog className=\"h-5 w-5 text-primary\" />,\r\n  'Parking Spot': <ParkingCircle className=\"h-5 w-5 text-primary\" />,\r\n};\r\n\r\n// Helper function to split an array into chunks\r\nfunction chunkArray<T>(array: T[], size: number): T[][] {\r\n  const chunks: T[][] = [];\r\n  for (let i = 0; i < array.length; i += size) {\r\n    chunks.push(array.slice(i, i + size));\r\n  }\r\n  return chunks;\r\n}\r\n\r\nexport default function LandlordPropertyDetailPage() {\r\n  const { user, isUserLoading } = useUser();\r\n  const params = useParams();\r\n  const id = Array.isArray(params.id) ? params.id[0] : params.id;\r\n  const firestore = useFirestore();\r\n  const router = useRouter();\r\n\r\n  const [api, setApi] = React.useState<any>();\r\n  const [current, setCurrent] = React.useState(0);\r\n  const [count, setCount] = React.useState(0);\r\n  const searchParams = useSearchParams();\r\n  const [showShareModal, setShowShareModal] = useState(false);\r\n  const [reportDialogOpen, setReportDialogOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (searchParams.get('new') === 'true') {\r\n      setShowShareModal(true);\r\n      // Remove query param without reload\r\n      const newUrl = window.location.pathname;\r\n      window.history.replaceState({}, '', newUrl);\r\n    }\r\n  }, [searchParams]);\r\n\r\n  const propertyRef = useMemoFirebase(() => id ? doc(firestore, 'properties', id) : null, [firestore, id]);\r\n  const { data: property, isLoading: isPropertyLoading } = useDoc<Property>(propertyRef);\r\n\r\n  const landlordRef = useMemoFirebase(() => property?.landlordId ? doc(firestore, 'users', property.landlordId) : null, [firestore, property]);\r\n  const { data: landlord, isLoading: isLandlordLoading } = useDoc<UserProfile>(landlordRef);\r\n\r\n  const tenantRef = useMemoFirebase(() => property?.currentTenantId ? doc(firestore, 'users', property.currentTenantId) : null, [firestore, property]);\r\n  const { data: tenant, isLoading: isTenantLoading } = useDoc<UserProfile>(tenantRef);\r\n\r\n  const reviewsQuery = useMemoFirebase(() => id ? query(collection(firestore, 'propertyReviews'), where('propertyId', '==', id)) : null, [firestore, id]);\r\n  const { data: reviews, isLoading: areReviewsLoading } = useCollection<PropertyReview>(reviewsQuery);\r\n\r\n  const [aggregatedRequests, setAggregatedRequests] = useState<AggregatedRequest[]>([]);\r\n  const [areRequestsLoading, setAreRequestsLoading] = useState(true);\r\n\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [selectedRequest, setSelectedRequest] = useState<AggregatedRequest | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!api) return;\r\n    setCount(api.scrollSnapList().length);\r\n    setCurrent(api.selectedScrollSnap() + 1);\r\n    api.on(\"select\", () => {\r\n      setCurrent(api.selectedScrollSnap() + 1);\r\n    });\r\n  }, [api]);\r\n\r\n  useEffect(() => {\r\n    if (!id || !firestore || !user) return;\r\n\r\n    const fetchRequestsAndApplicants = async () => {\r\n      setAreRequestsLoading(true);\r\n      const requestsQuery = query(collection(firestore, 'rentalApplications'), where('propertyId', '==', id), where('landlordId', '==', user.uid));\r\n      const requestsSnapshot = await getDocs(requestsQuery);\r\n      const rentalRequests: RentalApplication[] = requestsSnapshot.docs.map((d: any) => ({ ...d.data(), id: d.id } as RentalApplication));\r\n\r\n      if (rentalRequests.length === 0) {\r\n        setAggregatedRequests([]);\r\n        setAreRequestsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const applicantIds = [...new Set(rentalRequests.map(r => r.tenantId))].filter(Boolean);\r\n      const usersMap = new Map<string, UserProfile>();\r\n\r\n      if (applicantIds.length > 0) {\r\n        const userChunks = chunkArray(applicantIds, 30);\r\n        for (const chunk of userChunks) {\r\n          const usersQuery = query(collection(firestore, 'users'), where(documentId(), 'in', chunk));\r\n          const usersSnapshot = await getDocs(usersQuery);\r\n          usersSnapshot.forEach((doc: any) => usersMap.set(doc.id, { id: doc.id, ...doc.data() } as UserProfile));\r\n        }\r\n      }\r\n\r\n      const finalRequests = rentalRequests.map(request => ({\r\n        request,\r\n        applicant: request.tenantId ? usersMap.get(request.tenantId) || null : null\r\n      }));\r\n\r\n      setAggregatedRequests(finalRequests);\r\n      setAreRequestsLoading(false);\r\n    };\r\n\r\n    fetchRequestsAndApplicants();\r\n  }, [id, firestore, user]);\r\n\r\n  const isLoading = isUserLoading || isPropertyLoading || isLandlordLoading || areReviewsLoading;\r\n\r\n  if (isLoading) return <Loading />;\r\n\r\n  if (!property) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center text-center py-20\">\r\n        <div className=\"rounded-full bg-secondary p-4\">\r\n          <Building className=\"h-10 w-10 text-muted-foreground\" />\r\n        </div>\r\n        <h1 className=\"mt-6 text-2xl font-bold\">Property Not Found</h1>\r\n        <p className=\"mt-2 text-muted-foreground\">The property you are looking for does not exist or you do not have permission to view it.</p>\r\n        <Button asChild className=\"mt-6\">\r\n          <Link href=\"/landlord/properties\">Back to My Properties</Link>\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (user && property.landlordId !== user.uid) return notFound();\r\n\r\n  const handleAcceptClick = (request: AggregatedRequest) => {\r\n    setSelectedRequest(request);\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleLeaseSigned = async (finalText: string) => {\r\n    if (selectedRequest?.request && property?.leaseTemplate && landlord) {\r\n      const requestRef = doc(firestore, 'rentalApplications', selectedRequest.request.id);\r\n      updateDocumentNonBlocking(requestRef, { status: 'approved' });\r\n\r\n      const propRef = doc(firestore, 'properties', property.id);\r\n      const leaseStartDate = new Date().toISOString();\r\n      updateDocumentNonBlocking(propRef, { status: 'occupied', currentTenantId: selectedRequest.request.tenantId, leaseStartDate });\r\n\r\n      const leaseCollectionRef = collection(firestore, 'leaseAgreements');\r\n      const leaseDocRef = await addDoc(leaseCollectionRef, {\r\n        propertyId: property.id,\r\n        landlordId: landlord.id,\r\n        tenantId: selectedRequest.request.tenantId,\r\n        leaseText: finalText,\r\n        landlordSigned: true,\r\n        tenantSigned: false,\r\n        startDate: leaseStartDate,\r\n        endDate: new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString(),\r\n        currency: property.currency,\r\n        status: 'pending'\r\n      });\r\n      await updateDoc(leaseDocRef, { id: leaseDocRef.id });\r\n    }\r\n  };\r\n\r\n  const handleDeclineClick = (requestId: string) => {\r\n    const requestRef = doc(firestore, 'rentalApplications', requestId);\r\n    updateDocumentNonBlocking(requestRef, { status: 'declined' });\r\n  };\r\n\r\n  const averageRating = reviews && reviews.length > 0 ? reviews.reduce((acc, r) => acc + r.rating, 0) / reviews.length : 0;\r\n\r\n  return (\r\n    <div className=\"min-h-screen pb-20 animate-in fade-in duration-700\">\r\n      {/* Back Button */}\r\n      <div className=\"container mx-auto max-w-7xl px-4 lg:px-8 mt-0\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => router.back()}\r\n          className=\"gap-2 hover:gap-3 transition-all\"\r\n        >\r\n          <ChevronLeft className=\"h-4 w-4\" />\r\n          Back to Properties\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Hero Section - Image Carousel only */}\r\n      <div className=\"container mx-auto max-w-7xl px-4 lg:px-8 mt-4\">\r\n        <PropertyHeroCarousel images={property.images} title={property.title} />\r\n      </div>\r\n\r\n      <div className=\"container mx-auto max-w-7xl px-4 lg:px-8 mt-12\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-12\">\r\n          {/* Left Column */}\r\n          <div className=\"lg:col-span-2 space-y-10\">\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <Badge variant=\"secondary\" className=\"bg-primary/10 text-primary border-none px-4 py-1 text-xs font-bold uppercase tracking-widest\">{property.type}</Badge>\r\n                {property.status === 'occupied' ? (\r\n                  <Badge variant=\"destructive\" className=\"px-4 py-1 text-xs font-bold uppercase tracking-widest\">Occupied</Badge>\r\n                ) : (\r\n                  <Badge variant=\"secondary\" className=\"bg-green-500/10 text-green-600 px-4 py-1 text-xs font-bold uppercase tracking-widest\">Available</Badge>\r\n                )}\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-6\">\r\n                  <h1 className=\"text-3xl md:text-6xl font-black tracking-tight text-foreground leading-tight uppercase font-headline flex-1\">\r\n                    {property.title}\r\n                  </h1>\r\n                  <div className=\"flex items-center gap-3 shrink-0 md:mt-2\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      className=\"h-14 w-14 rounded-2xl border-2 bg-white hover:border-primary/20 transition-all hover:scale-105\"\r\n                      onClick={() => setShowShareModal(true)}\r\n                    >\r\n                      <Share2 className=\"h-6 w-6\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-wrap items-center gap-x-6 gap-y-3 text-muted-foreground font-bold\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <MapPin className=\"h-5 w-5 text-primary\" />\r\n                    <span>{property.location.address}, {property.location.city}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Star className=\"h-5 w-5 text-yellow-500 fill-current\" />\r\n                    <span className=\"text-foreground\">{averageRating.toFixed(1)}</span>\r\n                    <span className=\"text-sm font-normal\">({reviews?.length || 0} reviews)</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            {/* Specs Grid */}\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              {[\r\n                { icon: BedDouble, label: \"Bedrooms\", val: property.bedrooms },\r\n                { icon: Bath, label: \"Bathrooms\", val: property.bathrooms },\r\n                { icon: Ruler, label: \"Area (Sq Ft)\", val: property.area },\r\n                { icon: Building, label: \"Type\", val: property.type }\r\n              ].map((spec, i) => (\r\n                <div key={i} className=\"bg-muted/30 p-6 rounded-3xl border border-border/50 flex flex-col items-center text-center group hover:bg-primary/5 hover:border-primary/20 transition-all\">\r\n                  <spec.icon className=\"h-8 w-8 text-primary mb-3 transition-transform group-hover:scale-110\" />\r\n                  <p className=\"text-xl font-black\">{spec.val}</p>\r\n                  <p className=\"text-[10px] font-bold uppercase tracking-widest text-muted-foreground\">{spec.label}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Tabs Content */}\r\n            <Tabs defaultValue=\"gallery\" className=\"w-full\">\r\n              <TabsList className=\"w-full justify-start bg-transparent border-b rounded-none px-0 h-auto gap-8 mb-8\">\r\n                <TabsTrigger value=\"gallery\" className=\"text-base font-bold rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-4\">Gallery</TabsTrigger>\r\n                <TabsTrigger value=\"overview\" className=\"text-base font-bold rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-4\">Overview</TabsTrigger>\r\n                <TabsTrigger value=\"amenities\" className=\"text-base font-bold rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-4\">Amenities</TabsTrigger>\r\n                <TabsTrigger value=\"rules\" className=\"text-base font-bold rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-4\">House Rules</TabsTrigger>\r\n                <TabsTrigger value=\"reviews\" className=\"text-base font-bold rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-0 pb-4\">Reviews</TabsTrigger>\r\n              </TabsList>\r\n              <TabsContent value=\"gallery\" className=\"mt-0 space-y-6\">\r\n                <PropertyGallery\r\n                  images={property.images}\r\n                  videos={property.videos}\r\n                  title={property.title}\r\n                />\r\n              </TabsContent>\r\n              <TabsContent value=\"overview\" className=\"mt-0 space-y-6\">\r\n                <h3 className=\"text-2xl font-black tracking-tight uppercase\">About this property</h3>\r\n                <p className=\"text-lg text-muted-foreground font-medium leading-relaxed\">\r\n                  {property.description}\r\n                </p>\r\n              </TabsContent>\r\n              <TabsContent value=\"amenities\" className=\"mt-0\">\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-4\">\r\n                  {property.amenities.map(amenity => (\r\n                    <div key={amenity} className=\"flex items-center gap-3 p-4 rounded-2xl border bg-card/50 backdrop-blur-sm group hover:border-primary/30 transition-all font-bold\">\r\n                      <div className=\"bg-primary/10 p-2 rounded-xl text-primary group-hover:bg-primary group-hover:text-white transition-all\">\r\n                        {amenityIcons[amenity] || <CheckCircle2 className=\"h-5 w-5\" />}\r\n                      </div>\r\n                      <span className=\"text-sm tracking-tight\">{amenity}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </TabsContent>\r\n              <TabsContent value=\"rules\" className=\"mt-0\">\r\n                <div className=\"bg-muted/20 p-8 rounded-[2rem] border-2 border-dashed border-border\">\r\n                  <ul className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    {property.rules.map(rule => (\r\n                      <li key={rule} className=\"flex items-start gap-3 text-muted-foreground font-bold\">\r\n                        <div className=\"h-2 w-2 rounded-full bg-primary mt-2 flex-shrink-0\" />\r\n                        {rule}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </TabsContent>\r\n              <TabsContent value=\"reviews\" className=\"mt-0 space-y-8\">\r\n                <h3 className=\"text-2xl font-black tracking-tight uppercase\">Tenant Reviews</h3>\r\n                {reviews && reviews.length > 0 ? (\r\n                  <div className=\"space-y-6\">\r\n                    {reviews.map(review => (\r\n                      <div key={review.id} className=\"p-6 rounded-3xl border bg-card/50 backdrop-blur-sm space-y-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center gap-4\">\r\n                            <Avatar className=\"h-12 w-12 border-2 border-background shadow-lg\">\r\n                              <AvatarImage src={review.tenantImageUrl} className=\"object-cover\" />\r\n                              <AvatarFallback className=\"bg-primary/10 text-primary font-black\">{review.tenantName?.[0]}</AvatarFallback>\r\n                            </Avatar>\r\n                            <div>\r\n                              <p className=\"font-black text-lg leading-none\">{review.tenantName}</p>\r\n                              <div className=\"flex items-center gap-2 mt-1\">\r\n                                <div className=\"flex\">\r\n                                  {[...Array(5)].map((_, i) => (\r\n                                    <Star key={i} className={cn(\"h-3 w-3\", i < review.rating ? \"text-yellow-500 fill-current\" : \"text-muted/30\")} />\r\n                                  ))}\r\n                                </div>\r\n                                <span className=\"text-xs text-muted-foreground font-black\">{new Date(review.reviewDate).toLocaleDateString(undefined, { month: 'long', year: 'numeric' })}</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"text-muted-foreground leading-relaxed font-bold\">{review.comment}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-12 bg-muted/20 rounded-3xl border border-dashed flex flex-col items-center gap-3\">\r\n                    <Star className=\"h-8 w-8 text-muted/30\" />\r\n                    <p className=\"text-muted-foreground font-black uppercase tracking-widest text-xs opacity-40\">No reviews recorded yet</p>\r\n                  </div>\r\n                )}\r\n              </TabsContent>\r\n            </Tabs>\r\n\r\n            {/* Rental Inquiries Table */}\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-2xl font-black tracking-tight uppercase font-headline\">Rental Inquiries</h3>\r\n                <Badge variant=\"secondary\" className=\"px-3 py-1 bg-primary text-white font-black\">{aggregatedRequests.length}</Badge>\r\n              </div>\r\n              <Card className=\"rounded-[2rem] border-2 border-foreground/5 shadow-xl overflow-hidden bg-white/60 backdrop-blur-xl\">\r\n                <div className=\"bg-white rounded-3xl overflow-hidden border-2 border-foreground/[0.02] shadow-xl\">\r\n                  <div className=\"overflow-x-auto\">\r\n                    <Table>\r\n                      <TableHeader className=\"bg-foreground/5\">\r\n                        <TableRow className=\"hover:bg-transparent\">\r\n                          <TableHead className=\"h-14 font-black text-[10px] uppercase tracking-widest text-foreground pl-8\">Applicant</TableHead>\r\n                          <TableHead className=\"h-14 font-black text-[10px] uppercase tracking-widest text-foreground text-center\">Protocol Status</TableHead>\r\n                          <TableHead className=\"h-14 font-black text-[10px] uppercase tracking-widest text-foreground text-right pr-8\">Actions</TableHead>\r\n                        </TableRow>\r\n                      </TableHeader>\r\n                      <TableBody>\r\n                        {aggregatedRequests.length === 0 ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={3} className=\"py-20 text-center\">\r\n                              <p className=\"text-muted-foreground font-medium uppercase tracking-widest text-xs\">No pending recruitment</p>\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ) : (\r\n                          aggregatedRequests.map(({ request, applicant }) => (\r\n                            <TableRow key={request.id} className=\"group hover:bg-primary/[0.02] transition-colors border-b-2 border-foreground/[0.02] last:border-0 h-24\">\r\n                              <TableCell className=\"pl-8\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                  <Avatar className=\"h-12 w-12 border-2 border-white shadow-xl\">\r\n                                    <AvatarImage src={applicant?.profileImageUrl} className=\"object-cover\" />\r\n                                    <AvatarFallback className=\"bg-primary/10 text-primary font-black\">{applicant?.name?.[0] || 'U'}</AvatarFallback>\r\n                                  </Avatar>\r\n                                  <div>\r\n                                    <p className=\"font-black uppercase tracking-tight text-sm\">{applicant?.name}</p>\r\n                                    <p className=\"text-[10px] font-bold text-muted-foreground/60 tracking-widest lowercase\">{applicant?.email}</p>\r\n                                  </div>\r\n                                </div>\r\n                              </TableCell>\r\n                              <TableCell className=\"text-center\">\r\n                                <Badge className={cn(\r\n                                  \"rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest border-none\",\r\n                                  request.status === 'approved' ? \"bg-green-500/10 text-green-600\" :\r\n                                    request.status === 'declined' ? \"bg-red-500/10 text-red-600\" :\r\n                                      \"bg-primary/10 text-primary\"\r\n                                )}>\r\n                                  {request.status}\r\n                                </Badge>\r\n                              </TableCell>\r\n                              <TableCell className=\"text-right pr-8\">\r\n                                <div className=\"flex justify-end gap-2\">\r\n                                  {request.status === 'pending' && (\r\n                                    <>\r\n                                      <Button\r\n                                        variant=\"outline\"\r\n                                        size=\"sm\"\r\n                                        className=\"h-10 rounded-xl px-4 border-2 font-black text-[10px] uppercase tracking-widest hover:bg-destructive hover:text-white hover:border-destructive transition-all\"\r\n                                        onClick={() => handleDeclineClick(request.id)}\r\n                                      >\r\n                                        Decline\r\n                                      </Button>\r\n                                      <Button\r\n                                        size=\"sm\"\r\n                                        className=\"h-10 rounded-xl px-4 font-black text-[10px] uppercase tracking-widest shadow-lg shadow-primary/20 hover:scale-105 transition-all\"\r\n                                        onClick={() => handleAcceptClick({ request, applicant })}\r\n                                      >\r\n                                        Accept & Proceed\r\n                                      </Button>\r\n                                    </>\r\n                                  )}\r\n                                </div>\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          ))\r\n                        )}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Column */}\r\n          <div className=\"space-y-6\">\r\n            <div className=\"sticky top-12 space-y-6\">\r\n              <Card className=\"border-none bg-background shadow-[0_0_50px_-12px_rgba(0,0,0,0.12)] rounded-[2.5rem] overflow-hidden\">\r\n                <CardHeader className=\"bg-[#0A0A0A] text-white p-8\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <Badge variant=\"secondary\" className=\"bg-white/10 text-white border-white/20 px-3 py-0.5 text-[10px] font-black uppercase tracking-widest\">Monthly Rent</Badge>\r\n                    <div className=\"h-2 w-2 rounded-full bg-primary\" />\r\n                  </div>\r\n                  <p className=\"text-4xl font-black tracking-tight\">\r\n                    {formatPrice(property.price, property.currency)}\r\n                    <span className=\"text-lg font-normal text-white/40 ml-1\">/mo</span>\r\n                  </p>\r\n                </CardHeader>\r\n                <CardContent className=\"p-8 space-y-6\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"p-4 rounded-2xl bg-muted/30 border border-border/50\">\r\n                      <p className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">Status</p>\r\n                      <p className=\"text-sm font-black uppercase tracking-tight\">{property.status}</p>\r\n                    </div>\r\n                    <div className=\"p-4 rounded-2xl bg-muted/30 border border-border/50\">\r\n                      <p className=\"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1\">Inquiries</p>\r\n                      <p className=\"text-sm font-black uppercase tracking-tight\">{aggregatedRequests.length}</p>\r\n                    </div>\r\n                  </div>\r\n                  <Button asChild className=\"w-full h-14 rounded-2xl text-base font-black uppercase tracking-widest shadow-xl shadow-primary/20 hover:scale-[1.02] transition-transform\">\r\n                    <Link href={`/landlord/properties/edit/${property.id}`}>Edit Inventory</Link>\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Tenant Spotlight */}\r\n              {tenant ? (\r\n                <Card className=\"border-none bg-muted/30 rounded-[2rem] p-8 hover:bg-muted/40 transition-colors group\">\r\n                  <div className=\"space-y-6\">\r\n                    <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-primary\">Current Tenant</p>\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <Avatar className=\"h-20 w-20 shadow-xl border-4 border-white group-hover:scale-105 transition-transform\">\r\n                        <AvatarImage src={tenant.profileImageUrl} className=\"object-cover\" />\r\n                        <AvatarFallback className=\"bg-foreground text-white text-xl font-black\">{tenant.name[0]}</AvatarFallback>\r\n                      </Avatar>\r\n                      <div>\r\n                        <h4 className=\"text-xl font-black uppercase tracking-tight\">{tenant.name}</h4>\r\n                        <p className=\"text-xs font-bold text-muted-foreground/60 tracking-widest uppercase truncate max-w-[150px]\">{tenant.email}</p>\r\n                      </div>\r\n                    </div>\r\n                    <Button asChild variant=\"outline\" className=\"w-full h-12 rounded-xl border-2 font-black text-xs uppercase tracking-widest\">\r\n                      <Link href={`/landlord/messages?contact=${tenant.id}`}>Message Tenant</Link>\r\n                    </Button>\r\n                    <div className=\"flex justify-center\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"text-muted-foreground text-[10px] uppercase tracking-widest hover:text-destructive hover:bg-destructive/10\"\r\n                        onClick={() => setReportDialogOpen(true)}\r\n                      >\r\n                        <Flag className=\"mr-2 h-3 w-3\" /> Report Tenant\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              ) : (\r\n                <Card className=\"border-none bg-muted/10 border-2 border-dashed border-muted/20 rounded-[2rem] p-12 text-center space-y-4\">\r\n                  <div className=\"h-16 w-16 rounded-2xl bg-muted shadow-inner mx-auto flex items-center justify-center opacity-20\">\r\n                    <User className=\"h-8 w-8\" />\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xl font-black uppercase tracking-tighter opacity-20\">Inventory Vacant</p>\r\n                    <p className=\"text-[10px] font-black uppercase tracking-widest opacity-20\">Awaiting acquisition</p>\r\n                  </div>\r\n                </Card>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {selectedRequest && landlord && property.leaseTemplate && selectedRequest.applicant && (\r\n        <LeaseGenerationDialog\r\n          isOpen={dialogOpen}\r\n          onClose={() => setDialogOpen(false)}\r\n          onLeaseSigned={handleLeaseSigned}\r\n          landlord={landlord}\r\n          tenant={selectedRequest.applicant}\r\n          property={property}\r\n          templateText={property.leaseTemplate}\r\n        />\r\n      )}\r\n\r\n\r\n\r\n      {tenant && (\r\n        <ReportUserDialog\r\n          isOpen={reportDialogOpen}\r\n          onClose={() => setReportDialogOpen(false)}\r\n          reportedUserId={tenant.id}\r\n          reportedUserName={tenant.name}\r\n        />\r\n      )}\r\n      <SharePropertyModal\r\n        isOpen={showShareModal}\r\n        onClose={() => setShowShareModal(false)}\r\n        propertyId={id as string || \"\"}\r\n        propertyTitle={property.title}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAMA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAQA,EAAA,EAAA,CAAA,CAAA,OAaA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OA2BA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOA,IAAM,EAAmD,CACvD,UAAa,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,EAAE,CAAA,CAAC,UAAU,yBAC3B,QAAS,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yBACzB,kBAAmB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yBACnC,eAAgB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,yBAC/B,eAAgB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,wBAC3C,EAWe,SAAS,IACtB,GAAM,MAAE,CAAI,eAAE,CAAa,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IACjC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAK,MAAM,OAAO,CAAC,EAAO,EAAE,EAAI,EAAO,EAAE,CAAC,EAAE,CAAG,EAAO,EAAE,CACxD,EAAY,CAAA,EAAA,EAAA,YAAA,AAAY,IACxB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,CAAC,EAAK,EAAO,CAAG,EAAA,OAAK,CAAC,QAAQ,GAC9B,CAAC,EAAS,EAAW,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,GACvC,CAAC,EAAO,EAAS,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,GACnC,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEzD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAgC,SAA5B,EAAa,GAAG,CAAC,OAAmB,CACtC,GAAkB,GAElB,IAAM,EAAS,OAAO,QAAQ,CAAC,QAAQ,CACvC,OAAO,OAAO,CAAC,YAAY,CAAC,CAAC,EAAG,GAAI,EACtC,CACF,EAAG,CAAC,EAAa,EAEjB,IAAM,EAAc,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,IAAM,EAAK,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,aAAc,GAAM,KAAM,CAAC,EAAW,EAAG,EACjG,CAAE,KAAM,CAAQ,CAAE,UAAW,CAAiB,CAAE,CAAG,CAAA,EAAA,EAAA,MAAM,AAAN,EAAiB,GAEpE,GAAc,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,IAAM,GAAU,WAAa,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,QAAS,EAAS,UAAU,EAAI,KAAM,CAAC,EAAW,EAAS,EACrI,CAAE,KAAM,EAAQ,CAAE,UAAW,EAAiB,CAAE,CAAG,CAAA,EAAA,EAAA,MAAM,AAAN,EAAoB,IAEvE,GAAY,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,IAAM,GAAU,gBAAkB,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,QAAS,EAAS,eAAe,EAAI,KAAM,CAAC,EAAW,EAAS,EAC7I,CAAE,KAAM,EAAM,CAAE,UAAW,EAAe,CAAE,CAAG,CAAA,EAAA,EAAA,MAAA,AAAM,EAAc,IAEnE,GAAe,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,IAAM,EAAK,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAW,mBAAoB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,aAAc,KAAM,IAAO,KAAM,CAAC,EAAW,EAAG,EAChJ,CAAE,KAAM,EAAO,CAAE,UAAW,EAAiB,CAAE,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,EAAiB,IAEhF,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAsB,EAAE,EAC9E,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAEvD,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2B,MAoDjF,GAlDA,CAAA,AAkDI,EAlDJ,EAAA,SAAA,AAAS,EAAC,KACH,IACL,CADU,CACD,EAAI,cAAc,GAAG,MAAM,EACpC,EAAW,EAAI,kBAAkB,GAAK,GACtC,EAAI,EAAE,CAAC,SAAU,KACf,EAAW,EAAI,kBAAkB,GAAK,EACxC,GACF,EAAG,CAAC,EAAI,EAER,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,AAAK,GAAO,CAAR,EAAO,AAAe,GAmC1B,CAjCmC,EAFH,IAAP,IAGvB,IAAsB,GACtB,IAAM,EAAgB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAW,sBAAuB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,aAAc,KAAM,GAAK,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,aAAc,KAAM,EAAK,GAAG,GAEpI,EAAsC,CADnB,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,EAAA,EACsB,IAAI,CAAC,GAAG,CAAE,AAAD,IAAY,AAAC,CAAE,GAAG,EAAE,IAAI,EAAE,CAAE,GAAI,EAAE,EAAE,CAAC,CAAsB,EAEjI,GAA8B,IAA1B,EAAe,MAAM,CAAQ,CAC/B,GAAsB,EAAE,EACxB,IAAsB,GACtB,MACF,CAEA,IAAM,EAAe,IAAI,IAAI,IAAI,EAAe,GAAG,CAAC,GAAK,EAAE,QAAQ,GAAG,CAAC,MAAM,CAAC,SACxE,EAAW,IAAI,IAErB,GAAI,EAAa,MAAM,CAAG,EAExB,CAF2B,GAEtB,IAAM,KA9EnB,AA6E2B,IACC,KA9EnB,AAAc,CAAU,CAAE,CAAY,EAC7C,IAAM,EAAgB,EAAE,CACxB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,KAAK,CACrC,EAAO,EADoC,EAChC,CAAC,EAAM,KAAK,CAAC,EAAG,IAAI,GAEjC,OAAO,CACT,EAuEsC,EAAc,GACZ,CAC9B,IAAM,EAAa,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAW,SAAU,CAAA,EAAA,EAAA,KAAK,AAAL,EAAM,CAAA,EAAA,EAAA,UAAA,AAAU,IAAI,KAAM,IAEnF,CADsB,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,EAAA,EACtB,OAAO,CAAC,AAAC,GAAa,EAAS,GAAG,CAAC,EAAI,EAAE,CAAE,CAAE,GAAI,EAAI,EAAE,CAAE,GAAG,EAAI,IAAI,EAAG,AAAD,GACtF,CAQF,GALsB,EAAe,GAAG,CAAC,GAAY,OAAD,GAClD,AAIoB,EAHpB,UAAW,EAAQ,QAAQ,EAAG,EAAS,GAAG,CAAC,EAAQ,QAAQ,GAAK,KAClE,CAAC,CADwE,EAIzE,IAAsB,GACxB,GAGF,EAAG,CAAC,EAAI,EAAW,EAAK,EAEN,GAAiB,GAAqB,IAAqB,GAE9D,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAA,GAE9B,GAAI,CAAC,EACH,MACE,CAAA,CAFW,CAEX,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,sCAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,uBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,8FAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,UAAU,gBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,gCAAuB,+BAM1C,GAAI,GAAQ,EAAS,UAAU,GAAK,EAAK,GAAG,CAAE,MAAO,CAAA,EAAA,EAAA,QAAA,AAAQ,IAO7D,IAAM,GAAoB,MAAO,IAC/B,GAAI,IAAiB,SAAW,GAAU,eAAiB,GAAU,CACnE,IAAM,EAAa,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,qBAAsB,GAAgB,OAAO,CAAC,EAAE,EAClF,CAAA,EAAA,EAAA,yBAAA,AAAyB,EAAC,EAAY,CAAE,OAAQ,UAAW,GAE3D,IAAM,EAAU,CAAA,EAAA,EAAA,GAAG,AAAH,EAAI,EAAW,aAAc,EAAS,EAAE,EAClD,EAAiB,IAAI,OAAO,WAAW,GAC7C,CAAA,EAAA,EAAA,yBAAA,AAAyB,EAAC,EAAS,CAAE,OAAQ,WAAY,gBAAiB,GAAgB,OAAO,CAAC,QAAQ,gBAAE,CAAe,GAE3H,IAAM,EAAqB,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAW,mBAC3C,EAAc,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,EAAoB,CACnD,WAAY,EAAS,EAAE,CACvB,WAAY,GAAS,EAAE,CACvB,SAAU,GAAgB,OAAO,CAAC,QAAQ,CAC1C,UAAW,EACX,gBAAgB,EAChB,cAAc,EACd,UAAW,EACX,QAAS,IAAI,KAAK,IAAI,OAAO,WAAW,CAAC,IAAI,OAAO,WAAW,GAAK,IAAI,WAAW,GACnF,SAAU,EAAS,QAAQ,CAC3B,OAAQ,SACV,EACA,OAAM,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAa,CAAE,GAAI,EAAY,EAAE,AAAC,EACpD,CACF,EAOM,GAAgB,IAAW,GAAQ,MAAM,CAAG,EAAI,GAAQ,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,MAAM,CAAE,GAAK,GAAQ,MAAM,CAAG,EAEvH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,EAAO,IAAI,GAC1B,UAAU,6CAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YAAY,0BAMvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,oBAAoB,CAAA,CAAC,OAAQ,EAAS,MAAM,CAAE,MAAO,EAAS,KAAK,KAGtE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,wGAAgG,EAAS,IAAI,GACjJ,AAAoB,eAAX,MAAM,CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,cAAc,UAAU,iEAAwD,aAE/F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,gGAAuF,iBAGhI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uHACX,EAAS,KAAK,GAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,UAAU,iGACV,QAAS,IAAM,GAAkB,YAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,mBAIxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,yBAClB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAM,EAAS,QAAQ,CAAC,OAAO,CAAC,KAAG,EAAS,QAAQ,CAAC,IAAI,OAE5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2BAAmB,GAAc,OAAO,CAAC,KACzD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,gCAAsB,IAAE,IAAS,QAAU,EAAE,2BAQrE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,CACC,CAAE,KAAM,EAAA,SAAS,CAAE,MAAO,WAAY,IAAK,EAAS,QAAQ,AAAC,EAC7D,CAAE,KAAM,EAAA,IAAI,CAAE,MAAO,YAAa,IAAK,EAAS,SAAS,AAAC,EAC1D,CAAE,KAAM,EAAA,KAAK,CAAE,MAAO,eAAgB,IAAK,EAAS,IAAI,AAAC,EACzD,CAAE,KAAM,EAAA,QAAQ,CAAE,MAAO,OAAQ,IAAK,EAAS,IAAI,AAAC,EACrD,CAAC,GAAG,CAAC,CAAC,EAAM,IACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,uKACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAK,IAAI,CAAA,CAAC,UAAU,yEACrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,EAAK,GAAG,GAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iFAAyE,EAAK,KAAK,KAHxF,MASd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,aAAa,UAAU,UAAU,mBACrC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,6FAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,UAAU,UAAU,0JAAiJ,YACxL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,WAAW,UAAU,0JAAiJ,aACzL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,YAAY,UAAU,0JAAiJ,cAC1L,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,QAAQ,UAAU,0JAAiJ,gBACtL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,UAAU,UAAU,0JAAiJ,eAE1L,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,UAAU,UAAU,0BACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACd,OAAQ,EAAS,MAAM,CACvB,OAAQ,EAAS,MAAM,CACvB,MAAO,EAAS,KAAK,KAGzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,WAAW,UAAU,2BACtC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDAA+C,wBAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qEACV,EAAS,WAAW,MAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,YAAY,UAAU,gBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACZ,EAAS,SAAS,CAAC,GAAG,CAAC,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,8IAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kHACZ,CAAY,CAAC,EAAQ,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,cAEpD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCAA0B,MAJlC,QAShB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,QAAQ,UAAU,gBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iDACX,EAAS,KAAK,CAAC,GAAG,CAAC,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,mEACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACd,IAFM,UAQjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,UAAU,UAAU,2BACrC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wDAA+C,mBAC5D,IAAW,GAAQ,MAAM,CAAG,EAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,GAAQ,GAAG,CAAC,GACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAoB,UAAU,yEAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,2DAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,IAAK,EAAO,cAAc,CAAE,UAAU,iBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,iDAAyC,EAAO,UAAU,EAAE,CAAC,EAAE,MAE3F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAmC,EAAO,UAAU,GACjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACZ,oCAAa,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAS,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,UAAW,EAAI,EAAO,MAAM,CAAG,+BAAiC,kBAAjF,MAGf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oDAA4C,IAAI,KAAK,EAAO,UAAU,EAAE,kBAAkB,CAAC,OAAW,CAAE,MAAO,OAAQ,KAAM,SAAU,gBAK/J,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2DAAmD,EAAO,OAAO,KApBtE,EAAO,EAAE,KAyBvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4GACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFAAgF,qCAOrG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sEAA6D,qBAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,sDAA8C,GAAmB,MAAM,MAE9G,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8GACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,2BACrB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,iCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,sFAA6E,cAClG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,6FAAoF,oBACzG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iGAAwF,iBAGjH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACuB,IAA9B,GAAmB,MAAM,CACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,QAAS,EAAG,UAAU,6BAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+EAAsE,+BAIvF,GAAmB,GAAG,CAAC,CAAC,SAAE,CAAO,WAAE,CAAS,CAAE,GAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAkB,UAAU,mHACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,gBACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,sDAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,IAAK,GAAW,gBAAiB,UAAU,iBACxD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,iDAAyC,GAAW,MAAM,CAAC,EAAE,EAAI,SAE7F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,GAAW,OACvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oFAA4E,GAAW,gBAI1G,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,uBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAClB,sFACmB,aAAnB,EAAQ,MAAM,CAAkB,iCACX,aAAnB,EAAQ,MAAM,CAAkB,6BAC9B,uCAEH,EAAQ,MAAM,KAGnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,2BACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACO,YAAnB,EAAQ,MAAM,EACb,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,UAAU,+JACV,QAAS,IAAM,oBApOzB,EAoO4C,EAAQ,EAAE,CAnO1E,EAAa,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,EAAW,qBAAsB,OACxD,CAAA,EAAA,EAAA,yBAAA,AAAyB,EAAC,EAAY,CAAE,OAAQ,UAAW,aAmOxB,YAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,mIACV,QAAS,IAAM,CAzQnD,GAyQqE,SAAE,OAzQpD,KAyQ6D,CAAU,GAxQ1F,IAAc,aAyQqB,8BAvCI,EAAQ,EAAE,oBA0D3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gHACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,wCACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,+GAAsG,iBAC3I,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uCAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+CACV,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAS,KAAK,CAAE,EAAS,QAAQ,EAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kDAAyC,cAG7D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0BACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uFAA8E,WAC3F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,EAAS,MAAM,MAE7E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uFAA8E,cAC3F,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,GAAmB,MAAM,SAGzF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,UAAU,sJACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,0BAA0B,EAAE,EAAS,EAAE,CAAA,CAAE,UAAE,2BAM7D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gGACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0EAAiE,mBAC9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iGAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,IAAK,GAAO,eAAe,CAAE,UAAU,iBACpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,uDAA+C,GAAO,IAAI,CAAC,EAAE,MAEzF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uDAA+C,GAAO,IAAI,GACxE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uGAA+F,GAAO,KAAK,SAG5H,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,OAAO,CAAA,CAAA,EAAC,QAAQ,UAAU,UAAU,wFAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,2BAA2B,EAAE,GAAO,EAAE,CAAA,CAAE,UAAE,qBAEzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,UAAU,6GACV,QAAS,IAAM,EAAoB,cAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,2BAMzC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,qHACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2GACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,cAElB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oEAA2D,qBACxE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,yCASxF,IAAmB,IAAY,EAAS,aAAa,EAAI,GAAgB,SAAS,EACjF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAqB,CAAA,CACpB,OAAQ,GACR,QAAS,IAAM,GAAc,IAC7B,cAAe,GACf,SAAU,GACV,OAAQ,GAAgB,SAAS,CACjC,SAAU,EACV,aAAc,EAAS,aAAa,GAMvC,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,OAAQ,EACR,QAAS,IAAM,GAAoB,GACnC,eAAgB,GAAO,EAAE,CACzB,iBAAkB,GAAO,IAAI,GAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,kBAAkB,CAAA,CACjB,OAAQ,EACR,QAAS,IAAM,GAAkB,GACjC,WAAY,GAAgB,GAC5B,cAAe,EAAS,KAAK,KAIrC"}