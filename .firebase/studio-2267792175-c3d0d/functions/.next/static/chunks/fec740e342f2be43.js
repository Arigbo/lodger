(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32189,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65156,(e,t,r)=>{"use strict";var n=e.r(32189);function a(){}function o(){}o.resetWarningCache=a,t.exports=function(){function e(e,t,r,a,o,s){if(s!==n){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},45009,(e,t,r)=>{t.exports=e.r(65156)()},93567,e=>{"use strict";var t,r=e.i(47167),n=e.i(43476),a=e.i(71645),o=e.i(76639),s=e.i(67489),i=e.i(19455),l=e.i(10204),c=e.i(42920),d=e.i(75254);let u=(0,d.default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),f=(0,d.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var p=e.i(69638),m=e.i(4829),h=e.i(74911);e.i(11981);var y=e.i(61480);e.i(36180);var x=e.i(17875),g="clover",v="https://js.stripe.com",b="".concat(v,"/").concat(g,"/stripe.js"),j=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,w=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,N=function(){for(var e=document.querySelectorAll('script[src^="'.concat(v,'"]')),t=0;t<e.length;t++){var r,n=e[t];if(r=n.src,j.test(r)||w.test(r))return n}return null},S=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(b).concat(t);var n=document.head||document.body;if(!n)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},k=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"8.6.0",startTime:t})},E=null,C=null,P=null,O=function(e,t,r){if(null===e)return null;var n,a=t[0].match(/^pk_test/),o=3===(n=e.version)?"v3":n;a&&o!==g&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.6.0"," expected Stripe.js@").concat(g,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return k(s,r),s},T=!1,A=function(){return t?t:t=(null!==E?E:(E=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var r,n=N();n?n&&null!==P&&null!==C&&(n.removeEventListener("load",P),n.removeEventListener("error",C),null==(r=n.parentNode)||r.removeChild(n),n=S(null)):n=S(null),P=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},C=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},n.addEventListener("load",P),n.addEventListener("error",C)}catch(e){t(e);return}})).catch(function(e){return E=null,Promise.reject(e)})).catch(function(e){return t=null,Promise.reject(e)})};Promise.resolve().then(function(){return A()}).catch(function(e){T||console.warn(e)});var I=e.i(45009);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var o=[],s=!0,i=!1;try{for(a=a.call(e);!(s=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){i=!0,n=e}finally{try{s||null==a.return||a.return()}finally{if(i)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e,t,r){var n=!!r,o=a.default.useRef(r);a.default.useEffect(function(){o.current=r},[r]),a.default.useEffect(function(){if(!n||!e)return function(){};var r=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,r),function(){e.off(t,r)}},[n,t,e,o])},U=function(e){var t=a.default.useRef(e);return a.default.useEffect(function(){t.current=e},[e]),t.current},q=function(e){return null!==e&&"object"===D(e)},Y="[object Object]",z=function e(t,r){if(!q(t)||!q(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var a=Object.prototype.toString.call(t)===Y;if(a!==(Object.prototype.toString.call(r)===Y))return!1;if(!a&&!n)return t===r;var o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(var i={},l=0;l<o.length;l+=1)i[o[l]]=!0;for(var c=0;c<s.length;c+=1)i[s[c]]=!0;var d=Object.keys(i);return d.length===o.length&&d.every(function(n){return e(t[n],r[n])})},W=function(e,t,r){return q(e)?Object.keys(e).reduce(function(n,a){var o=!q(t)||!z(e[a],t[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),n):o?B(B({},n||{}),{},_({},a,e[a])):n},null):null},V="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;if(null===e||q(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;if(q(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return $(e,t)})};var r=$(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},K=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},G=a.default.createContext(null);G.displayName="ElementsContext";var J=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},X=function(e){var t=e.stripe,r=e.options,n=e.children,o=a.default.useMemo(function(){return H(t)},[t]),s=M(a.default.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}}),2),i=s[0],l=s[1];a.default.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==o.tag||i.stripe?"sync"!==o.tag||i.stripe||t(o.stripe):o.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[o,i,r]);var c=U(t);a.default.useEffect(function(){null!==c&&c!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,t]);var d=U(r);return a.default.useEffect(function(){if(i.elements){var e=W(r,d,["clientSecret","fonts"]);e&&i.elements.update(e)}},[r,d,i.elements]),a.default.useEffect(function(){K(i.stripe)},[i.stripe]),a.default.createElement(G.Provider,{value:i},n)};X.propTypes={stripe:I.default.any,options:I.default.object};I.default.func.isRequired;var Q=a.default.createContext(null);Q.displayName="CheckoutContext",I.default.any,I.default.shape({clientSecret:I.default.oneOfType([I.default.string,I.default.instanceOf(Promise)]).isRequired,elementsOptions:I.default.object}).isRequired;var Z=function(e){var t=a.default.useContext(Q),r=a.default.useContext(G);if(!t)return J(r,e);if(!r)return t;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},ee=["mode"],et=function(e,t){var r="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),n=t?function(e){Z("mounts <".concat(r,">"));var t=e.id,n=e.className;return a.default.createElement("div",{id:t,className:n})}:function(t){var n,o=t.id,s=t.className,i=t.options,l=void 0===i?{}:i,c=t.onBlur,d=t.onFocus,u=t.onReady,f=t.onChange,p=t.onEscape,m=t.onClick,h=t.onLoadError,y=t.onLoaderStart,x=t.onNetworksChange,g=t.onConfirm,v=t.onCancel,b=t.onShippingAddressChange,j=t.onShippingRateChange,w=t.onSavedPaymentMethodRemove,N=t.onSavedPaymentMethodUpdate,S=Z("mounts <".concat(r,">")),k="elements"in S?S.elements:null,E="checkoutState"in S?S.checkoutState:null,C=(null==E?void 0:E.type)==="success"||(null==E?void 0:E.type)==="loading"?E.sdk:null,P=M(a.default.useState(null),2),O=P[0],T=P[1],A=a.default.useRef(null),I=a.default.useRef(null);L(O,"blur",c),L(O,"focus",d),L(O,"escape",p),L(O,"click",m),L(O,"loaderror",h),L(O,"loaderstart",y),L(O,"networkschange",x),L(O,"confirm",g),L(O,"cancel",v),L(O,"shippingaddresschange",b),L(O,"shippingratechange",j),L(O,"savedpaymentmethodremove",w),L(O,"savedpaymentmethodupdate",N),L(O,"change",f),u&&(n="expressCheckout"===e?u:function(){u(O)}),L(O,"ready",n),a.default.useLayoutEffect(function(){if(null===A.current&&null!==I.current&&(k||C)){var t=null;if(C)switch(e){case"paymentForm":t=C.createPaymentFormElement();break;case"payment":t=C.createPaymentElement(l);break;case"address":if("mode"in l){var n=l.mode,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(l,ee);if("shipping"===n)t=C.createShippingAddressElement(a);else if("billing"===n)t=C.createBillingAddressElement(a);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=C.createExpressCheckoutElement(l);break;case"currencySelector":t=C.createCurrencySelectorElement();break;case"taxId":t=C.createTaxIdElement(l);break;default:throw Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else k&&(t=k.create(e,l));A.current=t,T(t),t&&t.mount(I.current)}},[k,C,l]);var R=U(l);return a.default.useEffect(function(){if(A.current){var e=W(l,R,["paymentRequest"]);e&&"update"in A.current&&A.current.update(e)}},[l,R]),a.default.useLayoutEffect(function(){return function(){if(A.current&&"function"==typeof A.current.destroy)try{A.current.destroy(),A.current=null}catch(e){}}},[]),a.default.createElement("div",{id:o,className:s,ref:I})};return n.propTypes={id:I.default.string,className:I.default.string,onChange:I.default.func,onBlur:I.default.func,onFocus:I.default.func,onReady:I.default.func,onEscape:I.default.func,onClick:I.default.func,onLoadError:I.default.func,onLoaderStart:I.default.func,onNetworksChange:I.default.func,onConfirm:I.default.func,onCancel:I.default.func,onShippingAddressChange:I.default.func,onShippingRateChange:I.default.func,onSavedPaymentMethodRemove:I.default.func,onSavedPaymentMethodUpdate:I.default.func,options:I.default.object},n.displayName=r,n.__elementType=e,n},er="undefined"==typeof window;a.default.createContext(null).displayName="EmbeddedCheckoutProviderContext",et("auBankAccount",er),et("card",er),et("cardNumber",er),et("cardExpiry",er),et("cardCvc",er),et("iban",er);var en=et("payment",er);et("expressCheckout",er),et("paymentRequestButton",er),et("linkAuthentication",er),et("address",er),et("shippingAddress",er),et("paymentMethodMessaging",er),et("taxId",er);var ea=e.i(31278);function eo({amount:e,currency:t="USD",onSuccess:r}){var o;let s=Z("calls useStripe()").stripe,l=(o="calls useElements()",J(a.default.useContext(G),o)).elements,[c,d]=(0,a.useState)(null),[u,f]=(0,a.useState)(!1),{toast:p}=(0,h.useToast)(),y=async e=>{if(e.preventDefault(),!s||!l)return;f(!0);let{error:t,paymentIntent:n}=await s.confirmPayment({elements:l,confirmParams:{return_url:window.location.href},redirect:"if_required"});t?(d(t.message||"An unexpected error occurred."),f(!1)):n&&"succeeded"===n.status?r(n.id):(d("Payment confirmation failed. Please check your card."),f(!1))};return(0,n.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-secondary/10 mb-4",children:[(0,n.jsx)("span",{children:"Total Due:"}),(0,n.jsx)("span",{className:"font-bold text-xl",children:(0,m.formatPrice)(e,t)})]}),(0,n.jsx)(en,{}),c&&(0,n.jsx)("div",{className:"text-destructive text-sm font-medium",children:c}),(0,n.jsx)(i.Button,{disabled:!s||u,className:"w-full",size:"lg",children:u?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ea.Loader2,{className:"mr-2 h-4 w-4 animate-spin"})," Processing..."]}):`Pay ${(0,m.formatPrice)(e,t)}`})]})}let es=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];T=!0;var n=Date.now();return A().then(function(e){return O(e,t,n)})}(r.default.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY||"");function ei({isOpen:e,onClose:t,onPaymentSuccess:r,amount:d,tenantName:g,tenantId:v,landlordId:b,propertyId:j,currency:w="USD",destinationAccountId:N,metadata:S={}}){let[k,E]=(0,a.useState)(1),[C,P]=(0,a.useState)(!1),[O,T]=(0,a.useState)(1),[A,I]=(0,a.useState)("Offline"),[R,B]=(0,a.useState)(null),[D,_]=(0,a.useState)(null),{toast:M}=(0,h.useToast)(),F=(0,y.useFirestore)(),L=d*O,U=async()=>{P(!0);try{let e=(0,x.collection)(F,"transactions"),t=await (0,x.addDoc)(e,{...S,landlordId:b,tenantId:v,propertyId:j,amount:L,currency:w,months:O,date:new Date().toISOString(),type:S.type||"Rent",paymentMethod:"Offline",status:"Pending Verification"});B(t.id),P(!1),E(4)}catch(e){console.error("Error creating transaction:",e),M({variant:"destructive",title:"Transaction Error",description:"Failed to record your offline payment request."}),P(!1)}},q=async()=>{P(!0);try{let e=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:L,currency:w,landlordId:b,metadata:{tenantId:v,propertyId:j,tenantName:g,months:O.toString(),type:S.type||"Rent",...S}})}),t=await e.json();if(t.clientSecret)_(t.clientSecret),E(3);else throw Error(t.message||t.error||"Failed to initialize payment")}catch(e){console.error("Stripe Init Error:",e),M({variant:"destructive",title:"Payment Error",description:e.message||"Failed to initialize card payment."})}finally{P(!1)}},Y=async e=>{P(!0);try{let t=(0,x.collection)(F,"transactions");await (0,x.addDoc)(t,{...S,landlordId:b,tenantId:v,propertyId:j,amount:L,currency:w,months:O,date:new Date().toISOString(),type:S.type||"Rent",paymentMethod:"Stripe",paymentIntentId:e,status:"Completed"}),P(!1),E(4)}catch(e){console.error("Error recording Stripe transaction:",e),E(4)}};return(0,n.jsx)(o.Dialog,{open:e,onOpenChange:()=>{C||(E(1),t())},children:(0,n.jsx)(o.DialogContent,{className:"sm:max-w-xl w-[95vw] p-0 border-none bg-white/80 backdrop-blur-2xl shadow-3xl rounded-[2.5rem] overflow-visible",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"relative h-24 bg-primary p-6 flex items-center justify-between rounded-t-[2.5rem]",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/20 to-transparent"}),(0,n.jsxs)("div",{className:"relative z-10",children:[(0,n.jsxs)(o.DialogTitle,{className:"text-xl font-black tracking-tight text-white flex items-center gap-3",children:[(0,n.jsx)(u,{className:"h-6 w-6"})," Payment Process"]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,n.jsx)("div",{className:(0,m.cn)("h-1 w-8 rounded-full transition-colors",k>=1?"bg-white":"bg-white/20")}),(0,n.jsx)("div",{className:(0,m.cn)("h-1 w-8 rounded-full transition-colors",k>=2?"bg-white":"bg-white/20")}),(0,n.jsx)("div",{className:(0,m.cn)("h-1 w-8 rounded-full transition-colors",k>=3?"bg-white":"bg-white/20")})]})]}),(0,n.jsx)("div",{className:"relative z-10 flex h-10 w-10 items-center justify-center rounded-xl bg-white/20 backdrop-blur-md",children:(0,n.jsx)(f,{className:"h-5 w-5 text-white"})})]}),(0,n.jsxs)("div",{className:"p-6 md:p-8 space-y-6",children:[1===k&&(0,n.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"Select Duration"}),(0,n.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"How many months of rent are you paying today?"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(l.Label,{htmlFor:"months",className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground px-1",children:"Months"}),(0,n.jsxs)(s.Select,{value:O.toString(),onValueChange:e=>T(parseInt(e)),children:[(0,n.jsx)(s.SelectTrigger,{id:"months",className:"h-16 rounded-2xl border-muted/20 bg-muted/5 font-bold text-xl px-6 focus:ring-primary/20",children:(0,n.jsx)(s.SelectValue,{placeholder:"Months"})}),(0,n.jsx)(s.SelectContent,{className:"rounded-2xl border-none shadow-2xl",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>(0,n.jsxs)(s.SelectItem,{value:e.toString(),className:"h-12 rounded-xl font-bold",children:[e," ",1===e?"Month":"Months"]},e))})]})]}),(0,n.jsxs)("div",{className:"p-6 rounded-3xl bg-primary/5 flex flex-col justify-center gap-1 border border-primary/10",children:[(0,n.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-primary/60",children:"Total Amount"}),(0,n.jsx)("p",{className:"text-3xl font-black tracking-tighter text-primary",children:(0,m.formatPrice)(L,w)}),(0,n.jsxs)("p",{className:"text-[10px] font-bold text-muted-foreground/60 uppercase",children:[O," x ",(0,m.formatPrice)(d,w)]})]})]}),(0,n.jsx)(i.Button,{onClick:()=>E(2),className:"w-full h-16 rounded-2xl font-black text-xl shadow-xl shadow-primary/20 transition-all hover:scale-[1.02]",children:"Next Step"})]}),2===k&&(0,n.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"Payment Method"}),(0,n.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Choose your preferred way to pay."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[N&&(0,n.jsxs)("button",{onClick:()=>{I("Stripe"),q()},disabled:C,className:"flex items-center justify-between p-6 rounded-3xl border-2 border-muted/10 hover:border-primary hover:bg-primary/5 transition-all text-left group disabled:opacity-50",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"h-12 w-12 rounded-2xl bg-muted/10 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:(0,n.jsx)(u,{className:"h-6 w-6"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Pay with Card"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Secure payment via Stripe (Visa, Mastercard, etc.)"})]})]}),C&&"Stripe"===A?(0,n.jsx)("div",{className:"h-5 w-5 border-2 border-primary border-t-transparent animate-spin rounded-full"}):(0,n.jsx)(p.CheckCircle,{className:"h-6 w-6 text-primary opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,n.jsxs)("button",{onClick:()=>{I("Offline"),E(3)},className:"flex items-center justify-between p-6 rounded-3xl border-2 border-muted/10 hover:border-primary hover:bg-primary/5 transition-all text-left group",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"h-12 w-12 rounded-2xl bg-muted/10 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:(0,n.jsx)(c.Building,{className:"h-6 w-6"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Direct / Offline Payment"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pay directly to landlord (Bank transfer, etc.)"})]})]}),(0,n.jsx)(p.CheckCircle,{className:"h-6 w-6 text-primary opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),(0,n.jsx)(i.Button,{variant:"ghost",onClick:()=>E(1),className:"w-full h-12 rounded-2xl font-bold text-muted-foreground",children:"Go Back"})]}),3===k&&(0,n.jsx)("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:"Offline"===A?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"Offline Payment"}),(0,n.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Follow these steps to complete your offline transaction."})]}),(0,n.jsxs)("div",{className:"p-8 rounded-[2rem] bg-primary/5 space-y-6 border border-primary/10 text-center",children:[(0,n.jsxs)("div",{className:"relative inline-block",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-primary/20 blur-xl rounded-full scale-150"}),(0,n.jsx)(c.Building,{className:"h-12 w-12 text-primary relative"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("p",{className:"font-bold text-lg",children:"Direct Payment Instructions"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["Please reach out to your landlord directly via the ",(0,n.jsx)("b",{children:"Messages"})," tab or their provided contact details to arrange the payment."]})]})]}),(0,n.jsx)("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:(0,n.jsx)("p",{className:"text-xs font-bold text-amber-700 leading-relaxed text-center",children:"Note: Your receipt will be verified within 24 hours. Please contact your landlord directly to confirm the transfer."})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(i.Button,{onClick:U,disabled:C,className:"w-full h-16 rounded-2xl font-black text-xl shadow-xl shadow-primary/20 transition-all hover:scale-[1.02]",children:C?"Submitting...":"I Have Paid"}),(0,n.jsx)(i.Button,{variant:"ghost",onClick:()=>E(2),className:"w-full h-12 rounded-2xl font-bold text-muted-foreground",children:"Change Method"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"Card Payment"}),(0,n.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Enter your card details to complete the payment."})]}),(0,n.jsx)("div",{className:"p-1",children:D&&(0,n.jsx)(X,{stripe:es,options:{clientSecret:D},children:(0,n.jsx)(eo,{amount:L,currency:w,onSuccess:Y})})}),(0,n.jsx)(i.Button,{variant:"ghost",onClick:()=>E(2),className:"w-full h-12 rounded-2xl font-bold text-muted-foreground",children:"Change Method"})]})}),4===k&&(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-8 animate-in zoom-in-95 duration-500",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-green-500/20 blur-3xl rounded-full scale-150 animate-pulse"}),(0,n.jsx)("div",{className:"relative flex h-24 w-24 items-center justify-center rounded-[2rem] bg-green-500 shadow-2xl shadow-green-500/40",children:(0,n.jsx)(p.CheckCircle,{className:"h-12 w-12 text-white"})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-4xl font-black tracking-tight",children:"Payment Submitted!"}),(0,n.jsxs)("p",{className:"text-lg font-medium text-muted-foreground/80 leading-relaxed max-w-sm mx-auto",children:["Your request for ",(0,n.jsx)("span",{className:"text-primary font-black",children:(0,m.formatPrice)(L,w)})," is awaiting verification."]})]}),(0,n.jsx)(i.Button,{onClick:()=>{r({months:O,method:A,amount:L,transactionId:R||void 0}),M({title:"Payment Recorded",description:`Your payment of ${(0,m.formatPrice)(L,w)} has been submitted.`}),E(1),I("Offline"),_(null),t()},className:"w-full h-16 rounded-2xl font-black text-xl shadow-xl shadow-primary/20 transition-all hover:-translate-y-1",children:"Done"})]})]})]})})})}e.s(["default",()=>ei],93567)}]);