(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71038,e=>{"use strict";var r=e.i(43476),t=e.i(94814),s=e.i(53145),a=e.i(65638),i=e.i(18566),l=e.i(19455),o=e.i(3133),n=e.i(93479),d=e.i(24687),c=e.i(67489),m=e.i(57428),u=e.i(15288),x=e.i(72436);e.i(93948);var p=e.i(9815),h=e.i(71645);e.i(11981);var g=e.i(61480),b=e.i(41899);e.i(36180);var f=e.i(17875),j=e.i(90281),y=e.i(74911);e.i(61086);var v=e.i(27651),N=e.i(57688),w=e.i(66531),k=e.i(37727),F=e.i(31278),C=e.i(42920),S=e.i(16715),I=e.i(63209),A=e.i(67535),D=e.i(78716),T=e.i(53475),L=e.i(5125),U=e.i(9778),E=e.i(12475),V=e.i(94351),M=e.i(92457),P=e.i(18087),R=e.i(81418),B=e.i(83086),$=e.i(73708),z=e.i(90392),O=e.i(22016),q=e.i(31792),G=e.i(29895),H=e.i(12416),K=e.i(4829),W=e.i(76639),Y=e.i(29592);let _=a.object({title:a.string().min(5,"Title must be at least 5 characters."),description:a.string().min(10,"Description is required."),price:a.coerce.number().positive("Price must be a positive number."),currency:a.string().min(3,"Currency is required."),type:a.enum(["Apartment","House","Studio","Loft","Self Contain"]),address:a.string().min(5,"Address is required."),country:a.string().min(2,"Country is required."),city:a.string().min(2,"City is required."),state:a.string().min(2,"State is required."),zip:a.string().min(5,"ZIP code is required."),school:a.string().optional(),bedrooms:a.coerce.number().int().min(1,"Must have at least 1 bedroom."),bathrooms:a.coerce.number().int().min(1,"Must have at least 1 bathroom."),area:a.coerce.number().positive("Area must be a positive number."),amenities:a.array(a.string()).default([]),rules:a.string().optional()});function Q(){let a=(0,i.useParams)(),Q=Array.isArray(a.id)?a.id[0]:a.id,{user:X,isUserLoading:Z}=(0,g.useUser)(),J=(0,g.useFirestore)(),ee=(0,g.useFirebaseApp)(),er=(0,i.useRouter)(),{toast:et}=(0,y.useToast)(),es=(0,g.useMemoFirebase)(()=>Q?(0,f.doc)(J,"properties",Q):null,[J,Q]),{data:ea,isLoading:ei,refetch:el}=(0,b.useDoc)(es),eo=(0,g.useMemoFirebase)(()=>X?(0,f.doc)(J,"users",X.uid):null,[X,J]),{data:en,isLoading:ed}=(0,b.useDoc)(eo),[ec,em]=(0,h.useState)(!1),[eu,ex]=(0,h.useState)([]),[ep,eh]=(0,h.useState)(!1),[eg,eb]=(0,h.useState)(null),[ef,ej]=(0,h.useState)(null),ey=(0,s.useForm)({resolver:(0,t.zodResolver)(_),defaultValues:{title:"",description:"",price:0,currency:"USD",type:"Apartment",address:"",country:"",city:"",state:"",zip:"",school:"",bedrooms:1,bathrooms:1,area:0,amenities:[],rules:""}});(0,h.useEffect)(()=>{ea&&(ey.reset({title:ea.title||"",description:ea.description||"",price:ea.price||0,currency:ea.currency||"USD",type:ea.type,address:ea.location?.address||"",country:ea.location?.country||"",city:ea.location?.city||"",state:ea.location?.state||"",zip:ea.location?.zip||"",school:ea.location?.school||"",bedrooms:ea.bedrooms||1,bathrooms:ea.bathrooms||1,area:ea.area||0,amenities:ea.amenities||[],rules:ea.rules?.join(", ")||""}),ej(ea.currency||"USD"))},[ea,ey]);let ev=e=>{ey.getValues("price");let r=ey.getValues("currency");e!==r&&(eb(e),ej(r),eh(!0))},eN=e=>{if(eg&&ef){if(e){let e={USD:1,NGN:1600,GHS:15,KES:130,GBP:.79,EUR:.92},r=Math.round(ey.getValues("price")/(e[ef]||1)*(e[eg]||1));ey.setValue("price",r)}ey.setValue("currency",eg),eh(!1),eb(null)}};if(Z||ei||!Q)return(0,r.jsx)(z.default,{});if(!ea)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center py-20 bg-card rounded-lg border",children:[(0,r.jsx)("div",{className:"rounded-full bg-secondary p-4",children:(0,r.jsx)(C.Building,{className:"h-10 w-10 text-muted-foreground"})}),(0,r.jsx)("h1",{className:"mt-6 text-2xl font-bold",children:"Property Not Found"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"The property you are looking for does not exist or you do not have permission to edit it."}),(0,r.jsx)(l.Button,{asChild:!0,className:"mt-6",children:(0,r.jsx)(O.default,{href:"/landlord/properties",children:"Back to My Properties"})})]});if(X&&ea.landlordId!==X.uid)return(0,i.notFound)();async function ew(r){if(!r||!ea||!es)return;em(!0);let t=[],s=(0,v.getStorage)(ee),a=0,i=0;for(let l of Array.from(r))try{let{moderateAndUpload:r}=await e.A(64721),o=await r(s,`properties/${ea.landlordId}/${Date.now()}_${l.name}`,l,{allowIrrelevant:!0});o.success&&o.downloadURL?(t.push(o.downloadURL),o.analysis?.context==="IRRELEVANT"&&i++):o.blocked?(a++,et({variant:"destructive",title:"Image Blocked",description:`${l.name}: ${o.error||"Contains inappropriate content"}`})):et({variant:"destructive",title:"Upload Failed",description:`${l.name}: ${o.error||"Unknown error"}`})}catch(e){console.error("Error uploading image:",e),et({variant:"destructive",title:"Upload Failed",description:`Could not upload ${l.name}: ${e.message}`})}if(t.length>0){let e=[...ea?.images||[],...t];await (0,f.updateDoc)(es,{images:e});let r=`${t.length} new image(s) have been added.`;i>0&&(r+=` ${i} image(s) may not be relevant to property listings.`),a>0&&(r+=` ${a} image(s) were blocked for safety.`),et({title:"Images Uploaded",description:r}),el()}else a>0&&et({variant:"destructive",title:"No Images Uploaded",description:"All images were blocked due to safety concerns."});ex([]),em(!1)}async function ek(e){if(ea&&es&&ea?.images&&window.confirm("Are you sure you want to delete this image? This cannot be undone."))try{let r=(0,v.getStorage)(ee),t=(0,v.ref)(r,e);await (0,v.deleteObject)(t);let s=ea.images.filter(r=>r!==e);await (0,f.updateDoc)(es,{images:s}),et({title:"Image Removed",description:"The image has been successfully deleted."}),el()}catch(e){console.error("Error deleting image:",e),et({variant:"destructive",title:"Deletion Failed",description:"Could not remove the image. It may have already been deleted."})}}async function eF(e){if(!e||!ea||!es)return;em(!0);let r=(0,v.getStorage)(ee),t=e[0],s=`properties/${ea.landlordId}/${Date.now()}_${t.name}`;try{let e=(0,v.ref)(r,s),a=await (0,v.uploadBytes)(e,t),i=await (0,v.getDownloadURL)(a.ref),l=[...ea?.videos||[],i];await (0,f.updateDoc)(es,{videos:l}),et({title:"Video Uploaded",description:"Your walkthrough video has been added."}),el()}catch(e){console.error("Error uploading video:",e),et({variant:"destructive",title:"Upload Failed",description:"Could not upload video."})}finally{em(!1)}}async function eC(e){if(ea&&es&&ea?.videos&&window.confirm("Are you sure you want to delete this video?"))try{let r=(0,v.getStorage)(ee),t=(0,v.ref)(r,e);await (0,v.deleteObject)(t);let s=ea.videos.filter(r=>r!==e);await (0,f.updateDoc)(es,{videos:s}),et({title:"Video Removed",description:"The video has been deleted."}),el()}catch(e){console.error("Error deleting video:",e),et({variant:"destructive",title:"Deletion Failed",description:"Could not remove video."})}}async function eS(e){if(ea&&es)try{let r={title:e.title,description:e.description,price:e.price,currency:e.currency,type:e.type,location:{address:e.address,country:e.country,city:e.city,state:e.state,zip:e.zip,school:e.school||null,lat:ea?.location?.lat??null,lng:ea?.location?.lng??null},bedrooms:e.bedrooms,bathrooms:e.bathrooms,area:e.area,amenities:e.amenities,rules:e.rules?e.rules.split(",").map(e=>e.trim()).filter(Boolean):[]},t=e.price!==ea.price||e.currency!==ea.currency||e.address!==ea.location.address||e.city!==ea.location.city||e.state!==ea.location.state||e.zip!==ea.location.zip||e.country!==ea.location.country;if(await (0,f.updateDoc)(es,r),t){et({title:"Syncing Lease Terms",description:"Terms changed. Updating associated lease agreements..."});let r=(0,f.query)((0,f.collection)(J,"leaseAgreements"),(0,f.where)("propertyId","==",Q));for(let t of(await (0,f.getDocs)(r)).docs){let r={id:t.id,...t.data()};("active"===r.status||"pending"===r.status)&&(await (0,f.updateDoc)(t.ref,{landlordSigned:!1,tenantSigned:!1,currency:e.currency}),await (0,j.sendNotification)({toUserId:r.tenantId,type:"LEASE_TERMS_CHANGED",firestore:J,propertyTitle:e.title,link:`/student/leases/${t.id}`}))}}et({title:"Property Updated",description:"Your property details have been saved."}),er.push(`/landlord/properties/${Q}`)}catch(e){console.error("Error updating property:",e),et({variant:"destructive",title:"Update Failed",description:"Could not save your changes. Please try again."})}}return(0,r.jsx)("div",{className:"min-h-screen bg-transparent p-0 lg:p-8 animate-in fade-in duration-1000",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-foreground to-foreground/80 p-8 md:p-16 text-white shadow-2xl",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-10",children:(0,r.jsx)(C.Building,{className:"h-32 w-32 md:h-48 md:w-48"})}),(0,r.jsxs)("div",{className:"relative space-y-6",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/10 backdrop-blur-md",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"}),(0,r.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Management Interface"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-4xl md:text-7xl font-black uppercase tracking-tighter leading-[0.9] mb-4",children:["Update ",(0,r.jsx)("br",{})," ",(0,r.jsx)("span",{className:"text-primary italic",children:"Asset"})]}),(0,r.jsx)("p",{className:"max-w-md text-sm md:text-base text-white/60 font-medium uppercase tracking-widest leading-relaxed",children:"Refine the parameters of your property listing for optimal market positioning."})]})]})]}),(0,r.jsx)(u.Card,{className:"border-2 border-foreground/5 rounded-[3rem] shadow-2xl overflow-hidden bg-white/50 backdrop-blur-xl",children:(0,r.jsxs)(u.CardContent,{className:"p-8 md:p-12",children:[ea?.status==="occupied"&&(0,r.jsxs)(Y.Alert,{className:"mb-10 rounded-2xl border-2 border-amber-500/20 bg-amber-500/5 p-6 md:p-8 animate-in slide-in-from-top duration-700",children:[(0,r.jsx)(I.AlertCircle,{className:"h-6 w-6 text-amber-600"}),(0,r.jsx)(Y.AlertTitle,{className:"text-[10px] font-black uppercase tracking-widest text-amber-600 mb-2 font-headline",children:"Property Currently Occupied"}),(0,r.jsxs)(Y.AlertDescription,{className:"text-xs font-medium text-amber-600/80 uppercase tracking-tight leading-relaxed",children:["This property has an active tenant. Any changes to the price or rules will only apply to ",(0,r.jsx)("strong",{children:"future"})," lease agreements. The current lease terms remain unchanged."]})]}),(0,r.jsx)(o.Form,{...ey,children:(0,r.jsxs)("form",{onSubmit:ey.handleSubmit(eS,e=>{console.error("Form Validation Errors:",e,"Keys:",Object.keys(e)),console.log("Current Form Values:",ey.getValues()),et({variant:"destructive",title:"Validation Error",description:"Please check the form for errors and try again."})}),className:"space-y-12 md:space-y-20",children:[(0,r.jsxs)("div",{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)(B.Sparkles,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Core Identity"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:gap-12",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"title",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Asset Title"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{placeholder:"e.g., MODERN DOWNTOWN LOFT",...e,className:"h-16 md:h-20 rounded-2xl md:rounded-3xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-lg md:text-2xl font-black uppercase tracking-tight"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"description",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Comprehensive Description"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(d.Textarea,{placeholder:"Describe the essence of your property...",...e,className:"min-h-[150px] md:min-h-[200px] rounded-2xl md:rounded-3xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs md:text-sm font-medium p-4 md:p-6 italic"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"price",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Monthly Evaluation"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{type:"number",placeholder:"1200",...e,className:"h-16 md:h-20 rounded-2xl md:rounded-3xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xl md:text-3xl font-black text-primary"})}),(0,r.jsxs)("div",{className:"mt-2 flex items-start gap-2 text-amber-600 bg-amber-500/10 p-4 rounded-xl border border-amber-500/10",children:[(0,r.jsx)(I.AlertCircle,{className:"h-4 w-4 shrink-0"}),(0,r.jsxs)("p",{className:"text-[9px] font-bold leading-tight uppercase tracking-tight",children:["Price sync takes effect on the ",(0,r.jsx)("strong",{children:"next cycle"})," for active residents. New protocols will use updated values."]})]}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"currency",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Currency Protocol"}),(0,r.jsxs)(c.Select,{onValueChange:ev,value:e.value,children:[(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(c.SelectTrigger,{className:"h-16 md:h-20 rounded-2xl md:rounded-3xl bg-muted/20 border-2 border-transparent focus:ring-0 text-sm md:text-base font-black uppercase tracking-widest",children:(0,r.jsx)(c.SelectValue,{placeholder:"Protocol"})})}),(0,r.jsxs)(c.SelectContent,{className:"rounded-2xl border-2 font-black text-[10px] uppercase",children:[(0,r.jsx)(c.SelectItem,{value:"USD",children:"USD ($)"}),(0,r.jsx)(c.SelectItem,{value:"NGN",children:"NGN (₦)"}),(0,r.jsx)(c.SelectItem,{value:"GHS",children:"GHS (₵)"}),(0,r.jsx)(c.SelectItem,{value:"KES",children:"KES (KSh)"}),(0,r.jsx)(c.SelectItem,{value:"GBP",children:"GBP (£)"}),(0,r.jsx)(c.SelectItem,{value:"EUR",children:"EUR (€)"})]})]}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"type",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Asset Class"}),(0,r.jsxs)(c.Select,{onValueChange:e.onChange,defaultValue:e.value,value:e.value,children:[(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(c.SelectTrigger,{className:"h-16 md:h-20 rounded-2xl md:rounded-3xl bg-muted/20 border-2 border-transparent focus:ring-0 text-sm md:text-base font-black uppercase tracking-widest",children:(0,r.jsx)(c.SelectValue,{placeholder:"Class"})})}),(0,r.jsxs)(c.SelectContent,{className:"rounded-2xl border-2 font-black text-[10px] uppercase",children:[(0,r.jsx)(c.SelectItem,{value:"Apartment",children:"Apartment"}),(0,r.jsx)(c.SelectItem,{value:"House",children:"House"}),(0,r.jsx)(c.SelectItem,{value:"Studio",children:"Studio"}),(0,r.jsx)(c.SelectItem,{value:"Loft",children:"Loft"}),(0,r.jsx)(c.SelectItem,{value:"Self Contain",children:"Self Contain"})]})]}),(0,r.jsx)(o.FormMessage,{})]})})]})]})]})]}),(0,r.jsx)(x.Separator,{className:"bg-muted/10"}),(0,r.jsxs)("div",{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)(V.Home,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Geographic Position"})]}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"address",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Street Address"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{placeholder:"123 UNIVERSITY AVE",...e,className:"h-16 rounded-2xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs font-black uppercase tracking-widest"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"country",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Country"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(q.Combobox,{options:H.countries.map(e=>({label:e.name,value:e.name})),value:e.value,onChange:r=>{e.onChange(r),ey.setValue("state","")},placeholder:"SELECT COUNTRY"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"state",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"State/Province"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(q.Combobox,{options:H.countries.find(e=>e.name===ey.watch("country"))?.states.map(e=>({label:e.name,value:e.name}))||[],value:e.value,onChange:e.onChange,placeholder:"SELECT STATE",disabled:!ey.watch("country"),emptyText:ey.watch("country")?"No states found":"Select a country first"})}),(0,r.jsx)(o.FormMessage,{})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"city",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"City"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{placeholder:"URBANVILLE",...e,className:"h-16 rounded-2xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs font-black uppercase tracking-widest"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"zip",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"ZIP Code"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{placeholder:"90210",...e,className:"h-16 rounded-2xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs font-black uppercase tracking-widest"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"school",render:({field:e})=>(0,r.jsxs)(o.FormItem,{className:"md:col-span-2",children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Search Nearest Educational Institution"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(G.SchoolCombobox,{value:e.value||"",onChange:e.onChange})}),(0,r.jsx)(o.FormMessage,{})]})})]})]})]}),(0,r.jsx)(x.Separator,{className:"bg-muted/10"}),(0,r.jsxs)("div",{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)(C.Building,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Physical Specifications"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"bedrooms",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Sleeping Quarters"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{type:"number",placeholder:"2",...e,className:"h-16 rounded-2xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs font-black uppercase tracking-widest"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"bathrooms",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Washrooms"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{type:"number",placeholder:"1",...e,className:"h-16 rounded-2xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs font-black uppercase tracking-widest"})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"area",render:({field:e})=>(0,r.jsxs)(o.FormItem,{children:[(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60",children:"Total Area (SQFT)"}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(n.Input,{type:"number",placeholder:"1000",...e,className:"h-16 rounded-2xl bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs font-black uppercase tracking-widest"})}),(0,r.jsx)(o.FormMessage,{})]})})]})]}),(0,r.jsx)(x.Separator,{className:"bg-muted/10"}),(0,r.jsxs)("div",{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)($.Image,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Visual Documentation"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[ea?.images.map(e=>(0,r.jsxs)("div",{className:"relative group aspect-square rounded-[2rem] overflow-hidden border-2 border-foreground/5 shadow-inner",children:[(0,r.jsx)(N.default,{src:e,alt:"Property image",fill:!0,className:"object-cover transition-transform duration-700 group-hover:scale-110"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center backdrop-blur-sm",children:(0,r.jsxs)(l.Button,{variant:"destructive",size:"icon",className:"h-10 w-10 rounded-full",onClick:r=>{r.preventDefault(),ek(e)},children:[(0,r.jsx)(k.X,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Remove Image"})]})})]},e)),(0,r.jsx)("div",{className:"flex items-center justify-center rounded-[2rem] border-2 border-dashed border-foreground/10 aspect-square hover:bg-primary/5 hover:border-primary/20 transition-all group",children:(0,r.jsxs)("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-full cursor-pointer text-center p-4",children:[ec?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(F.Loader2,{className:"h-8 w-8 text-primary animate-spin"}),(0,r.jsx)("p",{className:"text-[8px] font-black text-primary uppercase tracking-[0.2em] animate-pulse",children:"Uploading..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-xl bg-muted/5 flex items-center justify-center group-hover:bg-primary/10 group-hover:text-primary transition-all mb-3 text-muted-foreground",children:(0,r.jsx)(w.UploadCloud,{className:"h-6 w-6"})}),(0,r.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground group-hover:text-primary",children:"Add Photo"})]}),(0,r.jsx)("input",{id:"image-upload",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:e=>ew(e.target.files),disabled:ec})]})})]})]}),(0,r.jsx)(x.Separator,{className:"bg-muted/10"}),(0,r.jsxs)("div",{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)(D.Video,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Cinematic Motion"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[ea?.videos?.map(e=>(0,r.jsxs)("div",{className:"relative group aspect-square bg-black rounded-[2rem] overflow-hidden border-2 border-foreground/5 shadow-inner",children:[(0,r.jsx)("video",{src:e,className:"w-full h-full object-cover opacity-80"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center backdrop-blur-sm",children:(0,r.jsx)(l.Button,{variant:"destructive",size:"icon",className:"h-10 w-10 rounded-full",onClick:r=>{r.preventDefault(),eC(e)},children:(0,r.jsx)(k.X,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-1.5 px-2 py-1 bg-black/60 backdrop-blur-md rounded-full border border-white/10",children:[(0,r.jsx)(A.FileVideo,{className:"h-3 w-3 text-white"}),(0,r.jsx)("span",{className:"text-[8px] font-black text-white uppercase tracking-widest",children:"Walkthrough"})]})]},e)),(0,r.jsx)("div",{className:"flex items-center justify-center rounded-[2rem] border-2 border-dashed border-foreground/10 aspect-square hover:bg-primary/5 hover:border-primary/20 transition-all group",children:(0,r.jsxs)("label",{htmlFor:"video-upload",className:"flex flex-col items-center justify-center w-full h-full cursor-pointer text-center p-4",children:[ec?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(F.Loader2,{className:"h-8 w-8 text-primary animate-spin"}),(0,r.jsx)("p",{className:"text-[8px] font-black text-primary uppercase tracking-[0.2em] animate-pulse",children:"Uploading..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-xl bg-muted/5 flex items-center justify-center group-hover:bg-primary/10 group-hover:text-primary transition-all mb-3 text-muted-foreground",children:(0,r.jsx)(D.Video,{className:"h-6 w-6"})}),(0,r.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground group-hover:text-primary",children:"Add Video"})]}),(0,r.jsx)("input",{id:"video-upload",type:"file",accept:"video/*",className:"sr-only",onChange:e=>eF(e.target.files),disabled:ec})]})})]})]}),(0,r.jsx)(x.Separator,{className:"bg-muted/10"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-12 md:gap-20",children:[(0,r.jsx)(o.FormField,{control:ey.control,name:"amenities",render:()=>(0,r.jsxs)(o.FormItem,{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)(B.Sparkles,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Value-Added Features"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:p.amenities.map(e=>{let t,s=(t=e.toLowerCase()).includes("wi-fi")?T.Wifi:t.includes("parking")?L.Car:t.includes("laundry")?S.RefreshCw:t.includes("gym")?E.Dumbbell:t.includes("pool")?U.Waves:t.includes("yard")?V.Home:t.includes("pet")?R.ShieldCheck:t.includes("furnished")?P.Sofa:t.includes("secure")?R.ShieldCheck:t.includes("rooftop")?C.Building:t.includes("utilities")?B.Sparkles:t.includes("dishwasher")?M.Utensils:B.Sparkles;return(0,r.jsx)(o.FormField,{control:ey.control,name:"amenities",render:({field:t})=>{let a=t.value?.includes(e);return(0,r.jsxs)(o.FormItem,{className:(0,K.cn)("flex flex-row items-center space-x-4 space-y-0 p-5 rounded-2xl border-2 transition-all duration-300 cursor-pointer group",a?"bg-foreground border-foreground text-white shadow-xl":"bg-muted/5 border-muted/10 hover:border-primary/20 hover:bg-white"),onClick:()=>{let r=a?t.value?.filter(r=>r!==e):[...t.value||[],e];t.onChange(r)},children:[(0,r.jsx)("div",{className:(0,K.cn)("p-2.5 rounded-xl shadow-sm transition-colors",a?"bg-white/10":"bg-white"),children:(0,r.jsx)(s,{className:(0,K.cn)("h-4 w-4",a?"text-white":"text-primary")})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(o.FormLabel,{className:"text-[10px] font-black uppercase tracking-[0.15em] cursor-pointer block",children:e})}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(m.Checkbox,{checked:a,onCheckedChange:()=>{},className:(0,K.cn)("h-5 w-5 rounded-lg border-2",a?"border-white/20 bg-white/10":"border-muted/20")})})]},e)}},e)})}),(0,r.jsx)(o.FormMessage,{})]})}),(0,r.jsx)(o.FormField,{control:ey.control,name:"rules",render:({field:e})=>(0,r.jsxs)(o.FormItem,{className:"space-y-10",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-4",children:[(0,r.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:(0,r.jsx)(R.ShieldCheck,{className:"h-5 w-5 md:h-6 md:w-6"})}),(0,r.jsx)("h3",{className:"font-headline text-xl md:text-3xl font-black uppercase tracking-tighter",children:"Operational Protocols"})]}),(0,r.jsx)(o.FormControl,{children:(0,r.jsx)(d.Textarea,{placeholder:"e.g., No smoking, Quiet hours after 10 PM",...e,className:"min-h-[150px] md:min-h-[200px] rounded-[2rem] bg-muted/20 border-2 border-transparent focus-visible:border-primary/20 text-xs md:text-sm font-medium p-8 leading-relaxed italic"})}),(0,r.jsx)(o.FormMessage,{})]})})]}),(0,r.jsx)("div",{className:"pt-12 border-t-2 border-muted/10 flex justify-end",children:(0,r.jsx)(l.Button,{type:"submit",size:"lg",disabled:ey.formState.isSubmitting,className:"h-16 md:h-20 px-12 md:px-20 rounded-2xl md:rounded-[2rem] bg-foreground text-white hover:bg-primary transition-all duration-500 shadow-2xl hover:-translate-y-1 text-[10px] md:text-xs font-black uppercase tracking-[0.3em] group",children:ey.formState.isSubmitting?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.Loader2,{className:"mr-3 h-5 w-5 animate-spin"})," Synchronizing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.RefreshCw,{className:"mr-3 h-5 w-5 transition-transform group-hover:rotate-180 duration-700"})," Commit Changes"]})})})]})}),(0,r.jsx)(W.Dialog,{open:ep,onOpenChange:eh,children:(0,r.jsxs)(W.DialogContent,{className:"rounded-[2rem] border-2 border-foreground/5 p-0 overflow-hidden sm:max-w-md",children:[(0,r.jsxs)("div",{className:"bg-primary/5 p-8 flex flex-col items-center justify-center text-center border-b",children:[(0,r.jsx)("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-6 text-primary",children:(0,r.jsx)(S.RefreshCw,{className:"h-8 w-8"})}),(0,r.jsx)(W.DialogTitle,{className:"text-xl md:text-2xl font-black uppercase tracking-tight",children:"Currency Transition"}),(0,r.jsxs)(W.DialogDescription,{className:"text-xs font-medium mt-3 max-w-xs mx-auto",children:["You are shifting the fiscal protocol from ",(0,r.jsx)("strong",{children:ef})," to ",(0,r.jsx)("strong",{children:eg}),"."]})]}),(0,r.jsxs)("div",{className:"p-8 space-y-6",children:[(0,r.jsxs)("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground/60 text-center",children:["Current Evaluation: ",ey.getValues("price")," ",ef]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>{eN(!1)},className:"h-14 rounded-xl border-2 text-[10px] font-black uppercase tracking-widest hover:bg-muted/10 transition-colors",children:"Maintain Nominal Value"}),(0,r.jsxs)(l.Button,{type:"button",onClick:()=>{eN(!0)},className:"h-14 rounded-xl bg-foreground text-white hover:bg-primary transition-all text-[10px] font-black uppercase tracking-widest flex items-center justify-center",children:[(0,r.jsx)(S.RefreshCw,{className:"mr-2 h-4 w-4"}),"Dynamic Conversion"]})]})]})]})})]})})]})})}e.s(["default",()=>Q])}]);