(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63367,84192,11048,8470,e=>{"use strict";var t;let a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function r(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}let n={date:r({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:r({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:r({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return(t,a)=>{let r;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,n=a?.width?String(a.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{let t=e.defaultWidth,n=a?.width?String(a.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function o(e){return(t,a={})=>{let r,n=a.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;let o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(l,e=>e.test(o)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(l,e=>e.test(o));return r=e.valueCallback?e.valueCallback(d):d,{value:r=a.valueCallback?a.valueCallback(r):r,rest:t.slice(o.length)}}}let l={code:"en-US",formatDistance:(e,t,r)=>{let n,i=a[e];if(n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),r?.addSuffix)if(r.comparison&&r.comparison>0)return"in "+n;else return n+" ago";return n},formatLong:n,formatRelative:(e,t,a,r)=>i[e],localize:{ordinalNumber:(e,t)=>{let a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(t={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,a={})=>{let r=e.match(t.matchPattern);if(!r)return null;let n=r[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:e.slice(n.length)}}),era:o({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:o({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:o({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:o({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:o({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};e.s(["enUS",0,l],84192),e.s(["defaultLocale",0,l],63367);let d={};function c(){return d}e.s(["getDefaultOptions",()=>c],11048),e.s(["millisecondsInDay",0,864e5,"millisecondsInHour",0,36e5,"millisecondsInMinute",0,6e4,"millisecondsInSecond",0,1e3,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200],8470)},35684,e=>{"use strict";function t(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}e.s(["toDate",()=>t])},21416,16766,74327,e=>{"use strict";var t=e.i(8470),a=e.i(35684);function r(e){let t=(0,a.toDate)(e);return t.setHours(0,0,0,0),t}function n(e){let t=(0,a.toDate)(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),e-r}function i(e,a){let i=r(e),s=r(a);return Math.round((i-n(i)-(s-n(s)))/t.millisecondsInDay)}e.s(["startOfDay",()=>r],16766),e.s(["getTimezoneOffsetInMilliseconds",()=>n],74327),e.s(["differenceInCalendarDays",()=>i],21416)},96226,e=>{"use strict";function t(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}e.s(["constructFrom",()=>t])},45919,67027,80390,54307,3506,58276,96161,36976,29325,86767,e=>{"use strict";var t=e.i(63367),a=e.i(11048),r=e.i(21416),n=e.i(35684),i=e.i(96226);function s(e){let t=(0,n.toDate)(e),a=(0,i.constructFrom)(e,0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}e.s(["startOfYear",()=>s],67027);var o=e.i(8470);function l(e,t){let r=(0,a.getDefaultOptions)(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=(0,n.toDate)(e),o=s.getDay();return s.setDate(s.getDate()-(7*(o<i)+o-i)),s.setHours(0,0,0,0),s}function d(e){return l(e,{weekStartsOn:1})}function c(e){let t=(0,n.toDate)(e),a=t.getFullYear(),r=(0,i.constructFrom)(e,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);let s=d(r),o=(0,i.constructFrom)(e,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);let l=d(o);return t.getTime()>=s.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function u(e){let t,a,r=(0,n.toDate)(e);return Math.round((d(r)-(t=c(r),(a=(0,i.constructFrom)(r,0)).setFullYear(t,0,4),a.setHours(0,0,0,0),d(a)))/o.millisecondsInWeek)+1}function m(e,t){let r=(0,n.toDate)(e),s=r.getFullYear(),o=(0,a.getDefaultOptions)(),d=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=(0,i.constructFrom)(e,0);c.setFullYear(s+1,0,d),c.setHours(0,0,0,0);let u=l(c,t),m=(0,i.constructFrom)(e,0);m.setFullYear(s,0,d),m.setHours(0,0,0,0);let h=l(m,t);return r.getTime()>=u.getTime()?s+1:r.getTime()>=h.getTime()?s:s-1}function h(e,t){let r,s,d,c,u=(0,n.toDate)(e);return Math.round((l(u,t)-(r=(0,a.getDefaultOptions)(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,d=m(u,t),(c=(0,i.constructFrom)(u,0)).setFullYear(d,0,s),c.setHours(0,0,0,0),l(c,t)))/o.millisecondsInWeek)+1}function f(e,t){let a=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+a}e.s(["startOfWeek",()=>l],80390),e.s(["startOfISOWeek",()=>d],54307),e.s(["getISOWeek",()=>u],3506),e.s(["getWeekYear",()=>m],58276),e.s(["getWeek",()=>h],96161);let g={y(e,t){let a=e.getFullYear(),r=a>0?a:1-a;return f("yy"===t?r%100:r,t.length)},M(e,t){let a=e.getMonth();return"M"===t?String(a+1):f(a+1,2)},d:(e,t)=>f(e.getDate(),t.length),a(e,t){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,t)=>f(e.getHours()%12||12,t.length),H:(e,t)=>f(e.getHours(),t.length),m:(e,t)=>f(e.getMinutes(),t.length),s:(e,t)=>f(e.getSeconds(),t.length),S(e,t){let a=t.length;return f(Math.trunc(e.getMilliseconds()*Math.pow(10,a-3)),t.length)}},p={G:function(e,t,a){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});default:return a.era(r,{width:"wide"})}},y:function(e,t,a){if("yo"===t){let t=e.getFullYear();return a.ordinalNumber(t>0?t:1-t,{unit:"year"})}return g.y(e,t)},Y:function(e,t,a,r){let n=m(e,r),i=n>0?n:1-n;return"YY"===t?f(i%100,2):"Yo"===t?a.ordinalNumber(i,{unit:"year"}):f(i,t.length)},R:function(e,t){return f(c(e),t.length)},u:function(e,t){return f(e.getFullYear(),t.length)},Q:function(e,t,a){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return f(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,a){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return f(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,a){let r=e.getMonth();switch(t){case"M":case"MM":return g.M(e,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,a){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return f(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,a,r){let n=h(e,r);return"wo"===t?a.ordinalNumber(n,{unit:"week"}):f(n,t.length)},I:function(e,t,a){let r=u(e);return"Io"===t?a.ordinalNumber(r,{unit:"week"}):f(r,t.length)},d:function(e,t,a){return"do"===t?a.ordinalNumber(e.getDate(),{unit:"date"}):g.d(e,t)},D:function(e,t,a){let i,o=(i=(0,n.toDate)(e),(0,r.differenceInCalendarDays)(i,s(i))+1);return"Do"===t?a.ordinalNumber(o,{unit:"dayOfYear"}):f(o,t.length)},E:function(e,t,a){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,a,r){let n=e.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return f(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,a,r){let n=e.getDay(),i=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return f(i,t.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,a){let r=e.getDay(),n=0===r?7:r;switch(t){case"i":return String(n);case"ii":return f(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,a){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){let r,n=e.getHours();switch(r=12===n?"noon":0===n?"midnight":n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,a){let r,n=e.getHours();switch(r=n>=17?"evening":n>=12?"afternoon":n>=4?"morning":"night",t){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,a){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return g.h(e,t)},H:function(e,t,a){return"Ho"===t?a.ordinalNumber(e.getHours(),{unit:"hour"}):g.H(e,t)},K:function(e,t,a){let r=e.getHours()%12;return"Ko"===t?a.ordinalNumber(r,{unit:"hour"}):f(r,t.length)},k:function(e,t,a){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?a.ordinalNumber(r,{unit:"hour"}):f(r,t.length)},m:function(e,t,a){return"mo"===t?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):g.m(e,t)},s:function(e,t,a){return"so"===t?a.ordinalNumber(e.getSeconds(),{unit:"second"}):g.s(e,t)},S:function(e,t){return g.S(e,t)},X:function(e,t,a){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return w(r);case"XXXX":case"XX":return b(r);default:return b(r,":")}},x:function(e,t,a){let r=e.getTimezoneOffset();switch(t){case"x":return w(r);case"xxxx":case"xx":return b(r);default:return b(r,":")}},O:function(e,t,a){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+x(r,":");default:return"GMT"+b(r,":")}},z:function(e,t,a){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+x(r,":");default:return"GMT"+b(r,":")}},t:function(e,t,a){return f(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,a){return f(e.getTime(),t.length)}};function x(e,t=""){let a=e>0?"-":"+",r=Math.abs(e),n=Math.trunc(r/60),i=r%60;return 0===i?a+String(n):a+String(n)+t+f(i,2)}function w(e,t){return e%60==0?(e>0?"-":"+")+f(Math.abs(e)/60,2):b(e,t)}function b(e,t=""){let a=Math.abs(e);return(e>0?"-":"+")+f(Math.trunc(a/60),2)+t+f(a%60,2)}let v=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},y=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},M={p:y,P:(e,t)=>{let a,r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return v(e,t);switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",v(n,t)).replace("{{time}}",y(i,t))}};e.s(["longFormatters",0,M],36976);let j=/^D+$/,D=/^Y+$/,N=["D","DD","YY","YYYY"];function k(e){return j.test(e)}function S(e){return D.test(e)}function T(e,t,a){var r,n,i;let s,o=(r=e,n=t,i=a,s="Y"===r[0]?"years":"days of the month",`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`);if(console.warn(o),N.includes(e))throw RangeError(o)}function I(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}e.s(["isProtectedDayOfYearToken",()=>k,"isProtectedWeekYearToken",()=>S,"warnOrThrowProtectedError",()=>T],29325),e.s(["isDate",()=>I],86767);let P=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F=/^'([^]*?)'?$/,O=/''/g,W=/[a-zA-Z]/;function Y(e,r,i){let s=(0,a.getDefaultOptions)(),o=i?.locale??s.locale??t.defaultLocale,l=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,d=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,c=(0,n.toDate)(e);if(!((I(c)||"number"==typeof c)&&!isNaN(Number((0,n.toDate)(c)))))throw RangeError("Invalid time value");let u=r.match(C).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,M[t])(e,o.formatLong):e}).join("").match(P).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var a;let t;return{isToken:!1,value:(t=(a=e).match(F))?t[1].replace(O,"'"):a}}if(p[t])return{isToken:!0,value:e};if(t.match(W))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});o.localize.preprocessor&&(u=o.localize.preprocessor(c,u));let m={firstWeekContainsDate:l,weekStartsOn:d,locale:o};return u.map(t=>{if(!t.isToken)return t.value;let a=t.value;return(!i?.useAdditionalWeekYearTokens&&S(a)||!i?.useAdditionalDayOfYearTokens&&k(a))&&T(a,r,String(e)),(0,p[a[0]])(c,a,o.localize,m)}).join("")}e.s(["format",()=>Y],45919)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},90281,e=>{"use strict";e.i(36180);var t=e.i(17875);let a=async({toUserId:e,type:a,firestore:r,senderName:n,propertyName:i,propertyTitle:s,tenantName:o,link:l,transactionId:d,customMessage:c})=>{let u="New Notification",m="",h="info",f=l||"#";"OFFLINE_PAYMENT_PENDING"===a&&(u="Offline Payment Submitted",m=`${o||"A tenant"} has submitted an offline payment for ${s||"a property"}. Please verify and accept the transfer in Lease Requests.`,h="warning",f="/landlord/requests");try{let a=(0,t.collection)(r,"notifications");await (0,t.addDoc)(a,{userId:e,title:u,message:m,type:h,read:!1,createdAt:new Date().toISOString(),link:f})}catch(e){console.error("Failed to send notification:",e)}};e.s(["sendNotification",0,a])},24687,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(4829);let n=a.forwardRef(({className:e,...a},n)=>(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...a}));n.displayName="Textarea",e.s(["Textarea",()=>n])},14764,e=>{"use strict";let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},5899,23914,e=>{"use strict";let t=(0,e.i(75254).default)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);e.s(["Flag",()=>t],5899);var a=e.i(43476),r=e.i(71645),n=e.i(76639),i=e.i(19455),s=e.i(24687),o=e.i(67489),l=e.i(10204),d=e.i(31278),c=e.i(74911);e.i(11981);var u=e.i(61480);e.i(36180);var m=e.i(17875);function h({isOpen:e,onClose:h,reportedUserId:f,reportedUserName:g}){let{user:p}=(0,u.useUser)(),x=(0,u.useFirestore)(),{toast:w}=(0,c.useToast)(),[b,v]=(0,r.useState)(""),[y,M]=(0,r.useState)(""),[j,D]=(0,r.useState)(!1),N=async()=>{if(!b)return void w({variant:"destructive",description:"Please select a reason for reporting."});if(!y||y.length<10)return void w({variant:"destructive",description:"Please provide a description of at least 10 characters."});if(!p)return void w({variant:"destructive",description:"You must be logged in to report a user."});D(!0);try{await (0,m.addDoc)((0,m.collection)(x,"userReports"),{reporterId:p.uid,reportedUserId:f,reportedUserName:g,reason:b,description:y,status:"pending",createdAt:(0,m.serverTimestamp)()}),w({description:"Report submitted successfully. We will investigate."}),h(),v(""),M("")}catch(e){console.error("Error submitting report:",e),w({variant:"destructive",description:"Failed to submit report. Please try again."})}finally{D(!1)}};return(0,a.jsx)(n.Dialog,{open:e,onOpenChange:e=>!e&&h(),children:(0,a.jsxs)(n.DialogContent,{className:"sm:max-w-[425px] w-[95vw] rounded-2xl border-2 border-destructive/20",children:[(0,a.jsxs)(n.DialogHeader,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-destructive mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-destructive/10 rounded-full",children:(0,a.jsx)(t,{className:"h-5 w-5"})}),(0,a.jsx)(n.DialogTitle,{className:"text-xl font-black uppercase tracking-tight",children:"Report User"})]}),(0,a.jsxs)(n.DialogDescription,{children:["You are reporting ",(0,a.jsx)("span",{className:"font-bold text-foreground",children:g}),". This action is serious and will be reviewed by our team."]})]}),(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"reason",className:"text-xs font-black uppercase tracking-widest text-muted-foreground/80",children:"Reason"}),(0,a.jsxs)(o.Select,{onValueChange:v,value:b,children:[(0,a.jsx)(o.SelectTrigger,{id:"reason",className:"h-12 rounded-xl bg-muted/20 border-transparent focus:ring-0 font-medium",children:(0,a.jsx)(o.SelectValue,{placeholder:"Select a reason"})}),(0,a.jsxs)(o.SelectContent,{className:"rounded-xl font-medium",children:[(0,a.jsx)(o.SelectItem,{value:"spam",children:"Spam or Scam"}),(0,a.jsx)(o.SelectItem,{value:"harassment",children:"Harassment or Bullying"}),(0,a.jsx)(o.SelectItem,{value:"inappropriate",children:"Inappropriate Content"}),(0,a.jsx)(o.SelectItem,{value:"fake",children:"Fake Account"}),(0,a.jsx)(o.SelectItem,{value:"other",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"description",className:"text-xs font-black uppercase tracking-widest text-muted-foreground/80",children:"Description"}),(0,a.jsx)(s.Textarea,{id:"description",placeholder:"Please provide specific details...",value:y,onChange:e=>M(e.target.value),className:"min-h-[120px] rounded-xl bg-muted/20 border-transparent focus-visible:ring-0 resize-none p-4 font-medium"})]})]}),(0,a.jsxs)(n.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,a.jsx)(i.Button,{variant:"ghost",onClick:h,disabled:j,className:"rounded-xl font-bold",children:"Cancel"}),(0,a.jsx)(i.Button,{onClick:N,disabled:j,variant:"destructive",className:"rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-destructive/20",children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"})," Submitting..."]}):"Submit Report"})]})]})})}e.s(["ReportUserDialog",()=>h],23914)},1159,e=>{"use strict";var t=e.i(35684);function a(e,a){let r=(0,t.toDate)(e),n=(0,t.toDate)(a);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}e.s(["differenceInCalendarMonths",()=>a])},28880,e=>{"use strict";var t=e.i(35684);function a(e){let a=(0,t.toDate)(e),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}e.s(["endOfMonth",()=>a])},23585,9637,e=>{"use strict";let t=(0,e.i(75254).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],23585);var a=e.i(96226),r=e.i(35684);function n(e,t){let a=(0,r.toDate)(e),n=(0,r.toDate)(t),i=a.getTime()-n.getTime();return i<0?-1:i>0?1:i}var i=e.i(8470),s=e.i(1159),o=e.i(28880),l=e.i(63367),d=e.i(11048),c=e.i(74327);function u(e,t){return function(e,t,a){var u,m,h;let f,g,p,x=(0,d.getDefaultOptions)(),w=a?.locale??x.locale??l.defaultLocale,b=n(e,t);if(isNaN(b))throw RangeError("Invalid time value");let v=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:b});b>0?(f=(0,r.toDate)(t),g=(0,r.toDate)(e)):(f=(0,r.toDate)(e),g=(0,r.toDate)(t));let y=(u=g,m=f,(h=void 0,e=>{let t=(h?Math[h]:Math.trunc)(e);return 0===t?0:t})(((0,r.toDate)(u)-(0,r.toDate)(m))/1e3)),M=Math.round((y-((0,c.getTimezoneOffsetInMilliseconds)(g)-(0,c.getTimezoneOffsetInMilliseconds)(f))/1e3)/60);if(M<2)if(a?.includeSeconds)if(y<5)return w.formatDistance("lessThanXSeconds",5,v);else if(y<10)return w.formatDistance("lessThanXSeconds",10,v);else if(y<20)return w.formatDistance("lessThanXSeconds",20,v);else if(y<40)return w.formatDistance("halfAMinute",0,v);else if(y<60)return w.formatDistance("lessThanXMinutes",1,v);else return w.formatDistance("xMinutes",1,v);else if(0===M)return w.formatDistance("lessThanXMinutes",1,v);else return w.formatDistance("xMinutes",M,v);if(M<45)return w.formatDistance("xMinutes",M,v);if(M<90)return w.formatDistance("aboutXHours",1,v);if(M<i.minutesInDay){let e=Math.round(M/60);return w.formatDistance("aboutXHours",e,v)}if(M<2520)return w.formatDistance("xDays",1,v);else if(M<i.minutesInMonth){let e=Math.round(M/i.minutesInDay);return w.formatDistance("xDays",e,v)}else if(M<2*i.minutesInMonth)return p=Math.round(M/i.minutesInMonth),w.formatDistance("aboutXMonths",p,v);if((p=function(e,t){let a,i=(0,r.toDate)(e),l=(0,r.toDate)(t),d=n(i,l),c=Math.abs((0,s.differenceInCalendarMonths)(i,l));if(c<1)a=0;else{var u;let t,s;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-d*c);let m=n(i,l)===-d;u=(0,r.toDate)(e),+(t=(0,r.toDate)(u),(s=(0,r.toDate)(t)).setHours(23,59,59,999),s)==+(0,o.endOfMonth)(t)&&1===c&&1===n(e,l)&&(m=!1),a=d*(c-Number(m))}return 0===a?0:a}(g,f))<12){let e=Math.round(M/i.minutesInMonth);return w.formatDistance("xMonths",e,v)}{let e=p%12,t=Math.trunc(p/12);return e<3?w.formatDistance("aboutXYears",t,v):e<9?w.formatDistance("overXYears",t,v):w.formatDistance("almostXYears",t+1,v)}}(e,(0,a.constructFrom)(e,Date.now()),t)}e.s(["formatDistanceToNow",()=>u],9637)},21346,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),n=e.i(4829),i=e.i(14764),s=e.i(55436),o=e.i(86311),l=e.i(23585),d=e.i(71689),c=e.i(5899);e.i(11981);var u=e.i(61480),m=e.i(80428),h=e.i(41899);e.i(36180);var f=e.i(17875),g=e.i(90392),p=e.i(90281),x=e.i(15288),w=e.i(93479),b=e.i(99676),v=e.i(19455),y=e.i(45919),M=e.i(9637),j=e.i(23914),D=e.i(55146);function N(){let{user:e,isUserLoading:N}=(0,u.useUser)(),k=(0,u.useFirestore)(),S=(0,r.useRouter)(),T=(0,r.usePathname)(),I=(0,r.useSearchParams)(),[P,C]=(0,a.useState)(!1),[F,O]=(0,a.useState)([]),[W,Y]=(0,a.useState)(null),[E,A]=(0,a.useState)(!1),[H,L]=(0,a.useState)(!0),[q,z]=(0,a.useState)(""),[U,X]=(0,a.useState)(""),[B,R]=(0,a.useState)(null),[G,Q]=(0,a.useState)(!0),$=(0,a.useRef)(null),V=()=>{$.current?.scrollIntoView({behavior:"smooth"})},J=I.get("conversationId"),_=I.get("contact");(0,a.useEffect)(()=>{(J||_)&&Q(!1)},[J,_]);let{data:K}=(0,h.useDoc)((0,u.useMemoFirebase)(()=>_?(0,f.doc)(k,"users",_):null,[_,k])),Z=(0,u.useMemoFirebase)(()=>e?(0,f.doc)(k,"users",e.uid):null,[e,k]),{data:ee}=(0,h.useDoc)(Z);(0,a.useEffect)(()=>{A(!0)},[]);let et=(0,u.useMemoFirebase)(()=>e?(0,f.query)((0,f.collection)(k,"messages"),(0,f.where)("participantIds","array-contains",e.uid)):null,[k,e]),{data:ea,isLoading:er}=(0,m.useCollection)(et);(0,a.useEffect)(()=>{N||er||(e?(async()=>{L(!0);let t=new Map;(ea||[]).forEach(a=>{let r=a.participantIds.find(t=>t!==e.uid);r&&(!t.has(r)||a.timestamp&&t.get(r).lastMessage.timestamp&&a.timestamp.toMillis()>t.get(r).lastMessage.timestamp.toMillis())&&t.set(r,{lastMessage:a,participantId:r})});let a=new Set(Array.from(t.keys())),r=(0,f.query)((0,f.collection)(k,"properties"),(0,f.where)("currentTenantId","==",e.uid),(0,f.limit)(1)),n=await (0,f.getDocs)(r);if(!n.empty){let e=n.docs[0].data();a.add(e.landlordId)}if(K&&a.add(K.id),0===a.size){O([]),L(!1);return}let i=Array.from(a),s=(0,f.query)((0,f.collection)(k,"users"),(0,f.where)((0,f.documentId)(),"in",i)),o=await (0,f.getDocs)(s),l=new Map;o.forEach(e=>l.set(e.id,{id:e.id,...e.data()}));let d=i.map(a=>{let r=l.get(a);if(!r)return null;let n=t.get(a),i=(ea||[]).filter(t=>t.participantIds.includes(a)&&!1===t.read&&t.senderId!==e.uid).length;return{id:a,participant:r,otherUser:r,lastMessage:n?.lastMessage||null,lastMessageTimestamp:n?.lastMessage.timestamp?.toDate()||new Date(0),unreadCount:i}}).filter(Boolean);d.sort((e,t)=>(t.lastMessageTimestamp?.getTime()||0)-(e.lastMessageTimestamp?.getTime()||0)),O(d),L(!1)})():L(!1))},[e,k,K,N,ea,er]);let en=(0,a.useMemo)(()=>ea&&W?ea.filter(e=>e.participantIds.includes(W.id)).sort((e,t)=>e.timestamp&&t.timestamp?e.timestamp.toMillis()-t.timestamp.toMillis():0):[],[ea,W]);(0,a.useEffect)(()=>{if(J){let e=F.find(e=>e.id===J)?.participant;e&&(Y(e),R(J))}else _&&K&&(Y(K),R(_))},[J,_,F,K]),(0,a.useEffect)(()=>{e&&W&&k&&ea&&(async()=>{let e=ea.filter(e=>e.participantIds.includes(W.id)&&!1===e.read&&e.senderId===W.id);if(0===e.length)return;let t=(0,f.writeBatch)(k);e.forEach(e=>{let a=(0,f.doc)(k,"messages",e.id);t.update(a,{read:!0})});try{await t.commit()}catch(e){console.error("Error marking messages as read:",e)}})()},[W,e,k,ea]),(0,a.useEffect)(()=>{$.current&&V()},[en]);let ei=F.find(e=>e.id===B),es=F.filter(e=>e.participant.name?.toLowerCase().includes(q.toLowerCase()));return N||H?(0,t.jsx)(g.default,{}):(0,t.jsxs)("div",{className:"flex h-[calc(100dvh-7rem)] md:h-[calc(100vh-8rem)] gap-0 md:gap-8 animate-in fade-in duration-700 overflow-hidden -mt-4 md:mt-0",children:[(0,t.jsxs)("div",{className:(0,n.cn)("w-full md:w-80 lg:w-96 flex-shrink-0 flex flex-col gap-4 md:gap-6 transition-all duration-300",!G&&"hidden md:flex"),children:[(0,t.jsxs)("div",{className:"px-2",children:[(0,t.jsxs)("h1",{className:"text-2xl md:text-3xl font-black uppercase tracking-tight",children:["Messages",(0,t.jsx)("span",{className:"text-primary",children:"."})]}),(0,t.jsx)("p",{className:"text-[10px] md:text-sm font-medium text-muted-foreground mt-1 text-left",children:"Your direct connection to landlords."})]}),(0,t.jsxs)(x.Card,{className:"flex-1 flex flex-col rounded-[2rem] md:rounded-[2.5rem] border-2 border-white/40 shadow-xl shadow-black/[0.02] overflow-hidden bg-white/60 backdrop-blur-xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-muted/20",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(s.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/40 group-focus-within:text-primary transition-colors"}),(0,t.jsx)(w.Input,{placeholder:"Search conversations...",className:"pl-12 h-12 rounded-2xl border-none bg-muted/20 focus:bg-white focus:ring-4 focus:ring-primary/10 transition-all font-bold",value:q,onChange:e=>z(e.target.value)})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:H?(0,t.jsx)("div",{className:"space-y-4 p-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex gap-4 items-center animate-pulse",children:[(0,t.jsx)("div",{className:"h-14 w-14 rounded-2xl bg-muted/40"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-1/2 bg-muted/40 rounded-full"}),(0,t.jsx)("div",{className:"h-3 w-3/4 bg-muted/40 rounded-full"})]})]},e))}):0===es.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center space-y-4",children:[(0,t.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-muted/20 flex items-center justify-center",children:(0,t.jsx)(o.MessageSquare,{className:"h-8 w-8 text-muted-foreground/20"})}),(0,t.jsx)("p",{className:"text-sm font-black text-muted-foreground uppercase tracking-widest leading-relaxed",children:"No conversations found"})]}):es.map(a=>{let r=a.unreadCount>0;return(0,t.jsxs)("button",{onClick:()=>{R(a.id),Q(!1),S.replace(`${T}?conversationId=${a.id}`,{scroll:!1})},className:(0,n.cn)("w-full flex gap-4 items-center p-3 md:p-4 rounded-2xl md:rounded-3xl transition-all duration-300 border-2 relative",B===a.id?"bg-white border-primary/10 shadow-lg scale-[1.02]":r?"bg-primary/5 border-primary/20 hover:bg-primary/10 hover:border-primary/30":"border-transparent hover:bg-white/40 hover:border-white/60 grayscale-[0.5] hover:grayscale-0"),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(b.Avatar,{className:"h-14 w-14 rounded-2xl border-2 border-background shadow-sm",children:[(0,t.jsx)(b.AvatarImage,{src:a.otherUser?.profileImageUrl,className:"object-cover"}),(0,t.jsx)(b.AvatarFallback,{className:(0,n.cn)("text-xl font-black",r?"bg-primary/10 text-primary":"bg-primary/5 text-primary"),children:a.otherUser?.name?.[0]||"U"})]}),r&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-primary rounded-full border-2 border-white flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-[10px] font-black text-white",children:a.unreadCount})})]}),(0,t.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-0.5",children:[(0,t.jsx)("h3",{className:(0,n.cn)("font-black text-xs uppercase tracking-tight truncate pr-2",r&&"text-primary"),children:a.otherUser?.name||"Unknown User"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-muted-foreground/40 whitespace-nowrap",children:a.lastMessage?.timestamp?(0,M.formatDistanceToNow)(new Date(a.lastMessage.timestamp.toDate()),{addSuffix:!1}):""})]}),(0,t.jsxs)("p",{className:"text-xs font-medium truncate pr-4 leading-tight w-full overflow-hidden text-ellipsis whitespace-nowrap",children:[a.lastMessage?.senderId===e?.uid?"You: ":"",a.lastMessage?.text||"No messages yet"]})]})]},a.id)})})]})]}),(0,t.jsx)("div",{className:(0,n.cn)("flex-1 h-full",G&&"hidden md:block"),children:B?(0,t.jsxs)(x.Card,{className:"h-full flex flex-col rounded-none md:rounded-[3rem] border-0 md:border-2 border-white/40 shadow-2xl shadow-black/[0.03] bg-white overflow-hidden relative",children:[(0,t.jsxs)("div",{className:"p-4 md:p-8 border-b-2 border-muted/5 flex items-center justify-between bg-white text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 md:gap-6",children:[(0,t.jsx)(v.Button,{variant:"ghost",size:"icon",className:"md:hidden h-10 w-10 rounded-xl",onClick:()=>{Q(!0),S.replace(T,{scroll:!1})},children:(0,t.jsx)(d.ArrowLeft,{className:"h-5 w-5"})}),(0,t.jsxs)(b.Avatar,{className:"h-10 w-10 md:h-16 md:w-16 rounded-xl md:rounded-[1.25rem] border-2 border-primary/5 shadow-md",children:[(0,t.jsx)(b.AvatarImage,{src:ei?.otherUser?.profileImageUrl,className:"object-cover"}),(0,t.jsx)(b.AvatarFallback,{className:"bg-muted text-xl md:text-2xl font-black",children:ei?.otherUser?.name?.[0]})]}),(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,t.jsx)("h2",{className:"text-base md:text-xl font-black uppercase tracking-tight leading-none truncate max-w-[150px] md:max-w-none",children:ei?.otherUser?.name}),(0,t.jsx)("div",{className:"h-1 md:h-1.5 w-1 md:w-1.5 rounded-full bg-green-500 shadow-[0_0_12px_rgba(34,197,94,0.5)]"})]}),(0,t.jsx)("p",{className:"text-[7px] md:text-[10px] font-bold text-muted-foreground/40 uppercase tracking-[0.1em]",children:"Verified Landlord Connection"})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(D.DropdownMenu,{children:[(0,t.jsx)(D.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(v.Button,{variant:"ghost",size:"icon",className:"h-10 w-10 md:h-12 md:w-12 rounded-xl md:rounded-2xl hover:bg-muted/30 transition-all text-muted-foreground",children:(0,t.jsx)(l.MoreVertical,{className:"h-5 w-5"})})}),(0,t.jsx)(D.DropdownMenuContent,{align:"end",className:"w-48 rounded-xl",children:(0,t.jsxs)(D.DropdownMenuItem,{className:"text-destructive focus:text-destructive focus:bg-destructive/10 font-bold cursor-pointer",onClick:()=>C(!0),children:[(0,t.jsx)(c.Flag,{className:"mr-2 h-4 w-4"}),"Report Landlord"]})})]})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 md:p-10 space-y-6 md:space-y-8 custom-scrollbar relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-fixed opacity-[0.03] pointer-events-none"}),(0,t.jsxs)("div",{className:"relative z-10 space-y-6 md:space-y-8",children:[Object.entries(en.reduce((e,t)=>{let a=(0,y.format)(t.timestamp?t.timestamp.toDate():new Date,"MMMM d, yyyy");return e[a]||(e[a]=[]),e[a].push(t),e},{})).map(([a,r])=>(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex justify-center py-4 relative",children:[(0,t.jsx)("div",{className:"absolute inset-x-0 top-1/2 h-px bg-muted/10"}),(0,t.jsx)("span",{className:"relative z-10 px-6 py-2 rounded-full bg-white border-2 border-muted/5 text-[10px] font-black uppercase tracking-[0.2em] shadow-sm",children:a})]}),r.map(a=>(0,t.jsxs)("div",{className:(0,n.cn)("flex gap-4 max-w-[85%] animate-in slide-in-from-bottom-2 duration-500",a.senderId===e?.uid?"ml-auto flex-row-reverse":"mr-auto"),children:[(0,t.jsxs)(b.Avatar,{className:"h-10 w-10 flex-shrink-0 rounded-xl mt-1 shadow-sm border-2 border-white",children:[(0,t.jsx)(b.AvatarImage,{src:a.senderId===e?.uid?ee?.profileImageUrl:W?.profileImageUrl,className:"object-cover"}),(0,t.jsx)(b.AvatarFallback,{className:"text-[10px] font-black",children:a.senderId===e?.uid?"ME":"U"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:(0,n.cn)("p-6 rounded-[2rem] text-sm font-medium leading-relaxed shadow-xl transition-all hover:scale-[1.01]",a.senderId===e?.uid?"bg-foreground text-white rounded-tr-none shadow-black/10":"bg-white border-2 border-muted/10 text-foreground rounded-tl-none shadow-black/5"),children:a.text}),(0,t.jsxs)("p",{className:(0,n.cn)("text-[8px] font-bold text-muted-foreground/30 uppercase tracking-widest",a.senderId===e?.uid?"text-right":"text-left"),children:[(0,y.format)(a.timestamp?a.timestamp.toDate():new Date,"HH:mm")," â€¢ ",a.senderId===e?.uid?"Delivered":"Received"]})]})]},a.id))]},a)),(0,t.jsx)("div",{ref:$})]})]}),(0,t.jsx)("div",{className:"p-4 md:p-8 border-t-2 border-muted/5 bg-white relative",children:(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(()=>{if(!U.trim()||!e||!W||!k)return;let t=(0,f.collection)(k,"messages"),a={text:U,senderId:e.uid,recipientId:W.id,participantIds:[e.uid,W.id].sort(),timestamp:(0,f.serverTimestamp)(),read:!1};(0,f.addDoc)(t,a).then(()=>(X(""),V(),(0,p.sendNotification)({toUserId:W.id,type:"NEW_MESSAGE",firestore:k,senderName:e.displayName||"Tenant",customMessage:U,link:`/landlord/messages?conversationId=${e.uid}`}))).catch(e=>{console.error("FAILED_TO_SEND_MESSAGE",e),alert(`Failed to send message: ${e.message||"Unknown error"}`)})})()},className:"relative",children:[(0,t.jsx)(w.Input,{placeholder:"Draft your message...",className:"h-14 md:h-20 rounded-2xl md:rounded-[2.5rem] border-2 bg-muted/5 pl-6 md:pl-8 pr-20 md:pr-28 text-sm font-medium focus:bg-white focus:ring-8 focus:ring-primary/5 transition-all shadow-inner placeholder:text-muted-foreground/40",value:U,onChange:e=>X(e.target.value)}),(0,t.jsx)(v.Button,{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 h-10 md:h-14 px-4 md:px-8 rounded-xl md:rounded-full bg-primary hover:bg-primary/90 text-white shadow-xl shadow-primary/20 transition-all active:scale-95 disabled:opacity-50 disabled:scale-100",disabled:!U.trim(),children:(0,t.jsx)(i.Send,{className:"h-4 w-4 md:h-5 md:w-5"})})]})})]}):(0,t.jsxs)(x.Card,{className:"h-full flex flex-col items-center justify-center rounded-[2rem] md:rounded-[3rem] border-2 border-dashed border-muted/10 bg-muted/5 p-8 md:p-20 text-center space-y-6 md:space-y-8 animate-in zoom-in duration-700",children:[(0,t.jsxs)("div",{className:"h-20 w-20 md:h-32 md:w-32 rounded-2xl md:rounded-[2.5rem] bg-white shadow-2xl flex items-center justify-center mx-auto relative group overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-primary/5 rounded-2xl md:rounded-[2.5rem] animate-pulse"}),(0,t.jsx)(o.MessageSquare,{className:"h-8 w-8 md:h-14 md:w-14 text-muted-foreground/20 group-hover:scale-110 transition-transform duration-500"})]}),(0,t.jsxs)("div",{className:"space-y-2 md:space-y-3",children:[(0,t.jsxs)("h3",{className:"text-xl md:text-3xl font-black uppercase tracking-tight",children:["Channel ",(0,t.jsx)("span",{className:"text-primary",children:"Hibernated"})]}),(0,t.jsx)("p",{className:"text-sm md:text-lg text-muted-foreground font-medium max-w-sm mx-auto leading-relaxed",children:"Select a landlord thread to initiate communication."})]})]})}),ei&&ei.otherUser&&(0,t.jsx)(j.ReportUserDialog,{isOpen:P,onClose:()=>C(!1),reportedUserId:ei.otherUser.id,reportedUserName:ei.otherUser.name})]})}e.s(["default",()=>N])}]);